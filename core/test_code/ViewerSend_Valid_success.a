message M {
  int x;
}

public bool sent;
public bool went;

channel foo(M m) {
  sent = ViewState.merge({error:true, invalid_x:true}.to_dynamic());
}

channel go(M m) {
  went = ViewState.goto("/");
}