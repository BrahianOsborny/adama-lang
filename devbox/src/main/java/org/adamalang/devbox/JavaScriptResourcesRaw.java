/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwogIHZhciBzZXR0bGVJZCA9IDA7CiAgdmFyIHNldHRsZW1lbnRzID0ge307CgogIC8v");
    sb.append("IGludm9rZSBhbGwgdGhlIHNldHRsZSBzdWJzY3JpcHRpb25zCiAgdmFyIHNldHRsZSA9IGZ1bmN0aW9u");
    sb.append("KCkgewogICAgdmFyIGF4ZSA9IFtdOwogICAgZm9yICh2YXIgayBpbiBzZXR0bGVtZW50cykgewogICAg");
    sb.append("ICB2YXIgcmVzdWx0ID0gc2V0dGxlbWVudHNba10oKTsKICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAg");
    sb.append("ICAvLyBpZiB0aGUgcmVzdWx0IGlzbid0IHRydWUsIHRoZW4gdW5zdWJzY3JpYmUKICAgICAgICBheGUu");
    sb.append("cHVzaChrKTsKICAgICAgfQogICAgfQogICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgZGVsZXRlIHNldHRsZW1lbnRzW2tdOwogICAgfQogIH07CgogIHZhciBjbG9uZV9v");
    sb.append("YmplY3QgPSBmdW5jdGlvbiAob2JqKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAg");
    sb.append("IHZhciBuZXh0ID0gW107CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb2JqLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgbmV4dC5wdXNoKGNsb25lX29iamVjdChvYmpba10pKTsKICAgICAgfQogICAgICByZXR1");
    sb.append("cm4gbmV4dDsKICAgIH0gZWxzZSBpZiAodHlwZW9mIChvYmopID09ICJvYmplY3QiKSB7CiAgICAgIHZh");
    sb.append("ciBuZXh0ID0ge307CiAgICAgIGZvciAoa2V5IGluIG9iaikgewogICAgICAgIGlmIChrZXlbMF0gPT0g");
    sb.append("IiMiIHx8IGtleSA9PSAiX19rZXkiIHx8IGtleSA9PSAiQG8iIHx8IGtleSA9PSAiQHMiKSBjb250aW51");
    sb.append("ZTsKICAgICAgICBuZXh0W2tleV0gPSBjbG9uZV9vYmplY3Qob2JqW2tleV0pOwogICAgICB9CiAgICAg");
    sb.append("IHJldHVybiBuZXh0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9OwoKICB0");
    sb.append("aGlzLm51a2UgPSBmdW5jdGlvbiAoKSB7CiAgICBhbGxfc3Vic2NyaXB0aW9ucyA9IHt9OwogIH07Cgog");
    sb.append("IHRoaXMuY29weSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBjbG9uZV9vYmplY3Qocm9vdCk7CiAg");
    sb.append("fTsKCiAgdGhpcy5zdHIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocm9v");
    sb.append("dCk7CiAgfTsKCiAgdGhpcy5yYXcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcm9vdDsKICB9OwoK");
    sb.append("ICAvLyBmaWx0ZXIgdGhlIHN1YnNjcmlwdGlvbnMgdG8gdGhlIG9uZXMgdGhhdCBoYXZlIHRoZSBrZXkK");
    sb.append("ICB2YXIgc3ViID0gZnVuY3Rpb24gKHMsIGtleSkgewogICAgLy8gaWYgd2UgaGF2ZSBub3RoaW5nLCB0");
    sb.append("aGVuIHdlIHJldHVybiBub3RoaW5nCiAgICBpZiAocy5sZW5ndGggPT0gMCkgewogICAgICByZXR1cm4g");
    sb.append("czsKICAgIH0KICAgIC8vIG1ha2UgYSBuZXcgYXJyYXkKICAgIHZhciBuID0gW107CiAgICBmb3IgKHZh");
    sb.append("ciBrID0gMDsgayA8IHMubGVuZ3RoOyBrKyspIHsgLy8gc3VjaCB0aGF0IGV2ZXJ5IGVsZW1lbnQKICAg");
    sb.append("ICAgaWYgKGtleSBpbiBzW2tdKSB7IC8vIHdoaWNoIGNvbnRhaW5zIHRoZSBrZXkKICAgICAgICBuLnB1");
    sb.append("c2goc1trXVtrZXldKTsgLy8gaXMgYWRkZWQgdG8gdGhlIG5ldyBhcnJheQogICAgICB9CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gbjsKICB9OwoKICAvLyBmaXJlIGV2ZW50cyBhdCB0aGUgY3VycmVudCBzdWJzY3JpcHRp");
    sb.append("b24KICB2YXIgZmlyZSA9IGZ1bmN0aW9uIChzLCB2YWx1ZSwgZXZlbnRzKSB7CiAgICAvLyBmb3IgZWFj");
    sb.append("aCBzdWJzY3JpcHRpb24KICAgIGZvciAodmFyIGogPSAwOyBqIDwgcy5sZW5ndGg7IGorKykgewogICAg");
    sb.append("ICB2YXIgdiA9IHNbal07CiAgICAgIC8vIGlmIGl0IGhhcyBldmVudHMKICAgICAgaWYgKCJAZSIgaW4g");
    sb.append("dikgewogICAgICAgIC8vIGZpcmUgZWFjaCBldmVudAogICAgICAgIHZhciBldnRzID0gdlsiQGUiXTsK");
    sb.append("ICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2dHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGV2");
    sb.append("ZW50cy5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5mKHRoaXMudik7CiAgICAgICAg");
    sb.append("ICB9LmJpbmQoeyBmOiBldnRzW2tdLCB2OiB2YWx1ZSB9KSk7CiAgICAgICAgfQogICAgICB9CiAgICB9");
    sb.append("CiAgfTsKCiAgdmFyIHdlYXZlID0gZnVuY3Rpb24gKHMsIGNhbGxiYWNrLCBrZXkpIHsKICAgIGlmIChB");
    sb.append("cnJheS5pc0FycmF5KGNhbGxiYWNrKSkgewogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNr");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgd2VhdmUocywgY2FsbGJhY2tba10sIGtleSk7CiAgICAgIH0K");
    sb.append("ICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gImZ1bmN0aW9uIikgewogICAgICBpZiAo");
    sb.append("IShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsKICAgICAgfQogICAgICB2YXIgc2sgPSBz");
    sb.append("W2tleV07CiAgICAgIGlmICghKCJAZSIgaW4gc2spKSB7CiAgICAgICAgc2tbIkBlIl0gPSBbY2FsbGJh");
    sb.append("Y2tdOwogICAgICB9IGVsc2UgewogICAgICAgIHNrWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9");
    sb.append("CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09ICJvYmplY3QiKSB7CiAgICAgIGlmICgh");
    sb.append("KGtleSBpbiBzKSkgewogICAgICAgIHNba2V5XSA9IHt9OwogICAgICB9CiAgICAgIHZhciBzayA9IHNb");
    sb.append("a2V5XTsKICAgICAgZm9yICh2YXIgY2sgaW4gY2FsbGJhY2spIHsKICAgICAgICBpZiAoY2sgPT0gIkBl");
    sb.append("IikgewogICAgICAgICAgd2VhdmUocywgY2FsbGJhY2tbY2tdLCBrZXkpOwogICAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgICB3ZWF2ZShzaywgY2FsbGJhY2tbY2tdLCBjayk7CiAgICAgICAgfQogICAgICB9CiAg");
    sb.append("ICB9CiAgfTsKCiAgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhZGRpdGlvbgogIHZhciBmaXJlX2FkZCA9");
    sb.append("IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgcy5sZW5ndGg7IGorKykg");
    sb.append("eyAvLyBmb3IgZWFjaCBzdWJzY3JpcHRpb24KICAgICAgdmFyIHYgPSBzW2pdOwogICAgICBpZiAoIisi");
    sb.append("IGluIHYpIHsgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGFiaWxpdHkgdG8gYWRkIG5ldyBv");
    sb.append("YmplY3RzCiAgICAgICAgdmFyIHZhID0gdlsiKyJdOwogICAgICAgIGlmICgiQGUiIGluIHZhKSB7IC8v");
    sb.append("IGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnKycKICAgICAgICAgIHZhciBldmEgPSB2YVsiQGUi");
    sb.append("XTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8vIGZvciBl");
    sb.append("YWNoICcrJyBhYmlsaXR5CiAgICAgICAgICAgIHdlYXZlKHYsIGV2YVtrXShrZXkpLCBrZXkpOwogICAg");
    sb.append("ICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIGZpcmUgYSBkZWxldGUgbWVz");
    sb.append("c2FnZSBmb3IgdGhlIGdpdmVuIGtleQogIHZhciBmaXJlX2RlbCA9IGZ1bmN0aW9uIChzLCBrZXkpIHsK");
    sb.append("ICAgIGZvciAodmFyIGogPSAwOyBqIDwgcy5sZW5ndGg7IGorKykgeyAvLyBmb3IgZWFjaCBzdWJzY3Jp");
    sb.append("cHRpb24KICAgICAgdmFyIHYgPSBzW2pdOwogICAgICBpZiAoIi0iIGluIHYpIHsgLy8gaWYgdGhlIHN1");
    sb.append("YnNjcmlwdGlvbiBoYXMgdGhlIGFiaWxpdHkgdG8gZGVsZXRlIHByaW9yIGtleXMKICAgICAgICB2YXIg");
    sb.append("dmEgPSB2WyItIl07CiAgICAgICAgaWYgKCJAZSIgaW4gdmEpIHsgLy8gaWYgYXJlIGV2ZW50cyBhc3Nv");
    sb.append("Y2lhdGVkIHRvICctJwogICAgICAgICAgdmFyIGV2YSA9IHZhWyJAZSJdOwogICAgICAgICAgZm9yICh2");
    sb.append("YXIgayA9IDA7IGsgPCBldmEubGVuZ3RoOyBrKyspIHsgLy8gZm9yIGVhY2ggJy0nIGFiaWxpdHkKICAg");
    sb.append("ICAgICAgICAgZXZhW2tdKGtleSk7IC8vIGV2YWx1YXRlIHRoZSAnLScKICAgICAgICAgIH0KICAgICAg");
    sb.append("ICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBhIGRlbGV0ZSBvZiBhIHRyZWUgaGFzIGJlZW4gZGV0");
    sb.append("ZWN0ZWQsIGxldCdzCiAgdmFyIGRlbCA9IGZ1bmN0aW9uIChzKSB7CiAgICAvLyBpZiB0aGUgc3Vic2Ny");
    sb.append("aXB0aW9ucyBpcyBhbiBhcnJheSwgdGhlbiBkZWxldGUgYWxsIGNoaWxkcmVuCiAgICBpZiAoQXJyYXku");
    sb.append("aXNBcnJheShzKSkgewogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IG47IGsrKykgewogICAgICAgIGRlbChzW2tdKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBl");
    sb.append("b2YgKHMpID09ICJvYmplY3QiKSB7IC8vIG90aGVyd2lzZSwgaXRlcmF0ZSBvdmVyIHRoZSBrZXlzCiAg");
    sb.append("ICAgIGZvciAodmFyIGtleSBpbiBzKSB7CiAgICAgICAgaWYgKCEoa2V5ID09ICcrJyB8fCBrZXkgPT0g");
    sb.append("Jy0nKSkgewogICAgICAgICAgdmFyIGNoID0gc1trZXldOwogICAgICAgICAgaWYgKGtleSA9PSAiQGUi");
    sb.append("KSB7IC8vIHdlIGhhdmUgZXZlbnRzLCBzbyBsZXQncyBzZW5kIHRob3NlIGV2ZW50cy4uLgogICAgICAg");
    sb.append("ICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgY2hb");
    sb.append("al0obnVsbCk7IC8vIGEgbnVsbCB0byBpbmRpY2F0ZSBkZWxldGlvbgogICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICB9IGVsc2UgeyAvLyByZWN1cnNlIGludG8gdGhlIGNoaWxkIGZpZWxkCiAgICAgICAgICAgIGRl");
    sb.append("bChjaCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gZGVsZXRl");
    sb.append("IHRoZSBnaXZlbiBrZXkgd2l0aGluIHRoZSBzdWJzY3JpcHRpb24KICB2YXIgZGVsX2tleSA9IGZ1bmN0");
    sb.append("aW9uIChzLCBrZXkpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KHMpKSB7IC8vIGlmIHdlIGhhdmUgYW4g");
    sb.append("YXJyYXkgb2Ygc3Vic2NyaXB0aW9ucywgdGhlbiBzaW1wbHkgcmVwZWF0CiAgICAgIHZhciBuID0gcy5s");
    sb.append("ZW5ndGg7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgZGVsX2tleShz");
    sb.append("W2tdLCBrZXkpOyAvLyBmb3IgZWFjaCBlbGVtZW50CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9m");
    sb.append("IChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWJjcmlwdGlvbiBjYWxs");
    sb.append("YmFjawogICAgICBpZiAoa2V5IGluIHMpIHsgLy8gaWYgdGhlIGtleSBpcyBpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uIGNhbGxiYWNrCiAgICAgICAgZGVsZXRlIHNba2V5XTsgLy8gZGVsZXRlIGl0CiAgICAgIH0KICAg");
    sb.append("IH0KICB9OwoKICAvLyBtZXJnZSB0aGUgZ2l2ZW4gZGVsdGEgaW50byB0aGUgdHJlZSBhbmQgZmlyZSBz");
    sb.append("dWJzY3JpcHRpb25zIChzKQogIHZhciBtZXJnZSA9IGZ1bmN0aW9uICh0cmVlLCBkZWx0YSwgcywgZXZl");
    sb.append("bnRzLCBvcHRpbWFsKSB7CiAgICBpZiAob3B0aW1hbCAmJiBzLmxlbmd0aCA9PSAwKSB7CiAgICAgIC8v");
    sb.append("IG5vIHZhbHVlIGluIG1lcmdpbmcgYWdhaW5zdCBhIGZhdXggdHJlZSB3aXRob3V0IHN1YnNjcmlwdGlv");
    sb.append("bnMKICAgICAgcmV0dXJuOwogICAgfQogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7IC8vIGZvciBl");
    sb.append("YWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIjIiArIGtleTsg");
    sb.append("Ly8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0cmVlW2tleV07");
    sb.append("IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgbmV4dCA9IGRl");
    sb.append("bHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJlbnQga2V5CiAg");
    sb.append("ICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgogICAgICAgIC8v");
    sb.append("IHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBzcGVjaWFsIHRo");
    sb.append("aW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByaW9yKSkgeyAv");
    sb.append("LyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAgZGVsKHN1Yihz");
    sb.append("LCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsKICAgICAgICB9");
    sb.append("CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFsbCB0aGUgc3Vi");
    sb.append("c2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8vIGRlbGV0ZSB0");
    sb.append("aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlb2YgKG5leHQp");
    sb.append("ID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBkZWx0YSBpcyBh");
    sb.append("biBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8fCAiQG8iIGlu");
    sb.append("IG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2UgYXJyYXkgbG9n");
    sb.append("aWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJheQogICAgICAg");
    sb.append("ICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0cmVlIGhhcyBh");
    sb.append("biBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSBzZWNy");
    sb.append("ZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7fTsKICAgICAg");
    sb.append("ICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBvZiBrZXlzLCB0");
    sb.append("aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRhCiAgICAgICAg");
    sb.append("ICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAg");
    sb.append("ICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVtIHdpdGggdGhl");
    sb.append("IGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRyZWVbZUtleV07");
    sb.append("IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBpbiBxdWVzdGlv");
    sb.append("bgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8gZGV0ZWN0aW9u");
    sb.append("IG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAgICAgICAgICAg");
    sb.append("IHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91dCBfX2tleQog");
    sb.append("ICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBzdWNoIHRoYXQg");
    sb.append("dGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMgdG8gd29yawog");
    sb.append("ICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmllbGQgd2l0aGlu");
    sb.append("IHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07CiAgICAgICAg");
    sb.append("ICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3JkZXJpbmcgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAgICAgICB9IGVs");
    sb.append("c2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2YgdGhlIGFycmF5");
    sb.append("CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWwg");
    sb.append("PT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlmIChhS2V5IGlu");
    sb.append("IGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAgICAgICAgICAg");
    sb.append("ICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIGRlbChz");
    sb.append("dWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVC");
    sb.append("YXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVsX2tleShlU3Vi");
    sb.append("LCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAgICAgICAgICAg");
    sb.append("IGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAgICAgaWYgKCEo");
    sb.append("YUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJlIGFuIGFkZGl0");
    sb.append("aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBmaXJlX2FkZChl");
    sb.append("U3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBuVmFsID0gbmV4");
    sb.append("dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKG5W");
    sb.append("YWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0CiAgICAgICAg");
    sb.append("ICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJlIHRoZSBuZXcg");
    sb.append("aXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAgZUJhc2VbYUtl");
    sb.append("eV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFLZXk7CiAgICAg");
    sb.append("ICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkg");
    sb.append("ewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIoZVN1YiwgeCks");
    sb.append("IGV2ZW50cywgb3B0aW1hbCk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVbal0pIHsKICAgICAgICAgICAgICAgICAgICAg");
    sb.append("IGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZyb20gdGhlIHByZXZpb3VzIGNvcHkK");
    sb.append("ICAgICAgICAgICAgICAgICAgICAgIG1zZy5wdXNoKGJlZm9yZVtqXS5fX2tleSk7IC8vIGFuZCBhbm5v");
    sb.append("dGF0ZSB0aGUga2V5cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2go");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVu");
    sb.append("dHMpOyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAg");
    sb.append("ICAgIH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2Ug");
    sb.append("aWYgKHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5");
    sb.append("cyBpcyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBr");
    sb.append("KyspIHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJh");
    sb.append("c2VbIiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg");
    sb.append("ICBmaXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBh");
    sb.append("Ym91dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtr");
    sb.append("ZXldID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7");
    sb.append("CiAgICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAg");
    sb.append("ZGVsYXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtr");
    sb.append("ZXldLCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5");
    sb.append("XSkgIT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tl");
    sb.append("eV0sIG5leHQsIGUsIGV2ZW50cywgb3B0aW1hbCk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXld");
    sb.append("LCBldmVudHMpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNv");
    sb.append("IGl0IGlzIGEgdmFsdWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcg");
    sb.append("dmFsdWUKICAgICAgICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxs");
    sb.append("IGV2ZXJ5b25lIGFib3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUs");
    sb.append("IGV2ZW50cyk7CiAgfTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7");
    sb.append("CiAgICB9CiAgfTsKCiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0");
    sb.append("ZXMgPSAwOwogIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICB0aGlzLnVwZGF0ZV9p");
    sb.append("bl9wcm9ncmVzcyA9IHRydWU7CiAgICB0aGlzLnVwZGF0ZXMrKzsKICAgIHZhciBhcnIgPSBbXTsgLy8g");
    sb.append("Y29udmVydCB0aGUgc3Vic2NyaXB0aW9ucyBpbnRvIGFuIGFycmF5CiAgICBmb3IgKHZhciBrIGluIGFs");
    sb.append("bF9zdWJzY3JpcHRpb25zKSB7CiAgICAgIGFyci5wdXNoKGFsbF9zdWJzY3JpcHRpb25zW2tdKTsKICAg");
    sb.append("IH0KICAgIHZhciBldmVudHMgPSBbXTsKICAgIG1lcmdlKHJvb3QsIGRlbHRhLCBhcnIsIGV2ZW50cywg");
    sb.append("ZmFsc2UpOyAvLyBleGVjdXRlIHRoZSBtZXJnZSBhbmQgZmlyZSBldmVudHMKICAgIGZpcmVfZXZlbnRz");
    sb.append("KGV2ZW50cyk7CiAgICB3aGlsZSAodGhpcy5zdWJzY3JpYmVfZGVsYXkubGVuZ3RoID4gMCkgewogICAg");
    sb.append("ICB2YXIgY29weSA9IHRoaXMuc3Vic2NyaWJlX2RlbGF5OwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxh");
    sb.append("eSA9IFtdOwogICAgICB2YXIgZmxhdCA9IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvcHku");
    sb.append("bGVuZ3RoOyBrKyspIHsKICAgICAgICBpZiAoIWNvcHlba10uYWJvcnRlZCkgewogICAgICAgICAgZmxh");
    sb.append("dC5wdXNoKGNvcHlba10uc3ViKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZXZlbnRzID0gW107CiAg");
    sb.append("ICAgIG1lcmdlKHt9LCBtYWtlX29wdGltYWxfZGVsdGEocm9vdCwgZmxhdCksIGZsYXQsIGV2ZW50cywg");
    sb.append("dHJ1ZSk7IC8vIGV4ZWN1dGUgdGhlIG1lcmdlIGFuZCBmaXJlIGV2ZW50cwogICAgICBmaXJlX2V2ZW50");
    sb.append("cyhldmVudHMpOwogICAgfQogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICAgIHNl");
    sb.append("dHRsZSgpOwogIH07CgogIC8vIGZpeCB0aGUgY2FsbGJhY2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIn");
    sb.append("cyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0aGUgZm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zv");
    sb.append("cm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlmIHRoZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhl");
    sb.append("biBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBuZXcgb2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAw");
    sb.append("OyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsKICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50");
    sb.append("b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxs");
    sb.append("YmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRoZSBjYWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAg");
    sb.append("Zm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8vIGl0ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAg");
    sb.append("IGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0aGUgZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVy");
    sb.append("CiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsK");
    sb.append("ICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxvdwogICAgICAgICAgaWYgKCEoa2V5IGluIHN1Yikp");
    sb.append("IHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5kIG1ha2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhh");
    sb.append("cyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tleV0gPSB7fTsKICAgICAgICAgIH0KICAgICAgICAg");
    sb.append("IHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1YihjYWxsYmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJl");
    sb.append("Y3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0aGUgbmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8v");
    sb.append("IGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgiQGUiIGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJl");
    sb.append("IHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAgICBzdWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAg");
    sb.append("ICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3QgYWRkIGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2go");
    sb.append("Y2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gY29udmVydCB0aGUgdHJlZSB0byBhIGRl");
    sb.append("bHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBoYXZlIGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIg");
    sb.append("bWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewogICAgdmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0");
    sb.append("YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsgaW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhp");
    sb.append("biB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19r");
    sb.append("ZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQogICAgICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAo");
    sb.append("KCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1bHQgaXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYg");
    sb.append("PSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9IHt9OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7");
    sb.append("IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3JkZXJpbmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFy");
    sb.append("IG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBj");
    sb.append("b3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheQogICAgICAgICAgICB2YXIgdmogPSB2W2pdOwog");
    sb.append("ICAgICAgICAgICBpZiAodmopIHsKICAgICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2VfZGVsdGEo");
    sb.append("dmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAgICAgICAg");
    sb.append("IG8ucHVzaCh2W2pdLl9fa2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZFsi");
    sb.append("QG8iXSA9IG87CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlOyByZWNvcmQgdGhlIHNpemUgYXMg");
    sb.append("d2UgcmVjdXJzZQogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2Lmxlbmd0aDsgaisrKSB7CiAg");
    sb.append("ICAgICAgICAgIGRbIiIgKyBqXSA9IG1ha2VfZGVsdGEocHZbal0pOwogICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgZFsiQHMiXSA9IHYubGVuZ3RoOwogICAgICAgIH0KICAgICAgICBkZWx0YVtrXSA9IGQ7CiAgICAg");
    sb.append("IH0gZWxzZSBpZiAodHlwZW9mICh2KSA9PSAib2JqZWN0IikgeyAvLyBpdCdzIGp1c3QgYW4gb2JqZWN0");
    sb.append("LCBzbyByZWN1cnNlIGRpcmVjdGx5CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodikpIHsKICAgICAg");
    sb.append("ICAgIHZhciBkID0ge307CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKysp");
    sb.append("IHsKICAgICAgICAgICAgZFsiIiArIGpdID0gbWFrZV9kZWx0YSh2W2pdKTsKICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIGRbIkBzIl0gPSB2Lmxlbmd0aDsKICAgICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgICB9");
    sb.append("IGVsc2UgewogICAgICAgICAgZGVsdGFba10gPSBtYWtlX2RlbHRhKHYpOwogICAgICAgIH0KICAgICAg");
    sb.append("fSBlbHNlIHsgLy8gZmluYWxseSwgaXQgaXMgYSB2YWx1ZSBzbyBqdXN0IHNldCBpdAogICAgICAgIGRl");
    sb.append("bHRhW2tdID0gdjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGRlbHRhOwogIH07CiAgdGhpcy5NYWtl");
    sb.append("RGVsdGEgPSBtYWtlX2RlbHRhOwoKICB2YXIgbWFrZV9vcHRpbWFsX2RlbHRhID0gZnVuY3Rpb24oc3Qs");
    sb.append("IHN1YnMpIHsKICAgIHZhciBmaWx0ZXIgPSB7fTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc3Vicy5s");
    sb.append("ZW5ndGg7IGsrKykgewogICAgICB2YXIgcyA9IHN1YnNba107CiAgICAgIGlmICh0eXBlb2YocykgPT0g");
    sb.append("ImZ1bmN0aW9uIikgewogICAgICAgIC8vIGZhbGxiYWNrIHdoZW4gdGhlIGhpZ2ggbGV2ZWwgaXMgYSBm");
    sb.append("dW5jdGlvbiAod2UgbmVlZCBpdCBhbGwhKQogICAgICAgIHJldHVybiBtYWtlX2RlbHRhKHN0KTsKICAg");
    sb.append("ICAgfSBlbHNlIGlmICh0eXBlb2YocykgPT0gIm9iamVjdCIpIHsKICAgICAgICBmb3IgKHZhciBqIGlu");
    sb.append("IHMpIHsKICAgICAgICAgIGZpbHRlcltqXSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAg");
    sb.append("ICB2YXIgbmV3X3N0ID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsg");
    sb.append("aW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09");
    sb.append("ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQog");
    sb.append("ICAgICBpZiAoayBpbiBmaWx0ZXIpIHsKICAgICAgICBuZXdfc3Rba10gPSBzdFtrXTsKICAgICAgICBp");
    sb.append("ZiAoKCIjIiArIGspIGluIHN0KSB7CiAgICAgICAgICBuZXdfc3RbIiMiICsga10gPSBzdFsiIyIgKyBr");
    sb.append("XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtYWtlX2RlbHRhKG5ld19zdCk7CiAg");
    sb.append("fTsKCiAgdGhpcy5zdWJzY3JpYmVfZGVsYXkgPSBbXTsKCiAgLy8gYHN1YnNjcmliZWAgdGhlIGdpdmVu");
    sb.append("IHN0cnVjdHVyYWwgY2FsbGJhY2sKICB0aGlzLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykg");
    sb.append("ewogICAgdmFyIHN1YiA9IHt9OwogICAgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNr");
    sb.append("LCBzdWIpOyAgLy8gdHJhbnNmb3JtIHRoZSBjYWxsYmFjayBpbnRvIGEgc2FmZSBjYWxsYmFjawogICAg");
    sb.append("dmFyIFMgPSAiIiArIGlkKys7IC8vIGNyZWF0ZSBhbiBpZCBmb3IgdGhlIHN1YnNjcmlwdGlvbgogICAg");
    sb.append("YWxsX3N1YnNjcmlwdGlvbnNbU10gPSBzdWI7IC8vIHJlY29yZCB0aGUgc3Vic2NyaXB0aW9uCiAgICBp");
    sb.append("ZiAodGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MpIHsKICAgICAgdmFyIHNtID0ge307CiAgICAgIHNtLnN1");
    sb.append("YiA9IHN1YjsKICAgICAgc20uYWJvcnRlZCA9IGZhbHNlOwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxh");
    sb.append("eS5wdXNoKHNtKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgIHNtLmFib3J0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIGRlbGV0ZSBhbGxfc3Vic2NyaXB0aW9uc1tTXTsKICAgICAgfTsKICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgIHZhciBkZWx0YSA9IG1ha2Vfb3B0aW1hbF9kZWx0YShyb290LCBbc3ViXSk7CiAgICAg");
    sb.append("IHZhciBldmVudHMgPSBbXTsKICAgICAgbWVyZ2Uoe30sIGRlbHRhLCBbc3ViXSwgZXZlbnRzLCB0cnVl");
    sb.append("KTsgLy8gZXhlY3V0ZSB0aGUgY2FsbGJhY2sgbm93IG9uIGEgY2FsbGJhY2sgb2YgYWxsIGRhdGEgdG8g");
    sb.append("ZmlyZSBldmVudHMgYW5kIGZpbGwgdGhlIHN1YnNjcmlwdGlvbiBvYmplY3QKICAgICAgZmlyZV9ldmVu");
    sb.append("dHMoZXZlbnRzKTsKICAgICAgaWYgKHRoaXMudXBkYXRlcyA+IDApIHsKICAgICAgICBzZXR0bGUoKTsK");
    sb.append("ICAgICAgfQogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyByZXR1cm4gYSBtZXRob2QgdG8gdW5z");
    sb.append("dWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlvbnNbU107CiAgICAgIH07CiAgICB9");
    sb.append("CiAgfTsKCiAgdGhpcy5hZGRfb25fc2V0dGxlID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciBp");
    sb.append("ZCA9IHNldHRsZUlkKys7CiAgICBzZXR0bGVtZW50c1tpZF0gPSBjYWxsYmFjazsKICB9Owp9");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKCiAgdmFyIGRlZmF1bHRFbmRwb2ludCA9IC8qRU5EUE9J");
    sb.append("TlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovOwoKICAvLyBvdmVycmlkZSBlbmRwb2ludCBiYXNlZCBv");
    sb.append("biB0aGUgcHJlc2VuY2Ugb2YgX19tZF9lbmRwb2ludAogIHZhciBtZE92ZXJyaWRlRW5kcG9pbnQgPSBs");
    sb.append("b2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWRlYyIpOyAvLyBtdWx0aSBkb21haW4gZW5kcG9pbnQgY2hvaWNl");
    sb.append("CiAgaWYgKG1kT3ZlcnJpZGVFbmRwb2ludCAhPSBudWxsICYmICJiZXRhIiA9PSBtZE92ZXJyaWRlRW5k");
    sb.append("cG9pbnQpIHsKICAgIGRlZmF1bHRFbmRwb2ludCA9IEFkYW1hLkJldGE7CiAgfQoKICAvLyBUaGlzIHN0");
    sb.append("cmFuZ2UgZXNjYXBpbmcgaXMgZm9yIGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4K");
    sb.append("ICB2YXIgY29ubmVjdGlvbiA9IG5ldyBBZGFtYS5Db25uZWN0aW9uKGRlZmF1bHRFbmRwb2ludCk7CiAg");
    sb.append("dmFyIGNvbm5lY3Rpb25zID0ge307CiAgc2VsZi5jb25uZWN0aW9uID0gY29ubmVjdGlvbjsKICBzZWxm");
    sb.append("LmJ1bXAgPSBmdW5jdGlvbihtKSB7CiAgICBjb25uZWN0aW9uLmJ1bXAobSk7CiAgfTsKCiAgdmFyIGNv");
    sb.append("bm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVj");
    sb.append("dGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9uIChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVu");
    sb.append("Y3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAv");
    sb.append("c3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41");
    sb.append("XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhc");
    sb.append("Ij48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBk");
    sb.append("PVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAwMTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMu");
    sb.append("ODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQgOC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1");
    sb.append("IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMtLjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAv");
    sb.append("Pjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVzKSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9t");
    sb.append("LnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRN");
    sb.append("TCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIp");
    sb.append("IHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5lY3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxh");
    sb.append("dGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9uaXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxh");
    sb.append("dGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAgICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAg");
    sb.append("ICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5uZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAg");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24o");
    sb.append("ImdyZWVuIik7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JE");
    sb.append("b20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJvdHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgY29ubmVj");
    sb.append("dGlvbk1vbml0b3JEb20uY2xhc3NOYW1lID0gImFkYW1hLWRlYnVnZ2VyIgogIGlmIChBZGFtYS5EZWJ1");
    sb.append("Z2dlcikgewogICAgY29ubmVjdGlvbk1vbml0b3JEb20ub25jbGljayA9IEFkYW1hLkRlYnVnZ2VyLnRv");
    sb.append("Z2dsZTsKICB9CiAgY29ubmVjdGlvbi5zdGFydCgpOwogIGNvbm5lY3Rpb24ua2VlcGFsaXZlKCk7Cgog");
    sb.append("IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICB2YXIg");
    sb.append("cGF5bG9hZCA9IHt9OwogICAgcGF5bG9hZC5tZXNzYWdlID0gZXZlbnQubWVzc2FnZTsKICAgIHBheWxv");
    sb.append("YWQuZmlsZW5hbWUgPSBldmVudC5maWxlbmFtZTsKICAgIHBheWxvYWQubGluZW5vID0gZXZlbnQubGlu");
    sb.append("ZW5vOwogICAgcGF5bG9hZC5jb2xubyA9IGV2ZW50LmNvbG5vOwogICAgcGF5bG9hZC5maWxlbmFtZSA9");
    sb.append("IGV2ZW50LmZpbGVuYW1lOwogICAgY29ubmVjdGlvbi5sb2coIndpbmRvdy5lcnJvciIsIEpTT04uc3Ry");
    sb.append("aW5naWZ5KHBheWxvYWQpKTsKICAgIGNvbnNvbGUuZXJyb3IoIltlcnJvcl0iICsgZXZlbnQubWVzc2Fn");
    sb.append("ZSk7CiAgfSk7CgogIGNvbm5lY3Rpb24uYnVtcCgicnhodG1sIik7CgogIHZhciByb290UmVwbGFjZSA9");
    sb.append("ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9");
    sb.append("OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5j");
    sb.append("b20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZv");
    sb.append("cm0uY29tIikpIHsKICAgIC8vIHRoaXMgZXhpc3RzIGlmIHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSB0");
    sb.append("aGUgZ2xvYmFsIGRvbWFpbiBmb3IgdGhlaXIgc2l0ZQogICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0");
    sb.append("aW9uLnBhdGhuYW1lLnNwbGl0KCIvIik7CiAgICByb290UmVwbGFjZSA9IFtwYXJ0c1swXSwgcGFydHNb");
    sb.append("MV0sIHBhcnRzWzJdLCAiIl0uam9pbigiLyIpOwogICAgdmFyIG9mZnNldCA9IHBhcnRzWzBdLmxlbmd0");
    sb.append("aCArIHBhcnRzWzFdLmxlbmd0aCArIHBhcnRzWzJdLmxlbmd0aCArIDI7CiAgICBmaXhQYXRoID0gZnVu");
    sb.append("Y3Rpb24gKHBhdGgpIHsKICAgICAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKG9mZnNldCk7CiAgICB9Owog");
    sb.append("IH0KCiAgdmFyIGZpeEhyZWYgPSBmdW5jdGlvbiAoaHJlZikgewogICAgaWYgKCFocmVmKSB7CiAgICAg");
    sb.append("IHJldHVybiAiIyI7CiAgICB9CiAgICBpZiAoaHJlZi5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgcmV0");
    sb.append("dXJuIHJvb3RSZXBsYWNlICsgaHJlZi5zdWJzdHJpbmcoMSk7CiAgICB9CiAgICByZXR1cm4gaHJlZjsK");
    sb.append("ICB9OwoKICB2YXIgZ2V0X2Nvbm5lY3Rpb25fb2JqID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgIGlmIChu");
    sb.append("YW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHJldHVybiBjb25uZWN0aW9uc1tuYW1lXTsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBwdHI6IG51");
    sb.append("bGwsCiAgICAgICAgdHJlZTogbmV3IEFkYW1hVHJlZSgpLAogICAgICAgIG91dHN0YW5kaW5nOiB7fSwK");
    sb.append("ICAgICAgICBkZWNpc2lvbnM6IHt9LAogICAgICAgIGNob2ljZV9zdWJzOiB7fSwKICAgICAgICByZXNl");
    sb.append("dHM6IHt9LAogICAgICAgIGNvbm5lY3Rpb25fZXZlbnRzOiB7fSwKICAgICAgICBzeW5jX2V2ZW50czog");
    sb.append("e30sCiAgICAgICAgaWQ6IDAsCiAgICAgICAgY29ubmVjdGlvbl9zdGF0ZTogZmFsc2UsCiAgICAgICAg");
    sb.append("Y2hvaWNlczoge30sCiAgICAgICAgYm91bmQ6ICIiLAogICAgICAgIHZpZXdzdGF0ZV9zZW50OiB0cnVl");
    sb.append("LAogICAgICAgIHZpZXdzdGF0ZV9jbG9uZTogIiIsCiAgICAgICAgaGFzX2ZpbHRlcjogZmFsc2UsCiAg");
    sb.append("ICAgICAgc3luY2VkOiBmYWxzZSwKICAgICAgICBmaWx0ZXI6IHt9LAogICAgICAgIHZzc2VxOiAwLAog");
    sb.append("ICAgICAgIGRlYnVnZ2VyOiBmdW5jdGlvbiAoZGVsdGEpIHsgfSwKICAgICAgICByYXc6IGNvbm5lY3Rp");
    sb.append("b24KICAgICAgfTsKICAgICAgb2JqLm51a2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb25u");
    sb.append("ZWN0aW9uX2V2ZW50cyA9IHt9OwogICAgICAgIHRoaXMuc3luY19ldmVudHMgPSB7fTsKICAgICAgICB0");
    sb.append("aGlzLmNob2ljZV9zdWJzID0ge307CiAgICAgIH0uYmluZChvYmopOwogICAgICBpZiAoQWRhbWEuRGVi");
    sb.append("dWdnZXIpIHsKICAgICAgICBvYmouZGVidWdnZXIgPSBBZGFtYS5EZWJ1Z2dlci5yZWdpc3RlcihvYmop");
    sb.append("OwogICAgICB9CiAgICAgIG9iai5zeW5jID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzeW5jZWQg");
    sb.append("PSB0aGlzLmNvbm5lY3Rpb25fc3RhdGUgJiYgdGhpcy52aWV3c3RhdGVfc2VudDsKICAgICAgICBpZiAo");
    sb.append("dGhpcy5zeW5jZWQgPT0gc3luY2VkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAg");
    sb.append("IHRoaXMuc3luY2VkID0gc3luY2VkOwogICAgICAgIHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZh");
    sb.append("ciBzdWIgaW4gb2JqLnN5bmNfZXZlbnRzKSB7CiAgICAgICAgICBpZiAoIShvYmouc3luY19ldmVudHNb");
    sb.append("c3ViXShzeW5jZWQpKSkgewogICAgICAgICAgICBheGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAg");
    sb.append("ICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgZGVsZXRlIG9iai5zeW5jX2V2ZW50c1theGVba11dOwogICAgICAgIH0KICAgICAgfS5iaW5kKG9i");
    sb.append("aik7CiAgICAgIG9iai5zdWJzY3JpYmVfc3luYyA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAg");
    sb.append("IHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzW3NdID0gY2Fs");
    sb.append("bGJhY2s7CiAgICAgICAgY2FsbGJhY2sodGhpcy5zeW5jZWQpOwogICAgICAgIHJldHVybiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5zeW5jX2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQo");
    sb.append("dGhpcyk7CiAgICAgIH07CiAgICAgIG9iai5zZXRfY29ubmVjdGVkID0gZnVuY3Rpb24gKGNzKSB7CiAg");
    sb.append("ICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbl9zdGF0ZSA9PSBjcykgewogICAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICAgIH0KICAgICAgICB0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPSBjczsKICAgICAgICB2YXIgYXhl");
    sb.append("ID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGluIG9iai5jb25uZWN0aW9uX2V2ZW50cykgewogICAg");
    sb.append("ICAgICAgaWYgKCEob2JqLmNvbm5lY3Rpb25fZXZlbnRzW3N1Yl0oY3MpKSkgewogICAgICAgICAgICBh");
    sb.append("eGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5jb25uZWN0aW9uX2V2ZW50");
    sb.append("c1theGVba11dOwogICAgICAgIH0KICAgICAgICB0aGlzLnN5bmMoKTsKICAgICAgfS5iaW5kKG9iaik7");
    sb.append("CiAgICAgIG9iai5jb25uZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9");
    sb.append("ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX2V2ZW50c1tzXSA9IGNhbGxi");
    sb.append("YWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuY29ubmVjdGlvbl9zdGF0ZSk7CiAgICAgICAgcmV0dXJu");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbm5lY3Rpb25fZXZlbnRzW3NdOwog");
    sb.append("ICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVf");
    sb.append("YW55ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsr");
    sb.append("OwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0gY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQo");
    sb.append("dGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNo");
    sb.append("YW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsgdGhpcy5pZCsr");
    sb.append("OwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0gY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQo");
    sb.append("dGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX3Jlc2V0ID0gZnVuY3Rp");
    sb.append("b24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGRyID0gInJlc2V0fCIgKyB0aGlzLmlkKys7CiAgICAg");
    sb.append("ICAgdGhpcy5yZXNldHNbZHJdID0gY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc2V0c1tkcl07CiAgICAgICAgfS5iaW5kKHRoaXMpOwogICAg");
    sb.append("ICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9jaG9pY2UgPSBmdW5jdGlvbiAoY2hhbm5l");
    sb.append("bCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9IGNoYW5uZWwgKyAifCIgKyB0aGlzLmlkKys7CiAg");
    sb.append("ICAgICAgdGhpcy5jaG9pY2Vfc3Vic1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jaG9pY2Vfc3Vic1tzXTsKICAgICAgICB9LmJpbmQo");
    sb.append("dGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmoub25jaG9pY2VzID0gZnVuY3Rpb24gKGNo");
    sb.append("YW5uZWwsIGNob2ljZSkgewogICAgICAgIHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIg");
    sb.append("aW4gb2JqLmNob2ljZV9zdWJzKSB7CiAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2hhbm5lbCAr");
    sb.append("ICJ8IikpIHsKICAgICAgICAgICAgaWYgKCFvYmouY2hvaWNlX3N1YnNbc3ViXShjaG9pY2UpKSB7CiAg");
    sb.append("ICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAg");
    sb.append("IH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAg");
    sb.append("ZGVsZXRlIG9iai5jaG9pY2Vfc3Vic1theGVba11dOwogICAgICAgIH0KICAgICAgfTsKICAgICAgb2Jq");
    sb.append("Lm9uZGVjaWRlID0gZnVuY3Rpb24gKG91dHN0YW5kaW5nKSB7CiAgICAgICAgdmFyIGF4ZVJlc2V0ID0g");
    sb.append("W107CiAgICAgICAgZm9yICh2YXIgZHIgaW4gb2JqLnJlc2V0cykgewogICAgICAgICAgdmFyIHIgPSBv");
    sb.append("YmoucmVzZXRzW2RyXTsKICAgICAgICAgIGlmICghKHIoKSkpIHsKICAgICAgICAgICAgYXhlUmVzZXQu");
    sb.append("cHVzaChkcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("YXhlUmVzZXQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmoucmVzZXRzW2F4ZVJlc2V0");
    sb.append("W2tdXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAg");
    sb.append("ICAgICAgICBvYmoub3V0c3RhbmRpbmdbY2hdID0geyBvcHRpb25zOiBbXSB9OwogICAgICAgIH0KICAg");
    sb.append("ICAgICB2YXIgbiA9IG91dHN0YW5kaW5nLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IG47IGsrKykgewogICAgICAgICAgdmFyIG8gPSBvdXRzdGFuZGluZ1trXTsKICAgICAgICAgIG9iai5v");
    sb.append("dXRzdGFuZGluZ1tvLmNoYW5uZWxdID0gbzsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgY2ggaW4g");
    sb.append("b2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICB2YXIgb3V0ID0gb2JqLm91dHN0YW5kaW5nW2NoXTsK");
    sb.append("ICAgICAgICAgIHZhciBheGUgPSBbXTsKICAgICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouZGVjaXNp");
    sb.append("b25zKSB7CiAgICAgICAgICAgIGlmIChzdWIuc3RhcnRzV2l0aChjaCArICJ8IikgfHwgc3ViLnN0YXJ0");
    sb.append("c1dpdGgoIi18IikpIHsKICAgICAgICAgICAgICBpZiAoIW9iai5kZWNpc2lvbnNbc3ViXShvdXQsIGNo");
    sb.append("KSkgewogICAgICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsg");
    sb.append("aysrKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvYmouZGVjaXNpb25zW2F4ZVtrXV07CiAgICAgICAgICB9");
    sb.append("CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25uZWN0aW9uc1tuYW1lXSA9IG9iajsKICAgICAgcmV0");
    sb.append("dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYuZ2V0Q29ubmVjdGlvbkJ5TmFtZSA9IGdldF9jb25uZWN0");
    sb.append("aW9uX29iajsKCiAgc2VsZi5tYWtlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBBZGFtYVRy");
    sb.append("ZWUoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJzY3JpYmUgdGhlIGdpdmVuICdzdWInIHRvIGNoYW5n");
    sb.append("ZXMgd2l0aGluIHN0YXRlIGZvciB0aGUgZ2l2ZW4gZmllbGQgbmFtZWQgbmFtZQogIHZhciBzdWJzY3Jp");
    sb.append("YmUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHN1YikgewogICAgdmFyIHNzID0gc2VsZi5wSShzdGF0");
    sb.append("ZSwgbmFtZSk7CiAgICB2YXIgcyA9IHNzW3NzLmN1cnJlbnRdOwogICAgaWYgKHMgPT0gbnVsbCkgewog");
    sb.append("ICAgICBjb25zb2xlLmVycm9yKHNzLmN1cnJlbnQgKyAiIGlzIG5vdCBhdmFpbGFibGU7IHVuYWJsZSB0");
    sb.append("byBzdWJzY3JpYmUuIik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICgiQGUiIGluIHMuZGVsdGEp");
    sb.append("IHsKICAgICAgcy5kZWx0YVsiQGUiXS5wdXNoKHN1Yik7CiAgICB9IGVsc2UgewogICAgICBzLmRlbHRh");
    sb.append("WyJAZSJdID0gW3N1Yl07CiAgICB9CiAgfTsKICBzZWxmLnN1YnNjcmliZSA9IHN1YnNjcmliZTsKCiAg");
    sb.append("Ly8gSEVMUEVSIHwgY3JlYXRlIGZyZXNoIHN0YXRlCiAgdmFyIGZyZXNoID0gZnVuY3Rpb24gKHdoZXJl");
    sb.append("KSB7CiAgICByZXR1cm4gewogICAgICB0cmVlOiBuZXcgQWRhbWFUcmVlKCksCiAgICAgIGRlbHRhOiB7");
    sb.append("fSwKICAgICAgcGFyZW50OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICB3aGVyZTogd2hlcmUK");
    sb.append("ICAgIH07CiAgfTsKICBzZWxmLmZyZXNoID0gZnJlc2g7CgogIC8vIEhFTFBFUjogcmVtb3ZlIHBvdGVu");
    sb.append("dGlhbGx5IHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBmcm9tIGFuIG9iamVjdAogIHZhciBzYWZlX2ZpbHRl");
    sb.append("ciA9IGZ1bmN0aW9uKG8pIHsKICAgIGlmICgncGFzc3dvcmQnIGluIG8pIHsKICAgICAgZGVsZXRlIG9b");
    sb.append("J3Bhc3N3b3JkJ107CiAgICB9CiAgICBpZiAoJ29uZV90aW1lX3Bhc3N3b3JkJyBpbiBvKSB7CiAgICAg");
    sb.append("IGRlbGV0ZSBvWydvbmVfdGltZV9wYXNzd29yZCddOwogICAgfQogICAgcmV0dXJuIG87CiAgfQoKICAv");
    sb.append("LyBIRUxQRVIgfCBjcmVhdGUgYSBuZXcgZGVsdGEgY29weSBmcm9tIHRoZSBnaXZlbiBzcGVjaWZpYyBz");
    sb.append("dGF0ZSAoaS5lLiBlaXRoZXIgZGF0YSBvciB2aWV3KQogIHZhciBuZXdfZGVsdGFfY29weSA9IGZ1bmN0");
    sb.append("aW9uIChzcykgewogICAgaWYgKHNzID09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAg");
    sb.append("ICB2YXIgcGFyZW50ID0gbnVsbDsKICAgIGlmIChzcy5wYXJlbnQgIT0gbnVsbCkgewogICAgICBwYXJl");
    sb.append("bnQgPSBuZXdfZGVsdGFfY29weShzcy5wYXJlbnQpOwogICAgfQogICAgdmFyIG5ld19kZWx0YSA9IHt9");
    sb.append("OwogICAgaWYgKHBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudC5kZWx0YVtzcy5wYXRoXSA9IG5l");
    sb.append("d19kZWx0YTsKICAgIH0KICAgIHJldHVybiB7IHRyZWU6IHNzLnRyZWUsIHBhcmVudDogcGFyZW50LCBk");
    sb.append("ZWx0YTogbmV3X2RlbHRhLCBwYXRoOiBzcy5wYXRoIH07CiAgfTsKICBzZWxmLm1ha2VEZWx0YUNvcHkg");
    sb.append("PSBuZXdfZGVsdGFfY29weTsKCiAgLy8gSEVMUEVSIHwgY29uc3RydWN0IGEgcGF0aCB0bwogIHZhciBw");
    sb.append("YXRoX3RvID0gZnVuY3Rpb24gKHNzLCBvYmopIHsKICAgIGlmIChzcy5wYXJlbnQgIT0gbnVsbCkgewog");
    sb.append("ICAgICB2YXIgcGVlbCA9IHt9OwogICAgICBwZWVsW3NzLnBhdGhdID0gb2JqOwogICAgICByZXR1cm4g");
    sb.append("cGF0aF90byhzcy5wYXJlbnQsIHBlZWwpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG9iajsKICAg");
    sb.append("IH0KICB9OwogIHNlbGYucGF0aFRvID0gcGF0aF90bzsKCiAgLy8gSEVMUEVSIHwgZ2V0IHRoZSByb290");
    sb.append("IG9mIHRoZSBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgdGhlIGRhdGEncyByb290IG9yIHRoZSB2");
    sb.append("aWV3J3Mgcm9vdCkKICB2YXIgcm9vdF9vZiA9IGZ1bmN0aW9uIChzcykgewogICAgdmFyIHggPSBzczsK");
    sb.append("ICAgIHdoaWxlICh4LnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHggPSB4LnBhcmVudDsKICAgIH0KICAg");
    sb.append("IHJldHVybiB4OwogIH07CiAgc2VsZi5yb290T2YgPSByb290X29mOwoKICAvLyBIRUxQRVIgfCByZW1v");
    sb.append("dmUgYWxsIHRoZSBjaGlsZHJlbiBmcm9tIHRoZSBnaXZlbiBET00gbm9kZQogIHZhciBudWtlID0gZnVu");
    sb.append("Y3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAgd2hpbGUg");
    sb.append("KGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0gcGFyZW50");
    sb.append("Lmxhc3RDaGlsZDsKICAgIH0KICB9OwogIHNlbGYubnVrZSA9IG51a2U7CgogIC8vIEhFTFBFUjogZGVi");
    sb.append("b3VuY2UgdGhlIGdpdmVuIGZ1bmN0aW9uYWwgd2hlbiByYXBpZCBmdW5jdGlvbiBzcHJlYWQgaXMgZXhw");
    sb.append("ZWN0ZWQKICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAobXMsIGZvbykgewogICAgdmFyIHN0YXR1cyA9");
    sb.append("IHsgaW5mbGlnaHQ6IGZhbHNlLCB0aW1lb3V0OiBudWxsIH07CiAgICBzdGF0dXMuaW5mbGlnaHQgPSBm");
    sb.append("YWxzZTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghc3RhdHVzLmluZmxpZ2h0KSB7");
    sb.append("CiAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gdHJ1ZTsKICAgICAgICBzdGF0dXMudGltZW91dCA9IHdp");
    sb.append("bmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHN0YXR1cy5pbmZsaWdodCA9IGZh");
    sb.append("bHNlOwogICAgICAgICAgc3RhdHVzLnRpbWVvdXQgPSBudWxsOwogICAgICAgICAgZm9vKCk7CiAgICAg");
    sb.append("ICAgfSwgbXMgLyogbXMgKi8pOyAvLyBkZWJvdW5jZSB0aGUgcGFyYW1ldGVycwogICAgICB9CiAgICB9");
    sb.append("OwogIH07CiAgc2VsZi5kZWJvdW5jZSA9IGRlYm91bmNlOwoKICB2YXIgZGVsYXkgPSBmdW5jdGlvbiht");
    sb.append("cywgZm9vKSB7CiAgICB2YXIgc3RhdHVzID0geyBhdmFpbDogdHJ1ZSwgYWdhaW46ZmFsc2UsIHRpbWVv");
    sb.append("dXQ6IG51bGwgfTsKICAgIHN0YXR1cy5nbyA9IGZ1bmN0aW9uKCkgewogICAgICBpZiAoc3RhdHVzLmF2");
    sb.append("YWlsKSB7CiAgICAgICAgc3RhdHVzLmF2YWlsID0gZmFsc2U7CiAgICAgICAgc3RhdHVzLnRpbWVvdXQg");
    sb.append("PSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgIHN0YXR1cy5hdmFpbCA9IHRy");
    sb.append("dWU7CiAgICAgICAgICBpZiAoc3RhdHVzLmFnYWluKSB7CiAgICAgICAgICAgIHN0YXR1cy5nbygpOwog");
    sb.append("ICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGZvbygpOwogICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("IHN0YXR1cy5hZ2FpbiA9IHRydWU7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gc3RhdHVzLmdvOwog");
    sb.append("IH07CiAgc2VsZi5kZWxheSA9IGRlbGF5OwoKICAvLyBIRUxQRVIgfCBwcmVwYXJlIGEgZnJlZSB1bnN1");
    sb.append("YnNjcmliZSBvYmplY3QKICB2YXIgbWFrZV91bnN1YiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7");
    sb.append("CiAgICAgIF9fZGF0YTogZnVuY3Rpb24gKCkgewogICAgICB9LCBfX3ZpZXc6IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgfQogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBhdWdtZW50IGFuIGV4aXN0aW5nIG9iamVj");
    sb.append("dCB3aXRoIHVuc3Vic2NyaWJlIGRhdGEKICB2YXIgYWRkX3Vuc3ViID0gZnVuY3Rpb24gKG9iaikgewog");
    sb.append("ICAgb2JqLl9fZGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgIH07CiAgICBvYmouX192aWV3ID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBmaXJlIHRoZSB1bnN1YnNjcmliZSBjYWxs");
    sb.append("cyB3aXRoaW4gYW4gb2JqZWN0CiAgdmFyIGZpcmVfdW5zdWIgPSBmdW5jdGlvbiAodW5zdWIpIHsKICAg");
    sb.append("IHVuc3ViLl9fZGF0YSgpOwogICAgdW5zdWIuX192aWV3KCk7CiAgfTsKCiAgdmFyIGlzRW1wdHlEZWx0");
    sb.append("YSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICBpZiAodHlwZW9mKGRlbHRhKSA9PSAiZnVuY3Rpb24iKSB7");
    sb.append("CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZWx0YSkpIHsK");
    sb.append("ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZWx0YS5sZW5ndGg7IGorKykgewogICAgICAgIGlmICgh");
    sb.append("aXNFbXB0eURlbHRhKGRlbHRhW2pdKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YoZGVsdGEpID09ICJvYmplY3QiKSB7CiAgICAgIGZv");
    sb.append("ciAodmFyIGsgaW4gZGVsdGEpIHsKICAgICAgICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YVtrXSkpIHsK");
    sb.append("ICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0");
    sb.append("cnVlOwogIH0KCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRvIHN0YXRlIGFuZCBwb3B1bGF0ZSB1bnN1");
    sb.append("YnNjcmliZSBvYmplY3QKICB2YXIgc3Vic2NyaWJlX3N0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB1bnN1");
    sb.append("YikgewogICAgLy8gICYmICFpc0VtcHR5RGVsdGEoc3RhdGUuZGF0YSkKICAgIHVuc3ViLl9fZGF0YSA9");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgIH07CiAgICB1bnN1Yi5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICB9");
    sb.append("OwoKICAgIGlmIChzdGF0ZS5kYXRhICE9IG51bGwpIHsKICAgICAgdmFyIGRlbHRhID0gcm9vdF9vZihz");
    sb.append("dGF0ZS5kYXRhKS5kZWx0YTsKICAgICAgaWYgKCFpc0VtcHR5RGVsdGEoZGVsdGEpKSB7CiAgICAgICAg");
    sb.append("dW5zdWIuX19kYXRhID0gc3RhdGUuZGF0YS50cmVlLnN1YnNjcmliZShkZWx0YSk7CiAgICAgIH0KICAg");
    sb.append("IH0KICAgIC8vICAmJiAhaXNFbXB0eURlbHRhKHN0YXRlLnZpZXcpCiAgICBpZiAoc3RhdGUudmlldyAh");
    sb.append("PSBudWxsKSB7CiAgICAgIHZhciBkZWx0YSA9IHJvb3Rfb2Yoc3RhdGUudmlldykuZGVsdGE7CiAgICAg");
    sb.append("IGlmICghaXNFbXB0eURlbHRhKGRlbHRhKSkgewogICAgICAgIHVuc3ViLl9fdmlldyA9IHN0YXRlLnZp");
    sb.append("ZXcudHJlZS5zdWJzY3JpYmUoZGVsdGEpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8");
    sb.append("IFN3aXRjaCB0byB0aGUgdmlldyBvYmplY3QKICBzZWxmLnBWID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAg");
    sb.append("ICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBz");
    sb.append("dGF0ZS52aWV3LCBjdXJyZW50OiAidmlldyIgfTsKICB9OwogIHNlbGYubmV3U3RhdGVWaWV3T2YgPSBz");
    sb.append("ZWxmLnBWOwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRoZSBkYXRhIG9iamVjdAogIHNlbGYucEQg");
    sb.append("PSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRh");
    sb.append("dGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6ICJkYXRhIiB9OwogIH07CiAg");
    sb.append("c2VsZi5uZXdTdGF0ZURhdGFPZiA9IHNlbGYucEQ7CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2ggdG8gdGhl");
    sb.append("IHJvb3Qgb2JqZWN0IC8gKFJvb3QpCiAgc2VsZi5wUiA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFy");
    sb.append("IG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0");
    sb.append("YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRbc3Rh");
    sb.append("dGUuY3VycmVudF07CiAgICB3aGlsZSAocHJpb3IgIT0gbnVsbCkgewogICAgICBuZXh0W3N0YXRlLmN1");
    sb.append("cnJlbnRdID0gcHJpb3I7CiAgICAgIHByaW9yID0gcHJpb3IucGFyZW50OwogICAgfQogICAgcmV0dXJu");
    sb.append("IG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRlUm9vdE9mID0gc2VsZi5wUjsKCiAgLy8gUlVOVElNRSB8");
    sb.append("IC4uLyAoVXApCiAgc2VsZi5wVSA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNl");
    sb.append("cnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1");
    sb.append("cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07");
    sb.append("CiAgICBpZiAocHJpb3IucGFyZW50ICE9IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9");
    sb.append("IHByaW9yLnBhcmVudDsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVBh");
    sb.append("cmVudE9mID0gc2VsZi5wVTsKCiAgLy8gUlVOVElNRSB8IGRpdmUgb25lIGxldmVsIEludG8gcGF0aDEv");
    sb.append("cGF0aDIvLi4uLi9wYXRoTgogIHNlbGYucEkgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZh");
    sb.append("ciBwcmlvciA9IHN0YXRlW3N0YXRlLmN1cnJlbnRdOwogICAgaWYgKHByaW9yID09IG51bGwpIHsKICAg");
    sb.append("ICAgY29uc29sZS5lcnJvcihzdGF0ZS5jdXJyZW50ICsgIiBpcyBub3QgcHJlc2VudCIpOwogICAgICBy");
    sb.append("ZXR1cm4gc3RhdGU7CiAgICB9CiAgICBpZiAoIShuYW1lIGluIHByaW9yLmRlbHRhKSkgewogICAgICBw");
    sb.append("cmlvci5kZWx0YVtuYW1lXSA9IHt9OwogICAgfQogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRl");
    sb.append("LnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRl");
    sb.append("LmN1cnJlbnQgfTsKICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSB7CiAgICAgIHRyZWU6IHByaW9yLnRy");
    sb.append("ZWUsCiAgICAgIGRlbHRhOiBwcmlvci5kZWx0YVtuYW1lXSwKICAgICAgcGFyZW50OiBwcmlvciwKICAg");
    sb.append("ICAgcGF0aDogbmFtZQogICAgfTsKICAgIGlmIChuZXh0LmN1cnJlbnQgPT0gImRhdGEiKSB7CiAgICAg");
    sb.append("IG5leHQuZGF0YS5jb25uZWN0aW9uID0gcHJpb3IuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBu");
    sb.append("ZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZURpdmVJbnRvID0gc2VsZi5wSTsKCiAgLy8gUlVOVElNRSB8");
    sb.append("IGV4dGVuZCB0aGUgZ2l2ZW4gc3RhdGUgd2l0aCB0aGUgdmlldyBoYXZpbmcgYSBzZXBhcmF0ZSBjaGls");
    sb.append("ZAogIHNlbGYucEVWID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lKSB7CiAgICBpZiAoIShuYW1lIGluIHN0");
    sb.append("YXRlLnZpZXcuZGVsdGEpKSB7CiAgICAgIHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0K");
    sb.append("ICAgIHJldHVybiB7CiAgICAgIHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHN0YXRl");
    sb.append("LmRhdGEsCiAgICAgIHZpZXc6IHsKICAgICAgICB0cmVlOiBzdGF0ZS52aWV3LnRyZWUsCiAgICAgICAg");
    sb.append("ZGVsdGE6IHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0sCiAgICAgICAgcGFyZW50OiBzdGF0ZS52aWV3LAog");
    sb.append("ICAgICAgIHBhdGg6IG5hbWUKICAgICAgfSwKICAgICAgY3VycmVudDogc3RhdGUuY3VycmVudAogICAg");
    sb.append("fTsKICB9OwogIHNlbGYubmV3U3RhdGVDcmVhdGVWaWV3Q2hpbGQgPSBzZWxmLnBFVjsKCiAgc2VsZi5w");
    sb.append("SUUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcpIHsKICAgIHZhciBuZXh0ID0gc2Vs");
    sb.append("Zi5wSShzdGF0ZSwgbmFtZSk7CiAgICBpZiAoZXhwYW5kVmlldykgewogICAgICByZXR1cm4gc2VsZi5w");
    sb.append("RVYobmV4dCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV4dDsKICAgIH0KICB9OwoK");
    sb.append("ICB2YXIgZm9yayA9IGZ1bmN0aW9uIChwcmlvclN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSB7CiAgICAg");
    sb.append("IHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0YTogbmV3X2RlbHRhX2NvcHkocHJp");
    sb.append("b3JTdGF0ZS5kYXRhKSwKICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwK");
    sb.append("ICAgICAgY3VycmVudDogcHJpb3JTdGF0ZS5jdXJyZW50CiAgICB9OwogICAgaWYgKHN0YXRlLmRhdGEg");
    sb.append("IT0gbnVsbCkgewogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24gPSBwcmlvclN0YXRlLmRhdGEuY29u");
    sb.append("bmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBzdGF0ZTsKICB9OwoKICAvLyBSVU5USU1FIHwgc3Vic2Ny");
    sb.append("aWJlIGJldHdlZW4gdGhlIHN0YXRlIGFuZCB0aGUgb2JqZWN0LgogIC8vIFdoZW4gdGhlIG1lbWJlciBm");
    sb.append("aWVsZCB3aXRoaW4gc3RhdGUgb2YgbmFtZSBjaGFuZ2VzLCBjb3B5IHRoYXQgdmFsdWUgaW50byB0aGUg");
    sb.append("b2JqIGFuZCBydW4gcmVjb21wdXRlKCkKICBzZWxmLlkgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFt");
    sb.append("ZSwgcmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIG9ialtu");
    sb.append("YW1lXSA9IHZhbHVlOwogICAgICByZWNvbXB1dGUoKTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUs");
    sb.append("IG5hbWUsIHN1Yik7CiAgfTsKCiAgc2VsZi5ZMiA9IGZ1bmN0aW9uIChzdGF0ZSwgciwga2V5LCBuYW1l");
    sb.append("LCByZWNvbXB1dGUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9i");
    sb.append("aiA9IHIuX1trZXldOwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKG9iaik7");
    sb.append("CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsK");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FOiBidWlsZCBhbiByeG9iagogIHNlbGYuUlggPSBmdW5jdGlvbiAodmFy");
    sb.append("cykgewogICAgdmFyIG8gPSB7fTsKICAgIG8uXyA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB2");
    sb.append("YXJzLmxlbmd0aDsgaysrKSB7CiAgICAgIG8uX1t2YXJzW2tdXSA9IHt9OwogICAgfQogICAgby5fXyA9");
    sb.append("IGZ1bmN0aW9uKCkge307CiAgICByZXR1cm4gbzsKICB9OwoKICAvLyBSVU5USU1FIHwgSnVzdCBzdWJz");
    sb.append("Y3JpYmVlIHZhbHVlIHRvIHRoZSBvYmplY3QgZmllbGQgb2YgbmFtZSAobm8tcmVjb21wdXRlKQogIHNl");
    sb.append("bGYuWVMgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9u");
    sb.append("ICh2YWx1ZSkgewogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9");
    sb.append("OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCAiVGV4");
    sb.append("dCIKICBzZWxmLlQgPSBmdW5jdGlvbiAodHgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0");
    sb.append("Tm9kZSh0eCk7CiAgfTsKCiAgLy8gY29udmVydCBhIHZhbHVlIGludG8gYSBib29sZWFuCiAgc2VsZi5C");
    sb.append("ID0gZnVuY3Rpb24odmFsKSB7CiAgICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgIHJldHVybiB0cnVl");
    sb.append("OwogICAgfQogICAgcmV0dXJuIHZhbCA9PSAidHJ1ZSI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx2aWV3");
    sb.append("LXdyaXRlIG5hbWU9IiIgdmFsdWU9IiI+CiAgc2VsZi5WVyA9IGZ1bmN0aW9uKHN0YXRlLCBuYW1lLCBy");
    sb.append("eE9iaikgewogICAgcnhPYmouX18gPSBkZWJvdW5jZSg1MCwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBv");
    sb.append("YmogPSB7fTsKICAgICAgdmFyIHZhbHVlID0gcnhPYmoudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgKHZh");
    sb.append("bHVlKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBl");
    sb.append("bHNlIHsKICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBw");
    sb.append("YXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4+CiAgc2VsZi5MID0g");
    sb.append("ZnVuY3Rpb24gKHN0YXRlLCBuYW1lKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5v");
    sb.append("ZGUoIiIpOwogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkb20ubm9kZVZhbHVl");
    sb.append("ID0gdmFsdWU7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogICAgcmV0dXJu");
    sb.append("IGRvbTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGxvb2t1cCBwYXRoPS4uLiB0cmFuc2Zvcm09IiR0cmFu");
    sb.append("c2Zvcm0iIC8+CiAgc2VsZi5MVCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSwgdHJhbnNmb3JtKSB7CiAg");
    sb.append("ICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwogICAgdmFyIHN1YiA9IGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAgICAgIGRvbS5ub2RlVmFs");
    sb.append("dWUgPSB0cmFuc2Zvcm0odmFsdWUpOwogICAgICB9CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBu");
    sb.append("YW1lLCBzdWIpOwogICAgcmV0dXJuIGRvbTsKICB9OwoKICBzZWxmLkxoID0gZnVuY3Rpb24gKHN0YXRl");
    sb.append("LCBuYW1lKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAg");
    sb.append("dmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAg");
    sb.append("ICAgIGRvbS5pbm5lckhUTUwgPSB2YWx1ZTsKICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0");
    sb.append("ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAg");
    sb.append("cGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAvPgogIHNlbGYuTFRkVCA9IGZ1bmN0aW9uIChz");
    sb.append("dGF0ZSwgbmFtZSwgdHJhbnNmb3JtLCBmcmVxKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRl");
    sb.append("VGV4dE5vZGUoIiIpOwogICAgLy8gY3JlYXRlIHRoZSBuZXh1cyBvYmplY3QKICAgIHZhciBvYmogPSB7");
    sb.append("fTsKICAgIG9iai5mcmVxID0gZnJlcTsKICAgIG9iai52YWx1ZSA9ICIiOwoKICAgIC8vIHVwZGF0ZSB3");
    sb.append("aWxsIGV4ZWN1dGUgdGhlIHRyYW5zZm9ybSBvbiB0aGUgdmFsdWUKICAgIG9iai51cGRhdGUgPSBmdW5j");
    sb.append("dGlvbigpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh0aGlzLnZhbHVlKTsKICAgIH0u");
    sb.append("YmluZChvYmopOwoKICAgIC8vIHN1YnNjcmlwdGlvbiB3aWxsIHN5bmMgdGhlIHZhbHVlCiAgICB2YXIg");
    sb.append("c3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAg");
    sb.append("dGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIH0KICAgIH0uYmlu");
    sb.append("ZChvYmopOwoKICAgIC8vIHJlZnJlc2ggd2lsbCByZS1leGVjdXRlIHRoZSB1cGRhdGUgKGFuZCB0aHVz");
    sb.append("IHRoZSB0cmFuc2Zvcm0pCiAgICBvYmoucmVmcmVzaCA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVw");
    sb.append("ZGF0ZSgpOwogICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7IC8vIHdpbGwgcnVu");
    sb.append("IHNvIGxvbmcgYXMgdGhlIERPTSBjb250YWlucyB0aGUgbm9kZSB3ZSBtYW5pcHVsYXRlZAogICAgICAg");
    sb.append("IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucmVmcmVzaCwgdGhpcy5mcmVxKTsKICAgICAgfQogICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAvLyBraWNrIG9mZiB0aGUgYXV0byB0cmFuc2Zvcm0KICAgIHdpbmRvdy5zZXRU");
    sb.append("aW1lb3V0KG9iai5yZWZyZXNoLCBmcmVxKTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsK");
    sb.append("ICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWc+CiAgc2VsZi5FID0gZnVuY3Rp");
    sb.append("b24gKHRhZywgbnMpIHsKICAgIGlmIChucyA9PSB1bmRlZmluZWQgfHwgbnMgPT0gbnVsbCkgewogICAg");
    sb.append("ICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOwogICAgICBpZiAodGFnID09ICJz");
    sb.append("ZWxlY3QiKSB7CiAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkg");
    sb.append("eyBkb20ucnh2YWx1ZSA9IGRvbS52YWx1ZTsgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvbTsKICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgIHZhciByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRh");
    sb.append("Zyk7CiAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoInhtbG5zIiwgbnMpOwogICAgICByZXR1cm4gcmVz");
    sb.append("dWx0OwogICAgfQogIH07CgogIHNlbGYuQ1N0ID0gZnVuY3Rpb24gKHBhcmVudCwgc3RhdGUsIGNoaWxk");
    sb.append("TWFrZXJDb25uZWN0ZWQsIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQpIHsKICAgIHZhciB1bnN1YiA9IG1h");
    sb.append("a2VfdW5zdWIoKTsKICAgIGlmICghc3RhdGUuZGF0YS5jb25uZWN0aW9uKSB7CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jb25uZWN0ZWQoZnVuY3Rpb24oY3MpIHsKICAg");
    sb.append("ICAgaWYgKHRoaXMucHJpb3IgPT0gY3MpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbnVr");
    sb.append("ZShwYXJlbnQpOwogICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgdGhpcy5wcmlvciA9IGNzOwog");
    sb.append("ICAgICB2YXIgbmV3U3RhdGUgPSBmb3JrKHN0YXRlKTsKICAgICAgaWYgKGNzKSB7CiAgICAgICAgY2hp");
    sb.append("bGRNYWtlckNvbm5lY3RlZChwYXJlbnQsIG5ld1N0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBj");
    sb.append("aGlsZE1ha2VyRGlzY29ubmVjdGVkKHBhcmVudCwgbmV3U3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNj");
    sb.append("cmliZV9zdGF0ZShuZXdTdGF0ZSwgdW5zdWIpOwogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jb250");
    sb.append("YWlucyhwYXJlbnQpOwogICAgfS5iaW5kKHtwcmlvcjpudWxsfSkpOwogIH07CgogIC8vIFJVTlRJTUUg");
    sb.append("fCA8bG9jYWwtc3RvcmFnZS1wb2xsIGtleT0ka2V5IFttcz0kbXNdPgogIHNlbGYuTG9TdFBvID0gZnVu");
    sb.append("Y3Rpb24ocGFyZW50LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRNYWtlckZvdW5kLCBjaGlsZE1ha2Vy");
    sb.append("Tm90Rm91bmQpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHZhciBzbSA9IHt9Owog");
    sb.append("ICAgc20ua2V5ID0gbnVsbDsKICAgIHNtLm1zID0gNTAwMDsKICAgIHNtLmxhc3QgPSAiISI7CiAgICBz");
    sb.append("bS5wID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLmtleSA9PSBudWxsKSB7CiAgICAgICAgcmV0");
    sb.append("dXJuOwogICAgICB9CiAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5");
    sb.append("KTsKICAgICAgaWYgKHZhbHVlID09IHRoaXMubGFzdCkgewogICAgICAgIHJldHVybjsKICAgICAgfQog");
    sb.append("ICAgICB0aGlzLmxhc3QgPSB2YWx1ZTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIG51a2Uo");
    sb.append("cGFyZW50KTsKICAgICAgdmFyIHRyZWUgPSBuZXcgQWRhbWFUcmVlKCk7CiAgICAgIHZhciBzdGF0ZSA9");
    sb.append("IHsKICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgZGF0YTogeyBjb25u");
    sb.append("ZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rpb24sIHRyZWU6IHRyZWUsIGRlbHRhOiB7fSwgcGFyZW50");
    sb.append("OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0");
    sb.append("ZS52aWV3KSwKICAgICAgICBjdXJyZW50OiAiZGF0YSIKICAgICAgfTsKICAgICAgaWYgKHZhbHVlID09");
    sb.append("IG51bGwpIHsKICAgICAgICBjaGlsZE1ha2VyTm90Rm91bmQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAg");
    sb.append("c3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2hpbGRN");
    sb.append("YWtlckZvdW5kKHBhcmVudCwgc3RhdGUpOwogICAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5z");
    sb.append("dWIpOwogICAgICAgIHRyZWUudXBkYXRlKHRyZWUuTWFrZURlbHRhKEpTT04ucGFyc2UodmFsdWUpKSk7");
    sb.append("CiAgICAgIH0KCiAgICB9LmJpbmQoc20pOwogICAgcnhPYmouX18gPSBkZWJvdW5jZSg1MCwgZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICBpZiAoJ2tleScgaW4gcnhPYmopIHsKICAgICAgICB0aGlzLmtleSA9IHJ4T2Jq");
    sb.append("LmtleTsKICAgICAgfQogICAgICBpZiAoJ21zJyBpbiByeE9iaikgewogICAgICAgIHRoaXMubXMgPSBw");
    sb.append("YXJzZUludChyeE9iai5tcyk7CiAgICAgICAgaWYgKGlzTmFOKHRoaXMubXMpKSB7CiAgICAgICAgICB0");
    sb.append("aGlzLm1zID0gNTAwMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5wKCk7CiAgICB9LmJpbmQo");
    sb.append("c20pKTsKCiAgICBzbS50aW1lb3V0ID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5ib2R5");
    sb.append("LmNvbnRhaW5zKHBhcmVudCkpIHsKICAgICAgICB0aGlzLnAoKTsKICAgICAgICB3aW5kb3cuc2V0VGlt");
    sb.append("ZW91dCh0aGlzLnRpbWVvdXQsIHRoaXMubXMpOwogICAgICB9CiAgICB9LmJpbmQoc20pOwogICAgd2lu");
    sb.append("ZG93LnNldFRpbWVvdXQoc20udGltZW91dCwgNTApOwogIH07CgogIC8vIFJVTlRJTUUgfCA8ZG9jdW1l");
    sb.append("bnQtZ2V0IHNwYWNlPSIkc3BhY2UiIGtleT0iJGtleSIgdXJsPSIkcGF0aCIgc2VhcmNoOng9Ii4uLiIg");
    sb.append("Li4uPgogIHNlbGYuRGNHID0gZnVuY3Rpb24ocGFyZW50LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRN");
    sb.append("YWtlckZldGNoZWQsIGNoaWxkTWFrZXJGYWlsZWQpIHsKICAgIC8vIFRPRE8KICB9OwoKICAvLyBSVU5U");
    sb.append("SU1FIHwgPGRvbWFpbi1nZXQgdXJsPSJwYXRoIiBzZWFyY2g6eD0iLi4uIiAuLi4+CiAgc2VsZi5ERyA9");
    sb.append("IGZ1bmN0aW9uKHBhcmVudCwgcHJpb3JTdGF0ZSwgcnhPYmosIGNoaWxkTWFrZXJGZXRjaGVkLCBjaGls");
    sb.append("ZE1ha2VyRmFpbGVkLCBkZWxheUxpbWl0KSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAg");
    sb.append("ICB2YXIgZGVsYXlUb1VzZSA9IHR5cGVvZihkZWxheUxpbWl0KSA9PSAibnVtYmVyIiA/IGRlbGF5TGlt");
    sb.append("aXQgOiAyNTA7CiAgICByeE9iai5fXyA9IGRlYm91bmNlKDUwLCBkZWxheShkZWxheVRvVXNlLCBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIGlmICghKCd1cmwnIGluIHJ4T2JqKSkgewogICAgICAgIHJldHVybjsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgYXJncyA9IFtdOwogICAgICB2YXIgaWRlbnRpdHkgPSBudWxsOwogICAgICBm");
    sb.append("b3IgKHZhciBhcmcgaW4gcnhPYmopIHsKICAgICAgICB2YXIgdmFsID0gcnhPYmpbYXJnXTsKICAgICAg");
    sb.append("ICBzd2l0Y2ggKGFyZykgewogICAgICAgICAgY2FzZSAiX18iOgogICAgICAgICAgY2FzZSAiXyI6CiAg");
    sb.append("ICAgICAgICBjYXNlICJ1cmwiOgogICAgICAgICAgY2FzZSAicmVkaXJlY3QiOgogICAgICAgICAgICBi");
    sb.append("cmVhazsKICAgICAgICAgIGNhc2UgImlkZW50aXR5IjoKICAgICAgICAgICAgaWYgKHR5cGVvZih2YWwp");
    sb.append("ID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgaWRlbnRpdHkgPSByeE9ialthcmddOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYXJn");
    sb.append("cy5wdXNoKGFyZyArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIHVybCA9IHJ4T2JqLnVybCArIChhcmdzLmxlbmd0aCA+IDAgPyAiPyIgKyBhcmdz");
    sb.append("LmpvaW4oIiYiKSA6ICIiKTsKICAgICAgdGhpcy5nZW4gKys7CiAgICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHhodHRwLm9ucmVhZHlz");
    sb.append("dGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodGhpcy54aHR0cC5yZWFkeVN0YXRl");
    sb.append("ID09IDQgJiYgdGhpcy5nZW4gPT0gc2VsZi5nZW4pIHsKICAgICAgICAgIGZpcmVfdW5zdWIodW5zdWIp");
    sb.append("OwogICAgICAgICAgbnVrZShwYXJlbnQpOwogICAgICAgICAgdmFyIHRyZWUgPSBuZXcgQWRhbWFUcmVl");
    sb.append("KCk7CiAgICAgICAgICB2YXIgc3RhdGUgPSB7CiAgICAgICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUu");
    sb.append("c2VydmljZSwKICAgICAgICAgICAgZGF0YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rp");
    sb.append("b24sIHRyZWU6IHRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAg");
    sb.append("ICAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyksCiAgICAgICAgICAgIGN1");
    sb.append("cnJlbnQ6ICJkYXRhIgogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAodGhpcy54aHR0cC5zdGF0dXMg");
    sb.append("PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy54aHR0cC5nZXRSZXNwb25zZUhlYWRl");
    sb.append("cigiQ29udGVudC1UeXBlIik7CiAgICAgICAgICAgIGlmICh0eXBlID09ICJhcHBsaWNhdGlvbi9qc29u");
    sb.append("IikgewogICAgICAgICAgICAgIHZhciB0b1B1c2ggPSB0cmVlLk1ha2VEZWx0YShKU09OLnBhcnNlKHRo");
    sb.append("aXMueGh0dHAucmVzcG9uc2VUZXh0KSk7CiAgICAgICAgICAgICAgY2hpbGRNYWtlckZldGNoZWQocGFy");
    sb.append("ZW50LCBzdGF0ZSk7CiAgICAgICAgICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZS51cGRhdGUodG9QdXNoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICAgICAgICBjaGlsZE1ha2VyRmFpbGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgICAgICAgIHN1YnNj");
    sb.append("cmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgICAgICBjaGlsZE1ha2VyRmFpbGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgICAgICBzdWJz");
    sb.append("Y3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0uYmlu");
    sb.append("ZCh7Z2VuOnNlbGYuZ2VuLCB4aHR0cDp4aHR0cH0pOwogICAgICB4aHR0cC5vcGVuKCJHRVQiLCAgc2Vs");
    sb.append("Zi5iYXNlICsgIi9+ZCIgKyB1cmwsIHRydWUpOwogICAgICBpZiAoaWRlbnRpdHkgIT0gbnVsbCkgewog");
    sb.append("ICAgICAgIHhodHRwLnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyICIgKyBp");
    sb.append("ZGVudGl0eSk7CiAgICAgIH0KICAgICAgeGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAg");
    sb.append("eGh0dHAuc2VuZCgpOwogICAgfS5iaW5kKHt1cmw6IiIsIGdlbjowLCBiYXNlOnNlbGYucHJvdG9jb2wg");
    sb.append("KyAiLy8iICsgc2VsZi5ob3N0fSkpKTsKICAgIHJ4T2JqLl9fKCk7CiAgfTsKCiAgLy8gUlVOVElNRSB8");
    sb.append("IDxwaWNrIG5hbWU9Li4uPgogIHNlbGYuUCA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIHJ4");
    sb.append("T2JqLCBjaGlsZE1ha2VyQ29ubmVjdGVkLCBjaGlsZE1ha2VyRGlzY29ubmVjdGVkLCBrZWVwT3Blbikg");
    sb.append("ewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgcnhPYmouX18gPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGlmICghKCduYW1lJyBpbiByeE9iaikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAg");
    sb.append("ICAgaWYgKHRoaXMubmFtZSA9PSByeE9iai5uYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeE9iai5uYW1lKTsKICAgICAgdGhpcy5uYW1l");
    sb.append("ID0gcnhPYmoubmFtZTsKICAgICAgY28uY29ubmVjdGVkKGZ1bmN0aW9uIChjcykgewogICAgICAgIGlm");
    sb.append("ICh0aGlzLnJlbmRlcmVkICYmIGtlZXBPcGVuKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQog");
    sb.append("ICAgICAgIG51a2UocGFyZW50KTsKICAgICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgICB2YXIg");
    sb.append("c3RhdGUgPSB7CiAgICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgICBk");
    sb.append("YXRhOiB7IGNvbm5lY3Rpb246IGNvLCB0cmVlOiBjby50cmVlLCBkZWx0YToge30sIHBhcmVudDogbnVs");
    sb.append("bCwgcGF0aDogbnVsbCB9LAogICAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52");
    sb.append("aWV3KSwKICAgICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICAgIH07CiAgICAgICAgaWYgKGNzKSB7");
    sb.append("CiAgICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTsKICAgICAgICAgIGNoaWxkTWFrZXJDb25uZWN0");
    sb.append("ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNoaWxkTWFrZXJEaXNj");
    sb.append("b25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIHN1YnNjcmliZV9zdGF0ZShz");
    sb.append("dGF0ZSwgdW5zdWIpOwogICAgICAgIC8vIFRPRE86IHJldHVybiBmYWxzZSB0byB1bnN1YgogICAgICAg");
    sb.append("IHJldHVybiB0cnVlOwogICAgICB9LmJpbmQodGhpcykpOwogICAgfS5iaW5kKHsgbmFtZTogIiIsIHJl");
    sb.append("bmRlcmVkOmZhbHNlIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGVtcGxhdGUgbmFtZT0iLi4uIj4K");
    sb.append("ICBzZWxmLlRQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgdGVtcGxhdGVzW25hbWVdID0gZm9v");
    sb.append("OwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnRlbXBsYXRlPSRuYW1lPgogIHNlbGYuVVQgPSBm");
    sb.append("dW5jdGlvbiAocGFyZW50LCBzdGF0ZSwgbmFtZSwgY2hpbGRfbWFrZXIpIHsKICAgIHZhciBmb28gPSB0");
    sb.append("ZW1wbGF0ZXNbbmFtZV07CiAgICBpZiAodHlwZW9mKGZvbykgPT0gImZ1bmN0aW9uIikgewogICAgICBm");
    sb.append("b28ocGFyZW50LCBzdGF0ZSwgY2hpbGRfbWFrZXIpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5l");
    sb.append("cnJvcigiZmFpbGVkIHRvIGZpbmQgdGVtcGxhdGU6ICIgKyBuYW1lKTsKICAgIH0KICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgPHRhZyByeDpzd2l0Y2g9cGF0aCAuLj4KICBzZWxmLlNXID0gZnVuY3Rpb24gKHBhcmVu");
    sb.append("dCwgcHJpb3JTdGF0ZSwgbmFtZSwgY2hpbGRyZW5NYWtlcikgewogICAgdmFyIHN3c3QgPSB7IHByaW9y");
    sb.append("OiBudWxsIH07CiAgICBhZGRfdW5zdWIoc3dzdCk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVl");
    sb.append("KSB7CiAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLnByaW9yKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIHRoaXMucHJpb3IgPSB2YWx1ZTsKICAgICAgZmlyZV91bnN1Yih0aGlzKTsKICAgICAgbnVr");
    sb.append("ZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBjaGlsZHJl");
    sb.append("bk1ha2VyKHBhcmVudCwgc2VsZi5wRChzdGF0ZSksICIiICsgdmFsdWUpOwogICAgICBzdWJzY3JpYmVf");
    sb.append("c3RhdGUoc3RhdGUsIHRoaXMpOwogICAgfS5iaW5kKHN3c3QpOwogICAgc3Vic2NyaWJlKHByaW9yU3Rh");
    sb.append("dGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWcgcng6aXRlcmF0ZT1wYXRoIC4u");
    sb.append("Lj4KICBzZWxmLklUID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcs");
    sb.append("IG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmll");
    sb.append("dyk7CiAgICB2YXIgZG9tQnlLZXkgPSB7fTsKICAgIHZhciB2aWV3VW5TdWJCeUtleSA9IHt9OwogICAg");
    sb.append("dmFyIGtpbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB2aWV3VW5TdWJCeUtl");
    sb.append("eSkgewogICAgICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgZGVsZXRl");
    sb.append("IHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgIH0KICAgICAgZm9yICh2YXIga2V5IGluIGRvbUJ5S2V5");
    sb.append("KSB7CiAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1");
    sb.append("YiA9IHsKICAgICAgIisiOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZv");
    sb.append("cmsoc2VsZi5wSUUoaXRfc3RhdGUsIGtleSwgZXhwYW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9");
    sb.append("IG1ha2VfdW5zdWIoKTsKICAgICAgICB2YXIgZG9tID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICBk");
    sb.append("b21CeUtleVtrZXldID0gZG9tOwogICAgICAgIHZpZXdVblN1YkJ5S2V5W2tleV0gPSB1bnN1YjsKICAg");
    sb.append("ICAgICBwYXJlbnREb20uYXBwZW5kKGRvbSk7CiAgICAgICAgdmFyIGl0ZW1fZGVsdGEgPSBuZXdfc3Rh");
    sb.append("dGUuZGF0YS5kZWx0YTsKICAgICAgICBuZXdfc3RhdGUuZGF0YS5kZWx0YSA9IHt9OwogICAgICAgIHN1");
    sb.append("YnNjcmliZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewog");
    sb.append("ICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXRoX3RvKG5ld19zdGF0ZS52aWV3LCB7IiRr");
    sb.append("ZXkiOiBrZXl9KSk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaXRlbV9kZWx0YTsKICAgICAgfSwK");
    sb.append("ICAgICAgIi0iOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKGtleSBpbiBkb21CeUtleSkgewog");
    sb.append("ICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbUJ5S2V5W2tl");
    sb.append("eV0pOwogICAgICAgICAgfSBjYXRjaCAoZXgpIHt9CiAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5");
    sb.append("XTsKICAgICAgICB9CiAgICAgICAgaWYgKGtleSBpbiB2aWV3VW5TdWJCeUtleSkgewogICAgICAgICAg");
    sb.append("ZmlyZV91bnN1Yih2aWV3VW5TdWJCeUtleVtrZXldKTsKICAgICAgICAgIGRlbGV0ZSB2aWV3VW5TdWJC");
    sb.append("eUtleVtrZXldOwogICAgICAgIH0KICAgICAgfSwKICAgICAgIn4iOiBmdW5jdGlvbiAob3JkKSB7CiAg");
    sb.append("ICAgICAgdmFyIHZhbHVlVG9TZXQgPSBmYWxzZTsKICAgICAgICAvLyB0aGUgdmFsdWVzIGFyZSBmaWxs");
    sb.append("aW5nIHVwIEFGVEVyIHRoZSB2YWx1ZSB3YXMgc2V0LAogICAgICAgIC8vIHNvIGRldGVjdCB0aGUgYWJz");
    sb.append("ZW5jZSBvZiBhIHZhbHVlIGFsb25nIHdpdGggdGhlIGV4aXN0ZW5jZSBvZiBhIHZhbHVlCiAgICAgICAg");
    sb.append("aWYgKCFwYXJlbnREb20udmFsdWUgJiYgcGFyZW50RG9tLnJ4dmFsdWUgIT0gIiIpIHsKICAgICAgICAg");
    sb.append("IHZhbHVlVG9TZXQgPSBwYXJlbnREb20ucnh2YWx1ZTsKICAgICAgICAgIC8vIHRoaXMgdmFsdWUsIHdl");
    sb.append("IHdhbnQgdG8gcmVzdG9yZSBvbmNlCiAgICAgICAgfQogICAgICAgIG51a2UocGFyZW50RG9tKTsKICAg");
    sb.append("ICAgICBpZiAob3JkID09IG51bGwpIHsKICAgICAgICAgIGtpbGwoKTsKICAgICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmQubGVuZ3RoOyBrKyspIHsKICAg");
    sb.append("ICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tQnlLZXlbb3JkW2tdXSk7CiAgICAgICAgfQogICAgICAg");
    sb.append("IGlmICh2YWx1ZVRvU2V0KSB7CiAgICAgICAgICBwYXJlbnREb20udmFsdWUgPSB2YWx1ZVRvU2V0Owog");
    sb.append("ICAgICAgIH0KICAgICAgICBwYXJlbnREb20uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoIm9yZGVyZWQi");
    sb.append("KSk7CiAgICAgIH0KICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRTogPHRhZyAuLi4gcng6bW9uaXRvcj0ic3RhdGUtcGF0aCIgcng6cmlzZT0iY29tbWFu");
    sb.append("ZHMuLi4iIHJ4OmZhbGw9ImNvbW1hbmRzLi4uIgogIHNlbGYuTU4gPSBmdW5jdGlvbiAoZG9tLCBzdGF0");
    sb.append("ZSwgbmFtZSwgc2tpcEZpcnN0LCBkZWxheSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkg");
    sb.append("ewogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbiA9IDA7CiAg");
    sb.append("ICAgICAgdHJ5IHsKICAgICAgICAgIG4gPSB0eXBlb2YgKHZhbHVlKSA9PSAnbnVtYmVyJyA/IHZhbHVl");
    sb.append("IDogcGFyc2VJbnQodmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGZhaWxlZFBhcnNpbmdOKSB7CiAgICAg");
    sb.append("ICAgfQogICAgICAgIGlmICh0aGlzLmZpcnN0KSB7CiAgICAgICAgICB0aGlzLmF0ID0gbjsKICAgICAg");
    sb.append("ICAgIHRoaXMuZmlyc3QgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAg");
    sb.append("aWYgKHRoaXMuYXQgPCBuKSB7CiAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgicmlzZSIpOwogICAg");
    sb.append("ICAgICAgZG9tLmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF0ID4gbikg");
    sb.append("ewogICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnQoImZhbGwiKTsKICAgICAgICAgIGRvbS5kaXNwYXRj");
    sb.append("aEV2ZW50KGUpOwogICAgICAgIH0KICAgICAgICB0aGlzLmF0ID0gbjsKICAgICAgfS5iaW5kKHRoaXMp");
    sb.append("LCB0aGlzLmRlbGF5KTsKICAgIH0uYmluZCh7YXQ6LTEsIGZpcnN0OnNraXBGaXJzdCwgZGVsYXk6ZGVs");
    sb.append("YXkgPyBkZWxheSA6IDEwfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRTogPHRhZyAuLi4gcng6cmVwZWF0PSQ+CiAgc2VsZi5SUCA9IGZ1bmN0aW9uIChwYXJl");
    sb.append("bnREb20sIHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBtYWtlcikgewogICAgdmFyIGl0X3N0YXRlID0g");
    sb.append("c2VsZi5wSUUoc3RhdGUsICIkIiArIG5hbWUsIGV4cGFuZFZpZXcpOwogICAgdmFyIHN1YiA9IGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICB2YXIgbiA9IDA7CiAgICAgIHRyeSB7CiAgICAgICAgbiA9IHR5cGVv");
    sb.append("ZiAodmFsdWUpID09ICdudW1iZXInID8gdmFsdWUgOiBwYXJzZUludCh2YWx1ZSk7CiAgICAgIH0gY2F0");
    sb.append("Y2ggKGZhaWxlZFBhcnNpbmdOKSB7CiAgICAgIH0KICAgICAgd2hpbGUgKHRoaXMuYXQgPCBuIC0gMSkg");
    sb.append("ewogICAgICAgIHRoaXMuYXQgKys7CiAgICAgICAgdGhpcy50cmFjayArKzsKICAgICAgICB2YXIgbmV3");
    sb.append("X3N0YXRlID0gZm9yayhzZWxmLnBJRShpdF9zdGF0ZSwgdGhpcy50cmFjayArICIiLCBleHBhbmRWaWV3");
    sb.append("KSk7CiAgICAgICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgICAgIHZhciBkb20gPSBtYWtl");
    sb.append("cihzZWxmLnBEKG5ld19zdGF0ZSkpOwogICAgICAgIHRoaXMuaXRlbXNbdGhpcy5hdF0gPSB7dW5zdWI6");
    sb.append("dW5zdWIsIGRvbTpkb219OwogICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tKTsKICAgICAgICBpZiAo");
    sb.append("ZXhwYW5kVmlldykgewogICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXRoX3RvKG5ld19z");
    sb.append("dGF0ZS52aWV3LCB7IiRpbmRleCI6IHRoaXMudHJhY2t9KSk7CiAgICAgICAgfQogICAgICAgIHN1YnNj");
    sb.append("cmliZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy5hdCA+");
    sb.append("PSBuICYmIHRoaXMuYXQgPj0gMCkgewogICAgICAgIGZpcmVfdW5zdWIodGhpcy5pdGVtc1t0aGlzLmF0");
    sb.append("XS51bnN1Yik7CiAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKHRoaXMuaXRlbXNbdGhpcy5hdF0u");
    sb.append("ZG9tKTsKICAgICAgICB0aGlzLml0ZW1zW3RoaXMuYXRdID0gbnVsbDsKICAgICAgICBkZWxldGUgdGhp");
    sb.append("cy5pdGVtc1t0aGlzLmF0XTsKICAgICAgICB0aGlzLmF0LS07CiAgICAgIH0KICAgIH0uYmluZCh7aXRl");
    sb.append("bXM6W10sIGF0Oi0xLCB0cmFjazowfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAg");
    sb.append("fQogIHZhciBmaW5kID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsLCBrZXksIHZhbHVlKSB7CiAgICBp");
    sb.append("ZiAoY2hhbm5lbCBpbiBzdGF0ZVsiZGF0YSJdLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmcpIHsKICAgICAg");
    sb.append("dmFyIGFyciA9IHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXS5vcHRp");
    sb.append("b25zOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykgewogICAgICAgIHZh");
    sb.append("ciBzID0gYXJyW2tdOwogICAgICAgIGlmIChrZXkgaW4gcyAmJiBzW2tleV0gPT0gdmFsdWUpIHsKICAg");
    sb.append("ICAgICAgIHJldHVybiBzOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIHZhciBjdXN0b21zID0ge307Cgog");
    sb.append("IHNlbGYuUFJDVUFDID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9tc1tuYW1lXSA9IGZv");
    sb.append("bzsKICB9OwoKICBzZWxmLmV4Q0MgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgY3VzdG9tQ29t");
    sb.append("bWFuZE5hbWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAgY3VzdG9tc1tjdXN0");
    sb.append("b21Db21tYW5kTmFtZV0oc3RhdGUsIGRvbSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIGN1c3Rv");
    sb.append("bSBldmVudCBvbiBmb3Jtczsgcng6c3VjY2Vzcz0iLi4uIgogIHZhciBmaXJlX3N1Y2Nlc3MgPSBmdW5j");
    sb.append("dGlvbiAoZm9ybSkgewogICAgZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgic3VjY2VzcyIpKTsK");
    sb.append("ICAgIGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1Ym1pdHRlZCIpKTsKICB9OwogIHNlbGYu");
    sb.append("ZmlyZV9zdWNjZXNzID0gZmlyZV9zdWNjZXNzOwoKICAvLyBjdXN0b20gZXZlbnQgb24gZm9ybXM7IHJ4");
    sb.append("OmZhaWxlZD0iLi4uIgogIHZhciBmaXJlX2ZhaWx1cmUgPSBmdW5jdGlvbiAoZG9tLCBtc2cpIHsKICAg");
    sb.append("IHZhciBlID0gbmV3IEV2ZW50KCJmYWlsdXJlIik7CiAgICBlLm1lc3NhZ2UgPSBtc2c7CiAgICBjb25z");
    sb.append("b2xlLmVycm9yKG1zZyk7CiAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICB9OwogIHNlbGYuZmlyZV9m");
    sb.append("YWlsdXJlID0gZmlyZV9mYWlsdXJlOwoKICBzZWxmLmFDQyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwg");
    sb.append("Y3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAobXNnKSB7CiAgICAg");
    sb.append("IGlmIChzaWduYWwgPT0gbnVsbCkgewogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBl");
    sb.append("bHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgbXNnKTsKICAgICAgfQogICAgfTsKICAgIGZv");
    sb.append("cm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBpZiAoY3Vz");
    sb.append("dG9tQ29tbWFuZE5hbWUgaW4gY3VzdG9tcykgewogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwog");
    sb.append("ICAgICAgIHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCB7fSk7CiAgICAgICAgY3VzdG9tc1tjdXN0b21D");
    sb.append("b21tYW5kTmFtZV0ob2JqLCBzdGF0ZSwgc2lnbmFsLCBzZWxmKTsKICAgICAgICBmaXJlX3N1Y2Nlc3Mo");
    sb.append("Zm9ybSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8g");
    sb.append("ZmluZCAnIiArIGN1c3RvbUNvbW1hbmROYW1lICsgIiciKTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAg");
    sb.append("fTsKCiAgdmFyIG1ha2VfY2hvaWNlX2FycmF5ID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsKSB7CiAg");
    sb.append("ICB2YXIgY2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgaWYgKCEoY2hh");
    sb.append("bm5lbCBpbiBjaG9pY2VzKSkgewogICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAgICB9CiAgICB2");
    sb.append("YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgIHZhciBhcnIgPSBbXTsKICAgIGZvciAodmFy");
    sb.append("IGlkIGluIGNob2ljZSkgewogICAgICBhcnIucHVzaChjaG9pY2VbaWRdKTsKICAgIH0KICAgIHJldHVy");
    sb.append("biBhcnI7CiAgfQoKICBzZWxmLmV4RklOID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIGNoYW5u");
    sb.append("ZWwpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZh");
    sb.append("ciBhcnIgPSBtYWtlX2Nob2ljZV9hcnJheShzdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciBjbGVhciA9");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxldGUgc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXNb");
    sb.append("Y2hhbm5lbF07CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNlcyhjaGFubmVsLCB7");
    sb.append("fSk7CiAgICAgIH07CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCBh");
    sb.append("cnIsIHsKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjbGVhcigp");
    sb.append("OwogICAgICAgICAgY29uc29sZS5sb2coImZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9LAogICAg");
    sb.append("ICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBjbGVhcigpOwogICAgICAg");
    sb.append("ICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxKTsKICAgICAgICB9CiAgICAgIH0p");
    sb.append("OwogICAgfSk7CiAgfTsKCiAgc2VsZi5GSU4gPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBj");
    sb.append("aGFubmVsLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIg");
    sb.append("ZmluYWxpemUgPSB7CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxzZQogICAgfTsK");
    sb.append("ICAgIGFkZF91bnN1YihmaW5hbGl6ZSk7CgogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7");
    sb.append("CiAgICAgIGZpcmVfdW5zdWIoZmluYWxpemUpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBz");
    sb.append("dGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRCZSkgewogICAg");
    sb.append("ICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZh");
    sb.append("bHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgZmlu");
    sb.append("YWxpemUpOwogICAgfTsKCiAgICBmaW5hbGl6ZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZh");
    sb.append("ciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXTsKICAg");
    sb.append("ICAgaWYgKCEob3V0KSkgcmV0dXJuOwogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2VfYXJyYXkocHJp");
    sb.append("b3JTdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciByZXN1bHQgPSAoJ21pbicgaW4gb3V0ICYmICdtYXgn");
    sb.append("IGluIG91dCkgPyAob3V0Lm1pbiA8PSBhcnIubGVuZ3RoICYmIGFyci5sZW5ndGggPD0gb3V0Lm1heCkg");
    sb.append("OiB0cnVlOwogICAgICBpZiAoZmluYWxpemUuZXZhbCAhPSByZXN1bHQpIHsKICAgICAgICBmaW5hbGl6");
    sb.append("ZS5ldmFsID0gcmVzdWx0OwogICAgICAgIGNoYW5nZShmaW5hbGl6ZS5ldmFsKTsKICAgICAgfQogICAg");
    sb.append("fTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNoYW5uZWws");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgZmluYWxpemUudXBkYXRlKCk7CiAgICAgIC8vIFRPRE86IHJldHVy");
    sb.append("biB3aGV0aGVyIG9yIG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0dXJuIHRydWU7CiAg");
    sb.append("ICB9KTsKICB9OwoKICB2YXIgZm9ybV9vZiA9IGZ1bmN0aW9uKGRvbSkgewogICAgdmFyIG5leHQgPSBk");
    sb.append("b207CiAgICB3aGlsZSAobmV4dCAhPSBudWxsKSB7CiAgICAgIGlmIChuZXh0LnRhZ05hbWUudG9VcHBl");
    sb.append("ckNhc2UoKSA9PSAiRk9STSIpIHsKICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgfQogICAgICBuZXh0");
    sb.append("ID0gbmV4dC5wYXJlbnRFbGVtZW50OwogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgcmVn");
    sb.append("X2V2ZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIHJ1bm5hYmxlKSB7CiAgICAvLyBUT0RP");
    sb.append("OiBjb25uZWN0ZWQvZGlzY29ubmVjdGVkIGFzIHNwZWNpYWwgZXZlbnRzIHRvIGNvbnNpZGVyCiAgICBp");
    sb.append("ZiAodHlwZSA9PSAiY2hlY2siIHx8IHR5cGUgPT0gInVuY2hlY2siKSB7CiAgICAgIGRvbS5hZGRFdmVu");
    sb.append("dExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy50eXBlID09ICJj");
    sb.append("aGVjayIgJiYgZG9tLmNoZWNrZWQpIHsKICAgICAgICAgIHJ1bm5hYmxlKCk7CiAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh0aGlzLnR5cGUgPT0gInVuY2hlY2siICYmICFkb20uY2hlY2tlZCkgewogICAgICAgICAgcnVu");
    sb.append("bmFibGUoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh7dHlwZTp0eXBlfSkpOwogICAgfSBlbHNlIGlm");
    sb.append("ICh0eXBlID09ICJsb2FkIikgewogICAgICB3aW5kb3cuc2V0VGltZW91dChydW5uYWJsZSwgMSk7CiAg");
    sb.append("ICB9IGVsc2UgaWYgKHR5cGU9PSJzdWJtaXQiIHx8IHR5cGU9PSJzdWJtaXR0ZWQiKSB7CiAgICAgIHdp");
    sb.append("bmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBmb3JtID0gZm9ybV9vZihkb20p");
    sb.append("OwogICAgICAgIGlmIChmb3JtKSB7CiAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwg");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7");
    sb.append("CiAgICAgICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9LCAxKTsKICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCJkZWxheToiKSkg");
    sb.append("ewogICAgICAvLyBkZWxheSB3aWxsIHJ1biBhZnRlciAkZGVsYXlUaW1lTVMgSUYgdGhlIGRvbSBlbGVt");
    sb.append("ZW50IGlzIHN0aWxsIHZpc2libGUgdG8gdGhlIGRvY3VtZW50CiAgICAgIHZhciBkZWxheVRpbWVNUyA9");
    sb.append("IHBhcnNlSW50KHR5cGUuc3Vic3RyaW5nKDYpKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvbSkpIHsKICAgICAgICAg");
    sb.append("IHJ1bm5hYmxlKCk7CiAgICAgICAgfQogICAgICB9LCBkZWxheVRpbWVNUyk7CiAgICB9IGVsc2UgaWYg");
    sb.append("KHR5cGUgPT0gInNldHRsZSIpIHsKICAgICAgc3RhdGUuZGF0YS50cmVlLmFkZF9vbl9zZXR0bGUoZnVu");
    sb.append("Y3Rpb24oKSB7CiAgICAgICAgLy8gaWYgdGhlIERPTSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgYm9keSwg");
    sb.append("dGhlbiBydW4gdGhlIGNvZGUKICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7");
    sb.append("CiAgICAgICAgICBydW5uYWJsZSgpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAg");
    sb.append("ICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gInNldHRsZS1v");
    sb.append("bmNlIikgewogICAgICBzdGF0ZS5kYXRhLnRyZWUuYWRkX29uX3NldHRsZShmdW5jdGlvbigpIHsKICAg");
    sb.append("ICAgICAvLyBpZiB0aGUgRE9NIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBib2R5LCB0aGVuIHJ1biB0aGUg");
    sb.append("Y29kZQogICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvbSkpIHsKICAgICAgICAgIHJ1");
    sb.append("bm5hYmxlKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICB9IGVs");
    sb.append("c2UgewogICAgICBpZiAodHlwZSA9PSAiY2xpY2siKSB7CiAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVu");
    sb.append("ZXIodHlwZSwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgIHZhciBmaXJlID0gdHJ1ZTsKICAgICAg");
    sb.append("ICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBlbCA9IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgd2hp");
    sb.append("bGUgKGVsICYmIGZpcmUpIHsKICAgICAgICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdwcmV2ZW50");
    sb.append("OmNsaWNrJykpIHsKICAgICAgICAgICAgICAgIGZpcmUgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAgICAgfQogICAgICAgICAgaWYgKGZpcmUpIHsKICAgICAgICAgICAg");
    sb.append("cnVubmFibGUoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBk");
    sb.append("b20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBydW5uYWJsZSk7CiAgICAgIH0KICAgIH0KICB9CgoKCiAg");
    sb.append("Ly8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHNldDpuYW1lPXZhbHVlIC4uLiI+CiAgc2Vs");
    sb.append("Zi5iUyA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKHR5cGVvZiAo");
    sb.append("dmFsdWUpID09ICJmdW5jdGlvbiIpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBydW46IGZ1bmN0aW9u");
    sb.append("KCkge30sIC8vIGRvIG5vdGhpbmcsIHRoaXMgaXMgYSBzaW1wbGUgbWVyZ2UKICAgICAgICBtZXJnZTog");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICBvYmpbbmFtZV0gPSB2");
    sb.append("YWx1ZSgpOwogICAgICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAg");
    sb.append("ICAgICAgcmV0dXJuIGRlbHRhOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFy");
    sb.append("IG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90");
    sb.append("byhzdGF0ZS52aWV3LCBvYmopOwogICAgICByZXR1cm4gewogICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7");
    sb.append("fSwgLy8gZG8gbm90aGluZywgdGhpcyBpcyBhIHNpbXBsZSBtZXJnZQogICAgICAgIG1lcmdlOiBmdW5j");
    sb.append("dGlvbigpIHsgcmV0dXJuIGRlbHRhOyB9CiAgICAgIH0KICAgIH0KICB9OwoKICB2YXIgbWVyZ2VfZGVs");
    sb.append("dGEgPSBmdW5jdGlvbihhLCBiKSB7CiAgICBpZiAodHlwZW9mKGEpID09ICJvYmplY3QiICYmIHR5cGVv");
    sb.append("ZihiKSA9PSAib2JqZWN0IikgewogICAgICB2YXIgcmVzdWx0ID0ge307CiAgICAgIGZvciAodmFyIGsg");
    sb.append("aW4gYSkgewogICAgICAgIGlmIChrIGluIGIpIHsKICAgICAgICAgIHJlc3VsdFtrXSA9IG1lcmdlX2Rl");
    sb.append("bHRhKGFba10sIGJba10pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHRba10gPSBhW2td");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgICBmb3IodmFyIGsgaW4gYikgewogICAgICAgIGlmICghKGsg");
    sb.append("aW4gYSkpIHsKICAgICAgICAgIHJlc3VsdFtrXSA9IGJba107CiAgICAgICAgfQogICAgICB9CiAgICAg");
    sb.append("IHJldHVybiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gYTsKICB9OwogIHNlbGYuTUQgPSBtZXJnZV9k");
    sb.append("ZWx0YTsKCiAgc2VsZi5vbkIgPSBmdW5jdGlvbihkb20sIHR5cGUsIHN0YXRlLCBhcnIpIHsKICAgIHJl");
    sb.append("Z19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIHN1bSA9IHt9Owog");
    sb.append("ICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBjbWQg");
    sb.append("PSBhcnJba107CiAgICAgICAgY21kLnJ1bigpOwogICAgICAgIHZhciB0b01lcmdlID0gY21kLm1lcmdl");
    sb.append("KCkKICAgICAgICBzdW0gPSBtZXJnZV9kZWx0YShzdW0sIHRvTWVyZ2UpOwogICAgICB9CiAgICAgIHN0");
    sb.append("YXRlLnZpZXcudHJlZS51cGRhdGUoc3VtKTsKICAgIH0pOwogIH07CgogIC8vIGNob29zZQogIHNlbGYu");
    sb.append("ZXhDSCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBjaGFubmVsLCBrZXkpIHsKICAg");
    sb.append("IHZhciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlw");
    sb.append("ZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmluZChzdGF0ZSwgY2hhbm5lbCwga2V5");
    sb.append("LCBkZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHsKICAgICAgICB2YXIgY2hv");
    sb.append("aWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgICAgIGlmICghKGNoYW5uZWwg");
    sb.append("aW4gY2hvaWNlcykpIHsKICAgICAgICAgIGNob2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgICAgICB9CiAg");
    sb.append("ICAgICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAgICAgICAgdmFyIHZhbEtleSA9IHJl");
    sb.append("c3VsdFtrZXldOwogICAgICAgIGlmICh2YWxLZXkgaW4gY2hvaWNlKSB7CiAgICAgICAgICBkZWxldGUg");
    sb.append("Y2hvaWNlW3ZhbEtleV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNob2ljZVt2YWxLZXldID0g");
    sb.append("cmVzdWx0OwogICAgICAgIH0KICAgICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub25jaG9pY2VzKGNo");
    sb.append("YW5uZWwsIGNob2ljZSk7CiAgICAgIH0KICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBm");
    sb.append("dW5jdGlvbiAodmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVlID0gdmFsdWU7CiAgICB9KTsKICB9OwoK");
    sb.append("ICAvLyBkZWNpZGUKICBzZWxmLmV4RCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBj");
    sb.append("aGFubmVsLCBrZXkpIHsKICAgIHZhciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICByZWdfZXZl");
    sb.append("bnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmluZChz");
    sb.append("dGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9IG51bGwp");
    sb.append("IHsKICAgICAgICBsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgcmVzdWx0LCB7CiAgICAgICAgICBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAocmVhc29uKSB7CgogICAgICAgICAgfSwKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9u");
    sb.append("IChwYXlsb2FkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzfCIgKyBwYXlsb2FkLnNl");
    sb.append("cSArICI7bGF0ZW5jeT0iICsgKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpKTsKICAgICAgICAgIH0K");
    sb.append("ICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIC8v");
    sb.append("IFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmaXJlOmNoYW5uZWwgLi4uIiAuLi4+CiAgc2Vs");
    sb.append("Zi5vbkZSID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIGNoYW5uZWwpIHsKICAgIHJlZ19ldmVu");
    sb.append("dChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlv");
    sb.append("bi5wdHIuc2VuZChjaGFubmVsLCB7fSwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICAgIGNvbnNvbGUubG9nKCJTRU5UICciICsgY2hhbm5lbCArICInIik7CiAgICAgICAgfSwKICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRkFJ");
    sb.append("TEVEIFRPIEZJUkUgJyIgKyBjaGFubmVsICsgIicgRFVFOiIgKyByZWFzb24pOyAnJwogICAgICAgIH0K");
    sb.append("ICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBm");
    sb.append("b3JjZS1hdXRoPW5hbWUsdG9rZW4gLi4uIj4KICBzZWxmLm9uRk9SQ0VfQVVUSCA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHR5cGUsIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpIHsKICAgIHJlZ19ldmVudChudWxsLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gaWRlbnRp");
    sb.append("dHk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBp");
    sb.append("ZGVudGl0eSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("c2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLm9uUyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRl");
    sb.append("LCBuYW1lLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9u");
    sb.append("IikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2Jq");
    sb.append("W25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3");
    sb.append("LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9");
    sb.append("KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gdGU6bmFtZSAuLi4iPgog");
    sb.append("IHNlbGYub25UTSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBveCwgb3kpIHsKICAg");
    sb.append("IHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG9i");
    sb.append("aiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB7CiAgICAgICAgeDpldmVudC5jbGllbnRYICsgd2luZG93");
    sb.append("LnNjcm9sbFggKyBveCwKICAgICAgICB5OmV2ZW50LmNsaWVudFkgKyB3aW5kb3cuc2Nyb2xsWSArIG95");
    sb.append("CiAgICAgIH07CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAg");
    sb.append("c3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgfTsKCiAgLy8g");
    sb.append("UlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5hbWUgLi4uIj4KICBzZWxmLm9uVEUgPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1l");
    sb.append("XSA9IGV2ZW50Lm1lc3NhZ2U7CiAgICAgIGlmIChldmVudC5tZXNzYWdlKSB7CiAgICAgICAgdmFyIGRl");
    sb.append("bHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRd");
    sb.append("LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRh");
    sb.append("ZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAgc2VsZi5vUlNUID0gZnVuY3Rpb24gKGRvbSwg");
    sb.append("dHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZl");
    sb.append("bnQpIHsKICAgICAgdmFyIGYgPSBmb3JtX29mKGRvbSk7CiAgICAgIGlmIChmICE9IG51bGwpIHsKICAg");
    sb.append("ICAgICBmLnJlc2V0KCk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4g");
    sb.append("cng6ZXZlbnQ9Ii4uLiByZXNldCAuLi4iPgogIHNlbGYub1JMRCA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7");
    sb.append("CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAu");
    sb.append("LiByeDpldmVudD0iLi4uIHN1Ym1pdCAuLi4iPgogIHNlbGYub1NCTVQgPSBmdW5jdGlvbiAoZG9tLCB0");
    sb.append("eXBlLCBzdGF0ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVu");
    sb.append("dCkgewogICAgICB2YXIgZiA9IGZvcm1fb2YoZG9tKTsKICAgICAgaWYgKGYgIT0gbnVsbCkgewogICAg");
    sb.append("ICAgIHZhciBlID0gbmV3IFN1Ym1pdEV2ZW50KCdzdWJtaXQnLCB7CiAgICAgICAgICAnYnViYmxlcycg");
    sb.append("ICAgOiB0cnVlLAogICAgICAgICAgJ2NhbmNlbGFibGUnIDogdHJ1ZQogICAgICAgIH0pOwogICAgICAg");
    sb.append("IGYuZGlzcGF0Y2hFdmVudChlKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRh");
    sb.append("ZyAuLiByeDpldmVudD0iLi4uIHN1Ym1pdDokaWQgLi4uIj4KICBzZWxmLm9TRkkgPSBmdW5jdGlvbiAo");
    sb.append("ZG9tLCB0eXBlLCBzdGF0ZSwgaWQpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5j");
    sb.append("dGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAg");
    sb.append("ICAgIGlmIChmICE9IG51bGwpIHsKICAgICAgICB2YXIgZSA9IG5ldyBTdWJtaXRFdmVudCgnc3VibWl0");
    sb.append("JywgewogICAgICAgICAgJ2J1YmJsZXMnICAgIDogdHJ1ZSwKICAgICAgICAgICdjYW5jZWxhYmxlJyA6");
    sb.append("IHRydWUKICAgICAgICB9KTsKICAgICAgICBmLmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgIH0KICAgIH0p");
    sb.append("OwogIH07CgogIHNlbGYub05LID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19l");
    sb.append("dmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGN1ciA9IGRv");
    sb.append("bTsKICAgICAgd2hpbGUgKGN1ci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT0gIk5VQ0xFQVIiKSB7CiAg");
    sb.append("ICAgICAgY3VyID0gY3VyLnBhcmVudEVsZW1lbnQ7CiAgICAgIH0KICAgICAgaWYgKGN1ciAhPSBudWxs");
    sb.append("KSB7CiAgICAgICAgbnVrZShjdXIpOwogICAgICB9CiAgICB9KTsKICB9OwoKCiAgc2VsZi5vVUNLID0g");
    sb.append("ZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBl");
    sb.append("LCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZG9tLmNoZWNrZWQgPSBmYWxzZTsKICAgIH0pOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBnb3RvOnVyaSAuLi4iPgogIHNlbGYu");
    sb.append("b25HTyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0");
    sb.append("YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVyaSA9ICh0eXBlb2YgKHZhbHVl");
    sb.append("KSA9PSAiZnVuY3Rpb24iKSA/IHZhbHVlKCkgOiB2YWx1ZTsKICAgICAgc2VsZi5nb3RvKHVyaSwgZmFs");
    sb.append("c2UpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRvZ2ds");
    sb.append("ZTpuYW1lIC4uLiI+CiAgc2VsZi5vblQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkg");
    sb.append("ewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogZmFsc2UgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwg");
    sb.append("ZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVd");
    sb.append("ID0gIWNhcHR1cmVkLnZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9i");
    sb.append("aik7CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJlZC52YWx1ZSA9IHZh");
    sb.append("bHVlID09IHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgb3JkZXJfdG9nZ2xlID0gZnVuY3Rpb24ocHJp");
    sb.append("b3IsIHZhbCkgewogICAgdmFyIHBhcnRzID0gcHJpb3Iuc3BsaXQoIiwiKTsKICAgIHZhciBwcmVmaXgg");
    sb.append("PSAnJzsKICAgIHZhciBuZXh0ID0gWyIiXTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFydHMubGVu");
    sb.append("Z3RoOyBrKyspIHsKICAgICAgaWYgKHBhcnRzW2tdID09ICIiKSB7CiAgICAgICAgY29udGludWU7CiAg");
    sb.append("ICAgIH0gZWxzZSBpZiAodmFsID09IHBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJy0nOwogICAg");
    sb.append("ICB9IGVsc2UgaWYgKCItIiArIHZhbCA9PXBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJyc7CiAg");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dC5wdXNoKHBhcnRzW2tdKTsKICAgICAgfQogICAgfQogICAg");
    sb.append("bmV4dFswXSA9IHByZWZpeCArIHZhbDsKICAgIHJldHVybiBuZXh0LmpvaW4oIiwiKTsKICB9CgogIC8v");
    sb.append("IFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBvcmRlci10b2dnbGU6bmFtZT12YWwgLi4uIj4K");
    sb.append("ICBzZWxmLm9uT1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsKSB7CiAgICB2");
    sb.append("YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAiIiB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUs");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBvcmRlcl90");
    sb.append("b2dnbGUoY2FwdHVyZWQudmFsdWUsIHZhbCk7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUu");
    sb.append("dmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwog");
    sb.append("ICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBj");
    sb.append("YXB0dXJlZC52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiBy");
    sb.append("eDpldmVudD0iLi4uIGRlbHRhOm5hbWU9ZGlmZiIgLi4uIj4KICBzZWxmLm9uRCA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHR5cGUsIHN0YXRlLCBuYW1lLCBkaWZmKSB7CiAgICB2YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAw");
    sb.append("IH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IGNhcHR1cmVkLnZhbHVlICsgZGlmZjsKICAgICAgdmFy");
    sb.append("IGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50");
    sb.append("XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVu");
    sb.append("Y3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAibnVtYmVyIikgewogICAg");
    sb.append("ICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZhbCA9");
    sb.append("IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgY2Fw");
    sb.append("dHVyZWQudmFsdWUgPSB2YWw7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIHNlbGYuQ1NF");
    sb.append("TiA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwgY2hhbm5lbCwga2V5LCBu");
    sb.append("YW1lLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgY2hv");
    sb.append("c2VuID0gewogICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBm");
    sb.append("YWxzZSwKICAgICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1YihjaG9zZW4pOwogICAgdmFy");
    sb.append("IGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoY2hvc2VuKTsKICAgICAg");
    sb.append("bnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAo");
    sb.append("c2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7CiAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBz");
    sb.append("dWJzY3JpYmVfc3RhdGUoc3RhdGUsIGNob3Nlbik7CiAgICB9OwoKICAgIGNob3Nlbi51cGRhdGUgPSBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRz");
    sb.append("dGFuZGluZ1tjaGFubmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwoKICAgICAgdmFyIGNob2lj");
    sb.append("ZXMgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgICBpZiAoIShjaGFubmVs");
    sb.append("IGluIGNob2ljZXMpKSB7CiAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICB9CiAgICAg");
    sb.append("IHZhciBjaG9pY2UgPSBjaG9pY2VzW2NoYW5uZWxdOwogICAgICB2YXIgcmVzdWx0ID0gY2hvc2VuLnZh");
    sb.append("bHVlIGluIGNob2ljZTsKICAgICAgaWYgKGNob3Nlbi5ldmFsICE9IHJlc3VsdCkgewogICAgICAgIGNo");
    sb.append("b3Nlbi5ldmFsID0gcmVzdWx0OwogICAgICAgIGNoYW5nZShjaG9zZW4uZXZhbCk7CiAgICAgIH0KICAg");
    sb.append("IH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2ljZShjaGFubmVs");
    sb.append("LCBmdW5jdGlvbiAoKSB7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgICAgcmV0dXJuIHRydWU7CiAg");
    sb.append("ICB9KTsKCiAgICBzdWJzY3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAg");
    sb.append("ICAgY2hvc2VuLnZhbHVlID0gdmFsdWU7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgIH0pOwogIH07");
    sb.append("CgogIHNlbGYuREUgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5u");
    sb.append("ZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewog");
    sb.append("ICAgdmFyIGRlY2lkZSA9IHsKICAgICAgdmFsdWU6ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAg");
    sb.append("ICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6IG51bGwKICAgIH07CiAgICBhZGRfdW5zdWIoZGVjaWRl");
    sb.append("KTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGRlY2lk");
    sb.append("ZSk7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsK");
    sb.append("ICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3Rh");
    sb.append("dGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAg");
    sb.append("IH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBkZWNpZGUpOwogICAgfTsKCiAgICBkZWNpZGUu");
    sb.append("dXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmluZChwcmlvclN0YXRlLCBj");
    sb.append("aGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSkgIT0gbnVsbDsKICAgICAgaWYgKGRlY2lkZS5ldmFsICE9");
    sb.append("IHJlc3VsdCkgewogICAgICAgIGRlY2lkZS5ldmFsID0gcmVzdWx0OwogICAgICAgIGNoYW5nZShkZWNp");
    sb.append("ZGUuZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vi");
    sb.append("c2NyaWJlKGNoYW5uZWwsIGZ1bmN0aW9uICgpIHsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAgICAv");
    sb.append("LyBUT0RPOiByZXR1cm4gd2hldGhlciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAgIHJl");
    sb.append("dHVybiB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJlKGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgICBkZWNpZGUudXBkYXRlKCk7");
    sb.append("CiAgICB9KTsKICB9OwoKICB2YXIgY29tbW9uSWYgPSBmdW5jdGlvbihwYXJlbnQsIG9yaWdpbmFsU3Rh");
    sb.append("dGUsIHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5n");
    sb.append("KSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAg");
    sb.append("ICAgcGFyZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgICByZXR1cm4gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIHZhciBzaG93ID0gKHZhbHVlID8gdHJ1ZSA6IGZhbHNlKSA9PT0gc2hvdWxk");
    sb.append("QmU7CiAgICAgIGlmICh0aGlzLnNob3duID09IHNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0K");
    sb.append("ICAgICAgdGhpcy5zaG93biA9IHNob3c7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1");
    sb.append("Yih1bnN1Yik7CiAgICAgIHZhciBuZXh0ID0gc2VsZi5wRChmb3JrKG9yaWdpbmFsU3RhdGUpKTsKICAg");
    sb.append("ICAgaWYgKHNob3cpIHsKICAgICAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAgICAgICAgIHBhcmVudC5z");
    sb.append("dHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgfQogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIG5leHQp");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChmb3JjZUhpZGluZykgewogICAgICAgICAgcGFyZW50");
    sb.append("LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1ha2VyRmFs");
    sb.append("c2UocGFyZW50LCBuZXh0KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKG5l");
    sb.append("eHQsIHVuc3ViKTsKICAgIH0uYmluZCh7IHNob3duOiAnbm8nIH0pOwogIH0KCiAgLy8gUlVOVElNRSB8");
    sb.append("IHJ4OmlmIC8gcng6aWZub3QgPSAicGF0aDE9cGF0aDIiCiAgc2VsZi5JRmVxID0gZnVuY3Rpb24gKHBh");
    sb.append("cmVudCwgb3JpZ2luYWxTdGF0ZSwgcXVlcnlTdGF0ZUxlZnQsIG5hbWVMZWZ0LCBxdWVyeVN0YXRlUmln");
    sb.append("aHQsIG5hbWVSaWdodCwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSwg");
    sb.append("Zm9yY2VIaWRpbmcpIHsKICAgIHZhciBjb21tb24gPSB7bGVmdDpmYWxzZSwgcmlnaHQ6dHJ1ZX07CiAg");
    sb.append("ICBjb21tb24ucyA9IGNvbW1vbklmKHBhcmVudCwgb3JpZ2luYWxTdGF0ZSwgc2hvdWxkQmUsIGV4cGFu");
    sb.append("ZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSwgZm9yY2VIaWRpbmcpOwogICAgY29tbW9uLmsgPSBk");
    sb.append("ZWJvdW5jZSg1LCBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zKHRoaXMubGVmdCA9PSB0aGlzLnJpZ2h0");
    sb.append("KTsKICAgIH0uYmluZChjb21tb24pKTsKICAgIHN1YnNjcmliZShxdWVyeVN0YXRlTGVmdCwgbmFtZUxl");
    sb.append("ZnQsIGZ1bmN0aW9uIChsZWZ0KSB7CiAgICAgIHRoaXMubGVmdCA9IGxlZnQ7CiAgICAgIHRoaXMuaygp");
    sb.append("OwogICAgfS5iaW5kKGNvbW1vbikpCiAgICBzdWJzY3JpYmUocXVlcnlTdGF0ZVJpZ2h0LCBuYW1lUmln");
    sb.append("aHQsIGZ1bmN0aW9uIChyaWdodCkgewogICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7CiAgICAgIHRoaXMu");
    sb.append("aygpOwogICAgfS5iaW5kKGNvbW1vbikpOwogIH07CgogIC8qKiB0aGUgYWJvdmUgc3BlYWtzIHRvIGEg");
    sb.append("ZGVlcCBwYXR0ZXJuLiBXZSBjb3VsZCB0YWtlIGFueSBleHByZXNzaW9uIGFuZCB0aGVuIGxpbmVhcml6");
    sb.append("ZSBpdCBpbnRvIHJlYWN0aXZlIHBhcnRzLCBhbmQgdGhlbiBhc3NlbWJsZSBhIHN0YXRlbWVudCBzdGF0");
    sb.append("ZW1lbnQgb24gdGhlIGZseS4gV2Ugc2hvdWxkIGxvb2sgaW50byB1c2luZyB0aGUgY29uZGl0aW9uIGxh");
    sb.append("bmd1YWdlIGZvciB0aGlzICovCgogIC8vIFJVTlRJTUUgfCByeDppZiAvIHJ4Omlmbm90ID0gInBhdGgi");
    sb.append("CiAgc2VsZi5JRiA9IGZ1bmN0aW9uIChwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHF1ZXJ5U3RhdGUsIG5h");
    sb.append("bWUsIHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5n");
    sb.append("KSB7CiAgICBzdWJzY3JpYmUocXVlcnlTdGF0ZSwgbmFtZSwgY29tbW9uSWYocGFyZW50LCBvcmlnaW5h");
    sb.append("bFN0YXRlLCBzaG91bGRCZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhp");
    sb.append("ZGluZykpOwogIH07CgogIC8vLyBSVU5USU1FIHwgcng6YWN0aW9uPWNvcHk6cGF0aAogIHNlbGYuYUNQ");
    sb.append("ID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBuYW1lKSB7CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIo");
    sb.append("J3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAg");
    sb.append("IHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCB7fSk7CiAgICAgIGlmIChuYW1lICE9ICIuIiAmJiBuYW1l");
    sb.append("ICE9ICIiKSB7CiAgICAgICAgdmFyIG5vID0ge307CiAgICAgICAgbm9bbmFtZV0gPSBvYmo7CiAgICAg");
    sb.append("ICAgb2JqID0gbm87CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBv");
    sb.append("YmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgZmlyZV9zdWNjZXNz");
    sb.append("KGZvcm0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgc2VsZi5WU1AgPSBmdW5jdGlvbihzdGF0ZSwgdmFy");
    sb.append("cykgewogICAgdmFyIHNtID0ge307CiAgICBzbS52YXJzID0gdmFyczsKICAgIHNtLmxhc3QgPSB7fTsK");
    sb.append("ICAgIHNtLnBhcmFtcyA9ICIiOwogICAgc20ubW9kZSA9ICJyZXBsYWNlIjsKICAgIHNtLnBpbmcgPSBk");
    sb.append("ZWJvdW5jZSg1MDAsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IFtdOwogICAgICBmb3IgKHZh");
    sb.append("ciBrID0gMDsgayA8IHRoaXMudmFycy5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBhcmcgPSB0aGlz");
    sb.append("LnZhcnNba107CiAgICAgICAgaWYgKGFyZyBpbiB0aGlzLmxhc3QpIHsKICAgICAgICAgIGFyZ3MucHVz");
    sb.append("aChhcmcgKyAiPSIgKyB0aGlzLmxhc3RbYXJnXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBy");
    sb.append("ZXN1bHQgPSAiPyIgK2FyZ3Muam9pbigiJiIpOwogICAgICBpZiAocmVzdWx0ICE9ICI/IiAmJiB3aW5k");
    sb.append("b3cubG9jYXRpb24uc2VhcmNoICE9PSByZXN1bHQpIHsKICAgICAgICB2YXIgb2JqID0ge307CiAgICAg");
    sb.append("ICAgb2JqLnZpZXdlcl9zZWFyY2hfcXVlcnkgPSByZXN1bHQ7CiAgICAgICAgdmFyIGRlbHRhID0gcGF0");
    sb.append("aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgICAgIHRyeSB7CiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICIi");
    sb.append("LCBmaXhIcmVmKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHJlc3VsdCkpOwogICAgICAgIH0gY2F0");
    sb.append("Y2goZmFpbGVkVG9SZXBsYWNlU3RhdGUpIHsKCiAgICAgICAgfQogICAgICB9CiAgICB9LmJpbmQoc20p");
    sb.append("KTsKICAgIHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUoZnVuY3Rpb24ocykgewogICAgICB0aGlzLmxh");
    sb.append("c3QgPSBzOwogICAgICB0aGlzLnBpbmcoKTsKICAgIH0uYmluZChzbSkpOwogIH07CgogIHNlbGYuRiA9");
    sb.append("IGZ1bmN0aW9uKG8saykgewogICAgaWYgKGsgaW4gbykgewogICAgICByZXR1cm4gb1trXTsKICAgIH0K");
    sb.append("ICAgIHJldHVybiAiIjsKICB9OwoKICAvLyBSVU5USU1FIHwgPGlucHV0IC4uLiByeDpzeW5jPXBhdGgg");
    sb.append("Li4uPgogIHNlbGYuU1kgPSBmdW5jdGlvbiAoZWwsIHN0YXRlLCBuYW1lLCBtcykgewogICAgdmFyIHR5");
    sb.append("cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBlckNhc2UoKSA6ICJ0ZXh0IjsKICAgIHZh");
    sb.append("ciBzaWduYWwgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwog");
    sb.append("ICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgaWYgKHRoaXMuZGVkdXBlICE9");
    sb.append("IHZhbHVlKSB7CiAgICAgICAgdGhpcy5kZWR1cGUgPSB2YWx1ZTsKICAgICAgICBlbC5kaXNwYXRjaEV2");
    sb.append("ZW50KG5ldyBFdmVudCgiYWZ0ZXJzeW5jIikpOwogICAgICB9CiAgICB9LmJpbmQoe2RlZHVwZToiIn0p");
    sb.append("OwogICAgaWYgKHR5cGUgPT0gIkNIRUNLQk9YIikgewogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdj");
    sb.append("aGFuZ2UnLCBkZWJvdW5jZShtcywgZnVuY3Rpb24gKCkgewogICAgICAgIHNpZ25hbChlbC5jaGVja2Vk");
    sb.append("ID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSkpOwogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgc2lnbmFsKGVsLmNoZWNrZWQgPyB0cnVlIDogZmFsc2UpOwogICAgICB9LCAx");
    sb.append("KTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAgIGVsLmFkZEV2ZW50TGlzdGVu");
    sb.append("ZXIoJ2NoYW5nZScsIGRlYm91bmNlKG1zLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGVsLmNoZWNr");
    sb.append("ZWQpIHsKICAgICAgICAgIHNpZ25hbChlbC52YWx1ZSk7CiAgICAgICAgfQogICAgICB9KSk7CiAgICB9");
    sb.append("IGVsc2UgewogICAgICB2YXIgZiA9IGRlYm91bmNlKG1zLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2ln");
    sb.append("bmFsKGVsLnZhbHVlKTsKICAgICAgfSk7CiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScs");
    sb.append("IGYpOwogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGYpCiAgICAgIGVsLm9ua2V5dXAg");
    sb.append("PSBlbC5vbmNoYW5nZTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAg");
    sb.append("IHNpZ25hbChlbC52YWx1ZSk7CiAgICAgIH0sIDUpOwogICAgfQogIH07CgogIHZhciBmaXJzdE9jY3Vy");
    sb.append("ID0gZnVuY3Rpb24oYSwgYikgewogICAgaWYgKGEgPiAwICYmIGIgPiAwKSB7CiAgICAgIHJldHVybiBN");
    sb.append("YXRoLm1pbihhLCBiKTsKICAgIH0KICAgIGlmIChhID4gMCkgewogICAgICByZXR1cm4gYTsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIHJldHVybiBiOwogICAgfQogIH07CiAgLy8gSEVMUEVSIHwgZXh0cmFjdCBhbGwg");
    sb.append("dGhlIGlucHV0cyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBidWlsZCBhbiBvYmplY3QKICB2YXIg");
    sb.append("YnVpbGRfb2JqID0gZnVuY3Rpb24gKGVsLCBvYmpUb0luc2VydEludG8sIHBhc3N3b3JkcywgaXNSb290");
    sb.append("KSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJGT1JNIiAmJiAhaXNSb290KSB7");
    sb.append("CiAgICAgIC8vIGRvbid0IGNhcmUgYWJvdXQgbmVzdGVkIGZvcm1zCiAgICAgIHJldHVybjsKICAgIH0K");
    sb.append("ICAgIHZhciB1cHBlclRhZyA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIHZhciBqdXN0U2V0");
    sb.append("ID0gdXBwZXJUYWcgPT0gIlRFWFRBUkVBIiB8fCB1cHBlclRhZyA9PSAiU0VMRUNUIjsKICAgIHZhciBp");
    sb.append("c0lucHV0Qm94ID0gdXBwZXJUYWcgPT0gIklOUFVUIjsKICAgIHZhciBpc0ZpZWxkU2V0ID0gdXBwZXJU");
    sb.append("YWcgPT0gIkZJRUxEU0VUIjsKICAgIHZhciBpc1B1bGwgPSB1cHBlclRhZyA9PSAiUFVMTFZBTFVFIjsK");
    sb.append("ICAgIHZhciBoYXNOYW1lID0gIm5hbWUiIGluIGVsOwogICAgdmFyIGluc2VydEF0ID0gb2JqVG9JbnNl");
    sb.append("cnRJbnRvOwogICAgLy8gdGhlIGFwcGx5IGZ1bmN0aW9uIGlzIGhvdyB3ZSBpbmplY3QgdGhlIHZhbHVl");
    sb.append("IGludG8gdGhlIG9iamVjdAogICAgdmFyIGFwcGx5ID0gZnVuY3Rpb24gKHZhbCkgeyB9OwoKICAgIHZh");
    sb.append("ciBuYW1lID0gIiI7CiAgICBpZiAoaGFzTmFtZSAmJiAoanVzdFNldCB8fCBpc0lucHV0Qm94IHx8IGlz");
    sb.append("RmllbGRTZXQgfHwgaXNQdWxsKSkgewogICAgICBuYW1lID0gZWwubmFtZTsKICAgICAgaWYgKG5hbWUg");
    sb.append("PT0gIiIpIHsgLy8gdGhpcyBpcyBhIHNwZWNpYWwgbmFtZSBmb3IgdGhpbmdzIHRoYXQgZG9uJ3QgZ2V0");
    sb.append("IHBpY2tlZCB1cAogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIga0RvdE9yU2xhc2ggPSBm");
    sb.append("aXJzdE9jY3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdoaWxl");
    sb.append("IChrRG90T3JTbGFzaCA+IDApIHsKICAgICAgICB2YXIgcGFyID0gbmFtZS5zdWJzdHJpbmcoMCwga0Rv");
    sb.append("dE9yU2xhc2gpOwogICAgICAgIGlmICghKHBhciBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgIGluc2Vy");
    sb.append("dEF0W3Bhcl0gPSB7fTsKICAgICAgICB9CiAgICAgICAgaW5zZXJ0QXQgPSBpbnNlcnRBdFtwYXJdOwog");
    sb.append("ICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGtEb3RP");
    sb.append("clNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwog");
    sb.append("ICAgICB9CgogICAgICBpZiAobmFtZS5lbmRzV2l0aCgiKyIpKSB7CiAgICAgICAgLy8gaGVyZSwgd2Ug");
    sb.append("cHVzaCB0aGUgdmFsdWUgaW50byB0aGUgYXJyYXkKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmco");
    sb.append("MCwgbmFtZS5sZW5ndGggLSAxKTsKICAgICAgICBhcHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAg");
    sb.append("ICBpZiAoIShuYW1lIGluIGluc2VydEF0KSkgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXSA9IFt2");
    sb.append("XTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluc2VydEF0W25hbWVdLnB1c2godik7CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBoZXJlIHdlIHNldCB0");
    sb.append("aGUgb2JqZWN0CiAgICAgICAgYXBwbHkgPSBmdW5jdGlvbiAodikgewogICAgICAgICAgaW5zZXJ0QXRb");
    sb.append("bmFtZV0gPSB2OwogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICBpZiAoaXNQdWxsKSB7CiAgICAg");
    sb.append("IGFwcGx5KGVsLnB1bGwoKSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoanVzdFNldCkgewog");
    sb.append("ICAgICBhcHBseShlbC52YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGlzRmllbGRTZXQpIHsKICAgICAgdmFy");
    sb.append("IG5leHRPYmplY3QgPSB7fTsKICAgICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIg");
    sb.append("YXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAo");
    sb.append("dmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsK");
    sb.append("ICAgICAgICAgIGJ1aWxkX29iaihjaCwgbmV4dE9iamVjdCwgcGFzc3dvcmRzLCBmYWxzZSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICAgIGFwcGx5KG5leHRPYmplY3QpOwogICAgfSBlbHNlIGlmIChpc0lucHV0");
    sb.append("Qm94KSB7CiAgICAgIHZhciB0eXBlID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJDYXNl");
    sb.append("KCkgOiAiVEVYVCI7CiAgICAgIGlmICh0eXBlID09ICJTVUJNSVQiIHx8IHR5cGUgPT0gIlJFU0VUIikg");
    sb.append("cmV0dXJuOwogICAgICBpZiAoKHR5cGUgPT0gIlBBU1NXT1JEIiB8fCBuYW1lID09ICJwYXNzd29yZCIg");
    sb.append("fHwgbmFtZSA9PSAiY29uZmlybS1wYXNzd29yZCIgfHwgbmFtZSA9PSAibmV3X3Bhc3N3b3JkIiB8fCBu");
    sb.append("YW1lID09ICJjb25maXJtLW5ld19wYXNzd29yZCIpKSB7CiAgICAgICAgcGFzc3dvcmRzW25hbWVdID0g");
    sb.append("ZWwudmFsdWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0eXBlID09ICJDSEVDS0JP");
    sb.append("WCIpIHsKICAgICAgICBhcHBseShlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSBlbHNl");
    sb.append("IGlmICh0eXBlID09ICJSQURJTyIpIHsKICAgICAgICBpZiAoZWwuY2hlY2tlZCkgewogICAgICAgICAg");
    sb.append("YXBwbHkoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBhcHBseShlbC52");
    sb.append("YWx1ZSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAg");
    sb.append("ICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAg");
    sb.append("ICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIGNoID0gZWwuY2hp");
    sb.append("bGRyZW5ba107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG9ialRvSW5zZXJ0SW50bywgcGFzc3dvcmRz");
    sb.append("LCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi5CdWlsZEZvcm1PYmpl");
    sb.append("Y3QgPSBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwg");
    sb.append("b2JqLCBmYWxzZSwgdHJ1ZSk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIEhFTFBFUiB8IHJldHVy");
    sb.append("biBhbiBvYmplY3Qgb2YgYWxsIHRoZSBpbnB1dHMgb2YgdGhlIGdpdmVuIGZvcm0gZWxlbWVudAogIHZh");
    sb.append("ciBnZXRfZm9ybSA9IGZ1bmN0aW9uIChmb3JtLCBwYXNzd29yZHMpIHsKICAgIHZhciBvYmogPSB7fTsK");
    sb.append("ICAgIGJ1aWxkX29iaihmb3JtLCBvYmosIHBhc3N3b3JkcywgdHJ1ZSk7CiAgICByZXR1cm4gb2JqOwog");
    sb.append("IH07CgogIC8vIDwuLi4gcng6d3JhcD1jb25zdCA+CiAgdmFyIGN1c3RvbXNfY29tcG9uZW50cyA9IHt9");
    sb.append("OwogIHNlbGYucHJvdmlkZUN1c3RvbUNvbXBvbmVudCA9IGZ1bmN0aW9uKG5hbWUsIGZvbykgewogICAg");
    sb.append("Y3VzdG9tc19jb21wb25lbnRzW25hbWVdID0gZm9vOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIC4u");
    sb.append("LiByeDpjdXN0b209Ij8iIHBvcnQ6JG5hbWU9JG91dHB1dCAuLi4gPi4uLjwvdGFnPiB8IGFzc2VtYmxl");
    sb.append("IGEgd3JpdGVyIG9iamVjdAogIHNlbGYuV1ggPSBmdW5jdGlvbihpbnN0cnVjdGlvbnMpIHsKICAgIHZh");
    sb.append("ciB3cml0ZXIgPSB7fTsKICAgIGZvciAodmFyIGsgPSAwOyBrICsgMiA8IGluc3RydWN0aW9ucy5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIHdyaXRlcltpbnN0cnVjdGlvbnNba11d");
    sb.append("ID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB2YXIgcyA9IHRoaXM7CiAgICAgICAgcy53W3Mua10g");
    sb.append("PSB2YWx1ZTsKICAgICAgICBzLnQudXBkYXRlKHMuZCk7CiAgICAgIH0uYmluZCh7CiAgICAgICAgZDpw");
    sb.append("YXRoX3RvKGluc3RydWN0aW9uc1sxXS52aWV3LCBvYmopLAogICAgICAgIHc6IG9iaiwKICAgICAgICBr");
    sb.append("OiBpbnN0cnVjdGlvbnNbMl0sCiAgICAgICAgdDogaW5zdHJ1Y3Rpb25zWzFdLnZpZXcudHJlZQogICAg");
    sb.append("ICB9KTsKICAgIH0KICAgIHJldHVybiB3cml0ZXI7CiAgfTsKICBzZWxmLkMgPSBmdW5jdGlvbiAoZG9t");
    sb.append("LCBzdGF0ZSwgbmFtZSwgcnhvYmosIHdyaXRlciwgY2hpbGRNYWtlcldpdGhDYXNlKSB7CiAgICB2YXIg");
    sb.append("b2JqID0gewogICAgICBkb206IGRvbSwKICAgICAgc3RhdGU6IHN0YXRlLAogICAgICBpbnB1dHM6IHJ4");
    sb.append("b2JqLAogICAgICBvdXRwdXRzOiB3cml0ZXIsCiAgICAgIG1ha2VyOiBjaGlsZE1ha2VyV2l0aENhc2Us");
    sb.append("CiAgICAgIGZyYW1ld29yazogc2VsZgogICAgfTsKICAgIGlmIChuYW1lIGluIGN1c3RvbXNfY29tcG9u");
    sb.append("ZW50cykgewogICAgICBjdXN0b21zX2NvbXBvbmVudHNbbmFtZV0ob2JqKTsKICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBmaW5kIGN1c3RvbSBjb21wb25lbnQ6ICciICsgbmFt");
    sb.append("ZSArICInIik7CiAgICB9CiAgfTsKCiAgdmFyIHdyYXBwZXJzID0ge307CiAgdmFyIHdyYXBwZXJzX29u");
    sb.append("bG9hZCA9IHt9OyAvLyBUT0RPOiBzdHVkeSBpZiB0aGlzIGNhbiBiZSByZW1vdmVkCiAgc2VsZi5QUldQ");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgd3JhcHBlcnNbbmFtZV0gPSBmb287CiAgICBpZiAo");
    sb.append("bmFtZSBpbiB3cmFwcGVyc19vbmxvYWQpIHsKICAgICAgdmFyIHRvbG9hZCA9IHdyYXBwZXJzX29ubG9h");
    sb.append("ZFtuYW1lXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0b2xvYWQubGVuZ3RoOyBrKyspIHsKICAg");
    sb.append("ICAgICB0b2xvYWRba10oKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIDwuLi4gcng6d3JhcD1jb25z");
    sb.append("dCA+CiAgc2VsZi5XUCA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBuYW1lLCByeG9iaiwgY2hpbGRNYWtl");
    sb.append("cldpdGhDYXNlKSB7CiAgICBpZiAobmFtZSBpbiB3cmFwcGVycykgewogICAgICB3cmFwcGVyc1tuYW1l");
    sb.append("XShkb20sIHN0YXRlLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNlLCBzZWxmKTsKICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgIHZhciBsb2FkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgd3JhcHBlcnNbbmFtZV0oZG9t");
    sb.append("LCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwgc2VsZik7CiAgICAgIH07CiAgICAgIGlm");
    sb.append("IChuYW1lIGluIHdyYXBwZXJzX29ubG9hZCkgewogICAgICAgIHdyYXBwZXJzX29ubG9hZFtuYW1lXS5w");
    sb.append("dXNoKGxvYWRlcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd3JhcHBlcnNfb25sb2FkW25hbWVdID0g");
    sb.append("W2xvYWRlcl07CiAgICAgIH0KICAgIH0KICB9OwoKICB2YXIgYmVoYXZpb3JzID0ge307CiAgc2VsZi5k");
    sb.append("ZWZpbmVCZWhhdmlvciA9IGZ1bmN0aW9uKG5hbWUsIGJlaGF2aW9yKSB7CiAgICBpZiAodHlwZW9mKGJl");
    sb.append("aGF2aW9yKSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIGJlaGF2aW9yc1tuYW1lXSA9IGJlaGF2aW9yOwog");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJkZWZpbmluZyBiZWhhdmlvciAnIiArIG5h");
    sb.append("bWUgKyAiJyBmYWlsZWQgZHVlIHRvIG5vdCBhIGZ1bmN0aW9uIikKICAgIH0KICB9OwoKICAvLyBSVU5U");
    sb.append("SU1FIHwgcng6YmVoYXZpb3I9JG5hbWUKICBzZWxmLkJIViA9IGZ1bmN0aW9uKGRvbSwgbmFtZSkgewog");
    sb.append("ICAgaWYgKG5hbWUgaW4gYmVoYXZpb3JzKSB7CiAgICAgIGJlaGF2aW9yc1tuYW1lXTsKICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgIGNvbnNvbGUubG9nKCJjb3VsZG4ndCBmaW5kIGJlaGF2aW9yOiIgKyBuYW1lKTsKICAg");
    sb.append("IH0KICB9OwoKICAvLyBSVU5USU1FIHwgcmVnaXN0ZXIgdGhlIHBhZ2UgZm9yIHRoZSB1cmkgdG8gdGhl");
    sb.append("IGdpdmVuIGZvbygpLgogIHNlbGYuUEcgPSBmdW5jdGlvbiAodXJpLCBmb28pIHsKICAgIHZhciBoZWFk");
    sb.append("ID0gcm91dGVyOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB1cmkubGVuZ3RoOyBrKyspIHsKICAgICAg");
    sb.append("dmFyIHBhcnQgPSB1cmlba107CiAgICAgIGlmICghKHBhcnQgaW4gaGVhZCkpIHsKICAgICAgICBoZWFk");
    sb.append("W3BhcnRdID0ge307CiAgICAgIH0KICAgICAgaGVhZCA9IGhlYWRbcGFydF07CiAgICB9CiAgICBoZWFk");
    sb.append("WyJAIl0gPSBmb287CiAgfTsKCiAgdmFyIHJvdXRlID0gZnVuY3Rpb24gKHBhcnRzLCBhdCwgaGVhZCwg");
    sb.append("dmlldykgewogICAgaWYgKGF0IDwgcGFydHMubGVuZ3RoKSB7CiAgICAgIGlmICgibnVtYmVyIiBpbiBo");
    sb.append("ZWFkKSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJudW1iZXIiXTsKICAgICAgICB2YXIgdmFsID0g");
    sb.append("cGFyc2VGbG9hdChwYXJ0c1thdF0pOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAg");
    sb.append("Zm9yICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwog");
    sb.append("ICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hd");
    sb.append("LCB2aWV3KTsKICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAg");
    sb.append("IHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVsZXRlIHZpZXdbYnJh");
    sb.append("bmNoXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0IiBpbiBoZWFk");
    sb.append("KSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZhbCA9IHBhcnRz");
    sb.append("W2F0XTsKICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgdmlld1ticmFu");
    sb.append("Y2hdID0gdmFsOwogICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5l");
    sb.append("Y2tbYnJhbmNoXSwgdmlldyk7CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAg");
    sb.append("ICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdmlld1ti");
    sb.append("cmFuY2hdOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFkKSB7CiAgICAg");
    sb.append("ICAgdmFyIG5lY2sgPSBoZWFkWyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNr");
    sb.append("KSB7CiAgICAgICAgICBpZiAoYnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAgICB2YXIgY2Fu");
    sb.append("ZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAg");
    sb.append("ICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7");
    sb.append("CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgIGlmICgiQCIgaW4gaGVhZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAgICAgIH0KICAg");
    sb.append("IH0KICAgIHJldHVybiBudWxsOwogIH07CgoKICBzZWxmLnJlc3VtZV91cmkgPSAiLyI7CiAgc2VsZi5n");
    sb.append("YXRlcyA9IFtdOwogIC8qKiBSVU5USU1FIHwgPGdhdGUtZXhpdCBndWFyZD0icmVhZCIgc2V0PSIiPiAq");
    sb.append("LwogIHNlbGYuSUcgPSBmdW5jdGlvbihzdGF0ZVJlYWQsIHJlYWQsIHN0YXRlV3JpdGUsIHdyaXRlKSB7");
    sb.append("CiAgICB2YXIgc20gPSB7CiAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgcnVuOiBmdW5jdGlvbigpIHsK");
    sb.append("ICAgICAgICBpZiAodGhpcy52YWx1ZSkgewogICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAg");
    sb.append("b2JqW3dyaXRlXSA9IHRydWU7CiAgICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlV3JpdGUu");
    sb.append("dmlldywgb2JqKTsKICAgICAgICAgIHN0YXRlV3JpdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAg");
    sb.append("ICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9");
    sb.append("LAogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZVJlYWQsIHJlYWQsIGZ1bmN0aW9uKHZhbHVlKSB7CiAg");
    sb.append("ICAgIHNtLnZhbHVlID0gdmFsdWU7CiAgICB9KTsKICAgIHNlbGYuZ2F0ZXMucHVzaChzbSk7CiAgfTsK");
    sb.append("ICBzZWxmLmdvdG8gPSBmdW5jdGlvbiAodXJpLCBub3cpIHsKICAgIHNlbGYucmVzdW1lX3VyaSA9IHVy");
    sb.append("aTsKICAgIHZhciBibG9ja2VkID0gZmFsc2U7CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHNlbGYuZ2F0");
    sb.append("ZXMubGVuZ3RoOyBrKyspIHsKICAgICAgaWYgKHNlbGYuZ2F0ZXNba10ucnVuKCkpIHsKICAgICAgICBi");
    sb.append("bG9ja2VkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgaWYgKGJsb2NrZWQpIHsKICAgICAgcmV0dXJu");
    sb.append("OwogICAgfQogICAgaWYgKG5vdykgewogICAgICBzZWxmLmdvdG9fbm93KHVyaSk7CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5nb3RvX25v");
    sb.append("dyh1cmkpOwogICAgICB9LCAxKTsKICAgIH0KICB9OwogIC8vIFJVTlRJTUU6IDx0YWcgLi4uIHJ4OmV2");
    sb.append("ZW50PSIuLi4gcmVzdW1lIC4uLiI+Li4KICBzZWxmLmJSID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g");
    sb.append("ewogICAgICBydW46IGZ1bmN0aW9uKCkgewogICAgICAgIHNlbGYuZ2F0ZXMgPSBbXTsKICAgICAgICBz");
    sb.append("ZWxmLmdvdG8oc2VsZi5yZXN1bWVfdXJpLCBmYWxzZSk7CiAgICAgIH0sCiAgICAgIG1lcmdlOiBmdW5j");
    sb.append("dGlvbigpIHt9CiAgICB9OwogIH07CiAgc2VsZi5nb3RvX25vdyA9IGZ1bmN0aW9uKHVyaSkgewogICAg");
    sb.append("aWYgKHVyaS5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgdXJp");
    sb.append("LCB0cnVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZml4SHJlZih1");
    sb.append("cmkpOwogICAgfQogIH07CgogIHZhciB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbihiYXNl");
    sb.append("NjQpIHsKICAgIHZhciByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgIHZhciBvdXRwdXRB");
    sb.append("cnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTsKICAgIGZvciAodmFyIGkgPSAwOyBp");
    sb.append("IDwgcmF3RGF0YS5sZW5ndGg7ICsraSkgewogICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hh");
    sb.append("ckNvZGVBdChpKTsKICAgIH0KICAgIHJldHVybiBvdXRwdXRBcnJheTsKICB9CgogIHNlbGYuY3VycmVu");
    sb.append("dFB1c2hFdmVudCA9IGZ1bmN0aW9uKCkge307CgogIHZhciBnZXRXZWJQdXNoU3RhdHVzID0gZnVuY3Rp");
    sb.append("b24oKSB7CiAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYnB1c2hfc3RhdHVz");
    sb.append("Iik7CiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZihyZXN1bHQpID09ICJzdHJpbmciKSB7CiAgICAgIHJl");
    sb.append("dHVybiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gInVua25vd24iOwogIH0KCiAgdmFyIHNldFB1c2hT");
    sb.append("dGF0dXMgPSBmdW5jdGlvbihzdGF0dXMpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWJwdXNo");
    sb.append("X3N0YXR1cyIsIHN0YXR1cyk7CiAgICBzZWxmLmN1cnJlbnRQdXNoRXZlbnQoKTsKICB9OwogIHNlbGYu");
    sb.append("c2V0UHVzaFN0YXR1cyA9IHNldFB1c2hTdGF0dXM7CgogIHZhciBzZXRQdXNoRXZlbnQgPSBmdW5jdGlv");
    sb.append("bihmb28pIHsKICAgIHNlbGYuY3VycmVudFB1c2hFdmVudCA9IGZvbzsKICB9OwoKICB2YXIgc2V0dXBT");
    sb.append("dWJzY3JpcHRpb24gPSBmdW5jdGlvbiAocmVnaXN0cmF0aW9uLCB2YXBpZFB1YmxpY0tleSwgaWRlbnRp");
    sb.append("dHksIGlkZW50aXR5TmFtZSwgdmVyc2lvbikgewogICAgY29ubmVjdGlvbi5idW1wKCJ3cHMiKTsKICAg");
    sb.append("IHZhciBwdXNoS2V5TG9jYWwgPSAicHVzaF9lbmRwb2ludF8iICsgaWRlbnRpdHlOYW1lOwogICAgcmVn");
    sb.append("aXN0cmF0aW9uLnB1c2hNYW5hZ2VyCiAgICAuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihhc3luYyBmdW5j");
    sb.append("dGlvbiAoc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikgewogICAgICAgICAg");
    sb.append("cmV0dXJuIHN1YnNjcmlwdGlvbjsKICAgICAgICB9CiAgICAgICAgY29uc3QgY29udmVydGVkVmFwaWRL");
    sb.append("ZXkgPSB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkodmFwaWRQdWJsaWNLZXkpOwogICAgICAgIHJldHVybiBy");
    sb.append("ZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHsKICAgICAgICAgIHVzZXJWaXNpYmxlT25s");
    sb.append("eTogdHJ1ZSwKICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBjb252ZXJ0ZWRWYXBpZEtleQog");
    sb.append("ICAgICAgIH0pOwogICAgfSkudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7CiAgICAgIC8vIG1h");
    sb.append("a2Ugc3VyZSB3ZSBoYXZlIGFuIGVuZHBvaW50IHNhdmVkIHJlbGF0ZWQgdG8gdGhlIHJpZ2h0IHZlcnNp");
    sb.append("b24KICAgICAgY29ubmVjdGlvbi5JZGVudGl0eUhhc2goaWRlbnRpdHksIHsKICAgICAgICBzdWNjZXNz");
    sb.append("OiBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHVz");
    sb.append("aF93b3JrZXJfdmVyc2lvbiIpICE9IHZlcnNpb24gfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxhc3Rf");
    sb.append("aWRlbnRpdHlfdXNlZCIpICE9IHJlc3VsdC5pZGVudGl0eUhhc2gpIHsKICAgICAgICAgICAgbG9jYWxT");
    sb.append("dG9yYWdlLnJlbW92ZUl0ZW0ocHVzaEtleUxvY2FsKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNl");
    sb.append("dEl0ZW0oInB1c2hfd29ya2VyX3ZlcnNpb24iLCB2ZXJzaW9uKTsKICAgICAgICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnNldEl0ZW0oImxhc3RfaWRlbnRpdHlfdXNlZCIsIHJlc3VsdC5pZGVudGl0eUhhc2gpOwogICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgdmFyIHN1YiA9IHN1YnNjcmlwdGlvbi50b0pTT04oKTsKICAgICAgICAg");
    sb.append("IHZhciB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwdXNoS2V5TG9jYWwpOwogICAgICAgICAgaWYg");
    sb.append("KHZhbCAmJiB2YWwgPT0gc3ViLmVuZHBvaW50KSB7CiAgICAgICAgICAgIGNvbm5lY3Rpb24uYnVtcCgi");
    sb.append("d3BhIik7CiAgICAgICAgICAgIHNldFB1c2hTdGF0dXMoInN1Y2Nlc3MiKTsKICAgICAgICAgICAgcmV0");
    sb.append("dXJuOwogICAgICAgICAgfQogICAgICAgICAgc3ViWydAbWV0aG9kJ10gPSAnd2VicHVzaCc7CiAgICAg");
    sb.append("ICAgICBzdWJbJ0B0aW1lJ10gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgIHZhciBkZXZp");
    sb.append("Y2UgPSB7fTsKICAgICAgICAgIGRldmljZS5tb2RlID0gJ3dlYicKICAgICAgICAgIGlmICh3aW5kb3cg");
    sb.append("JiYgd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgewogICAgICAg");
    sb.append("ICAgICBkZXZpY2UudWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIGNvbm5lY3Rpb24uUHVzaFJlZ2lzdGVyKGlkZW50aXR5LCBzZWxmLmRvbWFpbiwgc3ViLCBk");
    sb.append("ZXZpY2UsIHsKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgbG9j");
    sb.append("YWxTdG9yYWdlLnNldEl0ZW0ocHVzaEtleUxvY2FsLCBzdWIuZW5kcG9pbnQpOwogICAgICAgICAgICAg");
    sb.append("IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWJwdXNoX3N0YXR1cyIsICJzdWNjZXNzIik7CiAgICAgICAg");
    sb.append("ICAgICAgc2V0UHVzaFN0YXR1cygic3VjY2VzcyIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBm");
    sb.append("YWlsdXJlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBjb25uZWN0aW9uLmJ1bXAoIndwZiIpOwog");
    sb.append("ICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uKCkgewogICAgICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGYiKTsKICAgICAgICB9CiAgICAgIH0p");
    sb.append("OwogICAgfSwgZnVuY3Rpb24oZXJyKSB7CiAgICAgIHNldFB1c2hTdGF0dXMoImZhaWxlZCIpOwogICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwdXNoS2V5TG9jYWwpOwogICAgICBsb2NhbFN0b3JhZ2Uu");
    sb.append("cmVtb3ZlSXRlbSgibGFzdF9pZGVudGl0eV91c2VkIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJ");
    sb.append("dGVtKCJwdXNoX3dvcmtlcl92ZXJzaW9uIik7CiAgICAgIGNvbm5lY3Rpb24uYnVtcCgid3BkIik7CiAg");
    sb.append("ICAgIGNvbm5lY3Rpb24ubG9nKCJwdXNoc2V0dXAiLCAiIiArIGVycik7CiAgICB9KTsKICB9CgogIHZh");
    sb.append("ciBzZXR1cFB1c2ggPSBmdW5jdGlvbihwYXRoLCB2YXBpZFB1YmxpY0tleSwgaWRlbnRpdHksIGlkZW50");
    sb.append("aXR5TmFtZSwgdmVyc2lvbikgewogICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyKSB7CiAgICAg");
    sb.append("IHRyeSB7CiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRo");
    sb.append("ZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbnMpIHsKICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwog");
    sb.append("ICAgICAgICAgZm9yIChsZXQgcmVnaXN0cmF0aW9uIG9mIHJlZ2lzdHJhdGlvbnMpIHsKICAgICAgICAg");
    sb.append("ICAgaWYgKHJlZ2lzdHJhdGlvbi5hY3RpdmUpIHsKICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlv");
    sb.append("bi5hY3RpdmUuc2NyaXB0VVJMLmVuZHNXaXRoKHBhdGgpKSB7CiAgICAgICAgICAgICAgICByZWdpc3Ry");
    sb.append("YXRpb24udW5yZWdpc3RlcigpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBm");
    sb.append("b3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihyZWdpc3RyYXRpb24s");
    sb.append("IHZhcGlkUHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlOYW1lLCB2ZXJzaW9uKTsKICAgICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICghZm91bmQpIHsKICAg");
    sb.append("ICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIocGF0aCk7CiAgICAgICAgICAg");
    sb.append("IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikg");
    sb.append("ewogICAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHJlZ2lzdHJhdGlvbiwgdmFwaWRQdWJsaWNL");
    sb.append("ZXksIGlkZW50aXR5LCBpZGVudGl0eU5hbWUsIHZlcnNpb24pOwogICAgICAgICAgICB9KTsKICAgICAg");
    sb.append("ICAgIH0KICAgICAgICB9LCBmdW5jdGlvbihleCkgewogICAgICAgICAgY29ubmVjdGlvbi5idW1wKCJ3");
    sb.append("cGkzIik7CiAgICAgICAgICBjb25uZWN0aW9uLmxvZygid29ya2VyLWZpbmQiLCAiIiArIGV4KTsKICAg");
    sb.append("ICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJmYWlsZWQg");
    sb.append("dG8gcmVnaXN0ZXIgc2VydmljZSB3b3JrZXIiLCBleCk7CiAgICAgICAgc2V0UHVzaFN0YXR1cygiaW1w");
    sb.append("b3NzaWJsZSIpOwogICAgICAgIGNvbm5lY3Rpb24uYnVtcCgid3BpMiIpOwogICAgICAgIGNvbm5lY3Rp");
    sb.append("b24ubG9nKCJ3b3JrZXItaW5zdGFsbCIsICIiICsgZXgpOwogICAgICB9CiAgICB9IGVsc2UgewogICAg");
    sb.append("ICBjb25zb2xlLmxvZygibm8gc2VydmljZSB3b3JrZXIgYXZhaWxhYmxlIik7CiAgICAgIHNldFB1c2hT");
    sb.append("dGF0dXMoImltcG9zc2libGUiKTsKICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGkxIik7CiAgICB9CiAg");
    sb.append("fQoKICBzZWxmLndvcmtlciA9IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgcGF0aCwgdmVyc2lvbikgewog");
    sb.append("ICAgdHJ5IHsKICAgICAgYWZ0ZXJIYXZlSWRlbnRpdHkoaWRlbnRpdHlOYW1lLCBmdW5jdGlvbihpZGVu");
    sb.append("dGl0eSkgewogICAgICAgIGNvbm5lY3Rpb24uRG9tYWluR2V0VmFwaWRQdWJsaWNLZXkoaWRlbnRpdHks");
    sb.append("IHNlbGYuZG9tYWluLCB7CiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAg");
    sb.append("ICAgICAgICBzZXR1cFB1c2gocGF0aCwgcmVzcG9uc2UucHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRp");
    sb.append("dHlOYW1lLCB2ZXJzaW9uKTsKICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAo");
    sb.append("cmVhc29uKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBnZXQgcHVibGljLWtl");
    sb.append("eToiICsgcmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0gY2F0Y2gg");
    sb.append("KGV4KSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBpbml0aWFsaXplIHdvcmtlciIsIGV4");
    sb.append("KTsKICAgIH0KICB9OwoKICBzZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBzZWxmLnJ1bihkb2N1");
    sb.append("bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlv");
    sb.append("bi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNlKTsKICAgIHdpbmRvdy5vbnBvcHN0");
    sb.append("YXRlID0gZnVuY3Rpb24gKHApIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4UGF0aCh3");
    sb.append("aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93Lmxv");
    sb.append("Y2F0aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB9OwogIH07CgogIHZhciBjdXJyZW50TWVzc2FnZUhhbmRs");
    sb.append("ZXJzID0ge307CiAgdmFyIHJlbW92ZUFsbE1lc3NhZ2VIYW5kbGVycyA9IGZ1bmN0aW9uKCkgewogICAg");
    sb.append("Zm9yICh2YXIgayBpbiBjdXJyZW50TWVzc2FnZUhhbmRsZXJzKSB7CiAgICAgIGRlbGV0ZSBjdXJyZW50");
    sb.append("TWVzc2FnZUhhbmRsZXJzW2tdOwogICAgfQogIH07CgogIHNlbGYucmVnaXN0ZXJNZXNzYWdlSGFuZGxl");
    sb.append("ciA9IGZ1bmN0aW9uKGNoYW5uZWwsIGhhbmRsZXIpIHsKICAgIGlmIChjaGFubmVsIGluIGN1cnJlbnRN");
    sb.append("ZXNzYWdlSGFuZGxlcnMpIHsKICAgICAgY3VycmVudE1lc3NhZ2VIYW5kbGVyc1tjaGFubmVsXS5wdXNo");
    sb.append("KGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY3VycmVudE1lc3NhZ2VIYW5kbGVyc1tjaGFubmVs");
    sb.append("XSA9IFtoYW5kbGVyXTsKICAgIH0KICB9OwoKICB2YXIgcm91dGVNZXNzYWdlID0gZnVuY3Rpb24oZXZl");
    sb.append("bnQpIHsKICAgIHRyeSB7CiAgICAgIGlmICghKCdkYXRhJyBpbiBldmVudCkpIHsKICAgICAgICByZXR1");
    sb.append("cm47CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiAoZXZlbnQuZGF0YSkgIT0gJ29iamVjdCcpIHsKICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCEoJ2NoYW5uZWwnIGluIGV2ZW50LmRhdGEpKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjaGFubmVsID0gZXZlbnQuZGF0YS5jaGFu");
    sb.append("bmVsOwogICAgICB2YXIgbGlzdCA9IGN1cnJlbnRNZXNzYWdlSGFuZGxlcnNbY2hhbm5lbF07CiAgICAg");
    sb.append("IGlmIChsaXN0ICE9PSBudWxsKSB7CiAgICAgICAgdmFyIG4gPSBsaXN0Lmxlbmd0aDsKICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgbGlzdFtrXShldmVudC5kYXRhLCBl");
    sb.append("dmVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoICh3ZWxsTWF5YmVUaGVFcnJvckRvZXNu");
    sb.append("dEJlbG9uZ1RvTWUpIHsKICAgICAgLy8gOnNocnVnOgogICAgfQogIH07CgogIGlmICh3aW5kb3cuYWRk");
    sb.append("RXZlbnRMaXN0ZW5lcikgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCByb3V0");
    sb.append("ZU1lc3NhZ2UsIGZhbHNlKTsKICB9IGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkgewogICAgd2lu");
    sb.append("ZG93LmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLCByb3V0ZU1lc3NhZ2UsIGZhbHNlKTsKICB9CgogIHNl");
    sb.append("bGYuY3VycmVudFZpZXdlcklkID0gMDsKICAvLyBBUEkgfCBSdW4gdGhlIHBhZ2UgaW4gdGhlIGdpdmVu");
    sb.append("IHBsYWNlCiAgc2VsZi5ydW4gPSBmdW5jdGlvbiAod2hlcmUsIHJhd1BhdGgsIHB1c2gpIHsKICAgIHJl");
    sb.append("bW92ZUFsbE1lc3NhZ2VIYW5kbGVycygpOwogICAgdmFyIHBhdGggPSByYXdQYXRoOwogICAgd2hpbGUg");
    sb.append("KHBhdGguZW5kc1dpdGgoIi8iKSAmJiBwYXRoICE9ICIvIikgewogICAgICBwYXRoID0gcGF0aC5zdWJz");
    sb.append("dHJpbmcoMCwgcGF0aC5sZW5ndGggLSAxKTsKICAgIH0KICAgIGZvciAoY29uS2V5IGluIGNvbm5lY3Rp");
    sb.append("b25zKSB7CiAgICAgIGNvbm5lY3Rpb25zW2NvbktleV0udHJlZS5udWtlKCk7CiAgICAgIGNvbm5lY3Rp");
    sb.append("b25zW2NvbktleV0ubnVrZSgpOwogICAgfQogICAgdmFyIHNlYXJjaCA9ICIiOwogICAgdmFyIGtRdWVz");
    sb.append("dGlvbiA9IHBhdGguaW5kZXhPZignPycpOwogICAgaWYgKGtRdWVzdGlvbiA+IDApIHsKICAgICAgc2Vh");
    sb.append("cmNoID0gcGF0aC5zdWJzdHJpbmcoa1F1ZXN0aW9uKTsKICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5n");
    sb.append("KDAsIGtRdWVzdGlvbik7CiAgICB9CiAgICB2YXIgcGFydHMgPSAocGF0aC5zdGFydHNXaXRoKCIvIikg");
    sb.append("PyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpLnNwbGl0KCIvIik7CiAgICB2YXIgaW5pdCA9IHt9Owog");
    sb.append("ICAgc2VsZi5jdXJyZW50Vmlld2VySWQrKzsKICAgIGluaXQudmlld2VyX2N1cnJlbnRfcGFnZV9pZCA9");
    sb.append("IHNlbGYuY3VycmVudFZpZXdlcklkOwogICAgdHJ5IHsKICAgICAgaW5pdC52aWV3ZXJfdGltZXpvbmUg");
    sb.append("PSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICAgIGlu");
    sb.append("aXQudmlld2VyX2xhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlOwogICAgfSBjYXRjaCAoYnJvd3Nl");
    sb.append("ckJhZCkgewogICAgICAvLyB3ZSBqdXN0IGRvbid0IHNlZSB0aGUgdmlld3N0YXRlIGlmIHdlIGRvbid0");
    sb.append("IGhhdmUgdGhlc2UgYXZhaWxhYmxlCiAgICB9CiAgICBpbml0LnZpZXdlcl9zZWFyY2hfcXVlcnkgPSAi");
    sb.append("IjsKICAgIGluaXQudmlld2VyX3dlYl9wdXNoX3N0YXR1cyA9IGdldFdlYlB1c2hTdGF0dXMoKTsKICAg");
    sb.append("IGlmIChzZWFyY2ggIT0gIj8iKSB7CiAgICAgIGluaXQudmlld2VyX3NlYXJjaF9xdWVyeSA9IHNlYXJj");
    sb.append("aDsKICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2guc3Vic3RyaW5n");
    sb.append("KDEpKTsKICAgICAgdmFyIGtJdCA9IHBhcmFtcy5rZXlzKCk7CiAgICAgIHZhciBwID0ga0l0Lm5leHQo");
    sb.append("KTsKICAgICAgd2hpbGUgKCFwLmRvbmUpIHsKICAgICAgICBpbml0W3AudmFsdWVdID0gcGFyYW1zLmdl");
    sb.append("dChwLnZhbHVlKTsKICAgICAgICBwID0ga0l0Lm5leHQoKTsKICAgICAgfQogICAgfQogICAgdmFyIGZv");
    sb.append("byA9IHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIGluaXQpOwogICAgbnVrZSh3aGVyZSk7CiAgICBpZiAo");
    sb.append("Zm9vICE9IG51bGwpIHsKICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICB2YXIgc3RhdGUg");
    sb.append("PSB7IHNlcnZpY2U6IGNvbm5lY3Rpb24sIGRhdGE6IG51bGwsIHZpZXc6IGZyZXNoKHdoZXJlKSwgY3Vy");
    sb.append("cmVudDogInZpZXciIH07CiAgICAgIHNlbGYuX19jdXJyZW50ID0gc3RhdGU7CgogICAgICBjb25zdCB2");
    sb.append("aWV3c3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncnh2aWV3c3RhdGUnKTsKICAgICAgaWYgKG51");
    sb.append("bGwgIT09IHZpZXdzdGF0ZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyeHZpZXdz");
    sb.append("dGF0ZScpOwogICAgICAgIGluaXQgPSBPYmplY3QuYXNzaWduKHt9LCBpbml0LCBKU09OLnBhcnNlKHZp");
    sb.append("ZXdzdGF0ZSkpOwogICAgICB9CgogICAgICBzdGF0ZS52aWV3LmluaXQgPSBpbml0OwogICAgICBzZWxm");
    sb.append("LmdhdGVzID0gW107CiAgICAgIHNlbGYucmVzdW1lX3VyaSA9IHBhdGg7CiAgICAgIGZvbyh3aGVyZSwg");
    sb.append("c3RhdGUpOwogICAgICBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKHN0YXRlLnZpZXcuZGVsdGEpOwog");
    sb.append("ICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGluaXQpOwogICAgICBpZiAocHVzaCkgewogICAgICAg");
    sb.append("IHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7bWVyZ2U6ZmFsc2V9LCAiIiwgZml4SHJlZihwYXRoKSAr");
    sb.append("IHNlYXJjaCk7CiAgICAgIH0KICAgICAgc2V0UHVzaEV2ZW50KGZ1bmN0aW9uKCkgewogICAgICAgIHN0");
    sb.append("YXRlLnZpZXcudHJlZS51cGRhdGUoeyB2aWV3ZXJfd2ViX3B1c2hfc3RhdHVzOiBnZXRXZWJQdXNoU3Rh");
    sb.append("dHVzKCl9KTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBpZiAocGF0aCAhPSAiLzQwNCIpIHsK");
    sb.append("ICAgICAgICBzZWxmLnJ1bih3aGVyZSwgIi80MDQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBk");
    sb.append("ZWZhdWx0IDQwNAogICAgICB9CiAgICB9CiAgICB3aGVyZS5hcHBlbmRDaGlsZChjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbSk7CiAgfTsKCiAgdmFyIGlkZW50aXRpZXMgPSB7fTsKCiAgc2VsZi5TSUdOT1VUID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgaWRlbnRpdGllcyA9IHt9OwogICAgZm9yICh2YXIgaWRlbnRpdHlOYW1lIGlu");
    sb.append("IGlkZW50aXRpZXMpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5XyIgKyBp");
    sb.append("ZGVudGl0eU5hbWUpOwogICAgfQogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5X2Rl");
    sb.append("ZmF1bHQiKTsKICAgIHZhciBheGUgPSBbXTsKICAgIGZvciAodmFyIGNpZCBpbiBjb25uZWN0aW9ucykg");
    sb.append("ewogICAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tjaWRdOwogICAgICBpZiAoY28ucHRyICE9IG51bGwp");
    sb.append("IHsKICAgICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIH0KICAgICAgYXhlLnB1c2goY2lkKTsKICAgIH0KICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgIGRlbGV0ZSBjb25uZWN0aW9u");
    sb.append("c1theGVba11dOwogICAgfQogIH07CgogIHNlbGYuR09PR0xFX1NJR05fT04gPSBmdW5jdGlvbiAoYWNj");
    sb.append("ZXNzVG9rZW4pIHsKICAgIGNvbm5lY3Rpb24uSW5pdENvbnZlcnRHb29nbGVVc2VyKGFjY2Vzc1Rva2Vu");
    sb.append("LCB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgaWRlbnRpdGllc1si");
    sb.append("ZGVmYXVsdCJdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgi");
    sb.append("aWRlbnRpdHlfZGVmYXVsdCIsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgIHNlbGYuZ290bygiLyIs");
    sb.append("IGZhbHNlKTsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAg");
    sb.append("IGNvbnNvbGUubG9nKCJHb29nbGUgZmFpbHVyZTogIiArIHJlYXNvbik7CiAgICAgIH0KICAgIH0pOwog");
    sb.append("IH07CgogIC8qKiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBwYWdlIHdpdGggc3RhdGUgKi8KICBzZWxm");
    sb.append("LmFSRHAgPSBmdW5jdGlvbiAoc3RhdGUsIHB1bGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgdmFyIHVyaSA9IHB1bGxlcihzdGF0ZS52aWV3LmluaXQpOwogICAgICByZXR1cm4gdXJpOwog");
    sb.append("ICAgfTsKICB9OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0IHRvIGEgc3RhdGljIHBhZ2UgKi8KICBz");
    sb.append("ZWxmLmFSRHogPSBmdW5jdGlvbiAocmF3KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBy");
    sb.append("ZXR1cm4gcmF3OwogICAgfQogIH07CgogIHZhciBpZGVudGl0eUV2ZW50cyA9IHt9OwogIHZhciBhZnRl");
    sb.append("ckhhdmVJZGVudGl0eSA9IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgY2FsbGJhY2spIHsKICAgIGlkZW50");
    sb.append("aXR5RXZlbnRzW2lkZW50aXR5TmFtZV0gPSBjYWxsYmFjazsKICB9OwogIHNlbGYuYWZ0ZXJIYXZlSWRl");
    sb.append("bnRpdHkgPSBhZnRlckhhdmVJZGVudGl0eTsKCiAgLyoqIGZvciBjdXN0b20gZWxlbWVudHMgdG8gbGVh");
    sb.append("cm4gb2YgdGhlIGlkZW50aXR5ICovCiAgc2VsZi5JRCA9IGZ1bmN0aW9uIChpZGVudGl0eU5hbWUsIHJl");
    sb.append("ZGlyZWN0VG9GdW5jKSB7CiAgICBpZiAoaWRlbnRpdHlOYW1lID09PSB0cnVlKSB7CiAgICAgIGlkZW50");
    sb.append("aXR5TmFtZSA9ICJkZWZhdWx0IjsKICAgIH0KICAgIC8vIElGIGlkZW50aXR5IGNvbnRhaW5zIGRvdHMK");
    sb.append("ICAgIHZhciBpZGVudGl0eSA9IG51bGw7CiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("IH07CgogICAgdmFyIHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRp");
    sb.append("dHlOYW1lKTsKICAgIGlmICh2YWwpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gdmFs");
    sb.append("OwogICAgfQoKICAgIGlmIChpZGVudGl0eU5hbWUuc3RhcnRzV2l0aCgiZGlyZWN0OiIpKSB7CiAgICAg");
    sb.append("IC8vIFVzZSwgYXMgaXMKICAgICAgaWRlbnRpdHkgPSBpZGVudGl0eU5hbWUuc3Vic3RyaW5nKDcpOwog");
    sb.append("ICAgfSBlbHNlIGlmIChpZGVudGl0eU5hbWUgaW4gaWRlbnRpdGllcykgewogICAgICBpZGVudGl0eSA9");
    sb.append("IGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXTsKICAgICAgY2xlYW51cCA9IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICBkZWxldGUgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdOwogICAgICAgIGxvY2FsU3RvcmFnZS5y");
    sb.append("ZW1vdmVJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lKTsKICAgICAgICBzZWxmLmdvdG8ocmVk");
    sb.append("aXJlY3RUb0Z1bmMoKSwgZmFsc2UpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gd2hhdGV2");
    sb.append("ZXIgcGFnZSB3ZSBhcmUsIG5lZWRzIHRvIGRpZSB3aGljaCBtZWFucyB3ZSBuZWVkIHRvIG51a2UgZXZl");
    sb.append("cnl0aGluZyEKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYu");
    sb.append("Z290byhyZWRpcmVjdFRvRnVuYygpLCBmYWxzZSk7CiAgICAgIH0sIDEwKTsKICAgICAgcmV0dXJuIHsg");
    sb.append("YWJvcnQ6IHRydWUgfTsKICAgIH0KICAgIGlmIChpZGVudGl0eU5hbWUgaW4gaWRlbnRpdHlFdmVudHMp");
    sb.append("IHsKICAgICAgaWRlbnRpdHlFdmVudHNbaWRlbnRpdHlOYW1lXShpZGVudGl0eSk7CiAgICAgIGRlbGV0");
    sb.append("ZSBpZGVudGl0eUV2ZW50c1tpZGVudGl0eU5hbWVdOwogICAgfQogICAgcmV0dXJuIHsgYWJvcnQ6IGZh");
    sb.append("bHNlLCBjbGVhbnVwOiBjbGVhbnVwLCBpZGVudGl0eTogaWRlbnRpdHkgfTsKICB9OwoKICAvKiBGb3Ig");
    sb.append("Y3VzdG9tIGNhbGxiYWNrcyB0byByZWRpcmVjdCBhbmQgaW52YWxpZGF0ZSBJRCBmYWlsdXJlcyAqLwog");
    sb.append("IHNlbGYuRklEQ0wgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGxvb2t1cCkgewogICAgcmV0dXJuIHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGNhbGxiYWNrLnN1Y2Nlc3MocmVz");
    sb.append("dWx0KTsKICAgICAgfSwKICAgICAgbmV4dDogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBjYWxsYmFj");
    sb.append("ay5uZXh0KGl0ZW0pOwogICAgICB9LAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgewogICAgICAg");
    sb.append("IGNhbGxiYWNrLmNvbXBsZXRlKCk7CiAgICAgIH0sCiAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFz");
    sb.append("b24pIHsKICAgICAgICBjYWxsYmFjay5mYWlsdXJlKHJlYXNvbik7CiAgICAgICAgaWYgKHJlYXNvbiA9");
    sb.append("PSA0MDM0MDMgfHwgcmVhc29uID09IDQwMzUwMCB8fCByZWFzb24gPT0gMTg0MzMzIHx8IHJlYXNvbiA9");
    sb.append("PSA5ODIyNTMpIHsKICAgICAgICAgIGxvb2t1cC5jbGVhbnVwKCk7CiAgICAgICAgfQogICAgICB9CiAg");
    sb.append("ICB9OwogIH07CgogIHZhciBjdXN0b21EYXRhU291cmNlcyA9IHt9OwoKICAvKiogcHJvdmlkZSBjdXN0");
    sb.append("b20gZGF0YSAqLwogIHNlbGYuUFJDVURBID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9t");
    sb.append("RGF0YVNvdXJjZXNbbmFtZV0gPSBmb287CiAgfTsKCiAgLy8gPGN1c3RvbWRhdGEgc3JjPXNyYyAocGFy");
    sb.append("YW1ldGVyOng9eSkqID4KICBzZWxmLkNVREEgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBz");
    sb.append("cmMsIHJ4b2JqLCByZWRpcmVjdFRvLCBjaGlsZE1ha2VyKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vu");
    sb.append("c3ViKCk7CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDEwLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZpcmVf");
    sb.append("dW5zdWIodW5zdWIpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBjdXN0b21UcmVlID0gZmFs");
    sb.append("c2U7CiAgICAgIGlmIChzcmMgaW4gY3VzdG9tRGF0YVNvdXJjZXMpIHsKICAgICAgICB2YXIgY29ucyA9");
    sb.append("IGN1c3RvbURhdGFTb3VyY2VzW3NyY107CiAgICAgICAgaWYgKHR5cGVvZiAoY29ucykgPT0gImZ1bmN0");
    sb.append("aW9uIikgewogICAgICAgICAgY3VzdG9tVHJlZSA9IGNvbnMocnhvYmosIHByaW9yU3RhdGUsIHJlZGly");
    sb.append("ZWN0VG8sIHNlbGYpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWN1c3RvbVRyZWUpIHsKICAg");
    sb.append("ICAgICBjdXN0b21UcmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgICB9CiAgICAgIHZhciBzdGF0ZSA9");
    sb.append("IHsKICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgZGF0YTogeyBjb25u");
    sb.append("ZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rpb24sIHRyZWU6IGN1c3RvbVRyZWUsIGRlbHRhOiB7fSwg");
    sb.append("cGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJp");
    sb.append("b3JTdGF0ZS52aWV3KSwKICAgICAgICBjdXJyZW50OiAiZGF0YSIKICAgICAgfTsKICAgICAgY2hpbGRN");
    sb.append("YWtlcihzdGF0ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgfSk7CiAg");
    sb.append("fTsKCiAgLy8gPHRpdGxlIHZhbHVlPSIuLi4iIC8+CiAgc2VsZi5TVCA9IGZ1bmN0aW9uIChyeG9iaikg");
    sb.append("ewogICAgaWYgKHJ4b2JqLnZhbHVlKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gcnhvYmoudmFsdWU7");
    sb.append("CiAgICB9CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHJ4");
    sb.append("b2JqLnZhbHVlKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSByeG9iai52YWx1ZTsKICAgICAgfQog");
    sb.append("ICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5jPgogIHNlbGYuVlN5ID0gZnVuY3Rpb24gKHBhcmVudCwg");
    sb.append("cHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWlsKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7");
    sb.append("CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfc3luYyhmdW5jdGlvbiAoc3lu");
    sb.append("Y2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIHZh");
    sb.append("ciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzeW5jZWQpIHsKICAgICAgICBhdmFp");
    sb.append("bChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBub3RhdmFpbChwYXJlbnQsIHN0");
    sb.append("YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgLy8g");
    sb.append("VE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsK");
    sb.append("CiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVuY3Rpb24gKGNvLCBjbGVhbnVwLCByZXRyeV9zbSkgewog");
    sb.append("ICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgcmV0cnlfc20uYmFja29mZiA9IDE7");
    sb.append("CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIGNvLmRl");
    sb.append("YnVnZ2VyKHBheWxvYWQpOwogICAgICAgIGNvLnNldF9jb25uZWN0ZWQodHJ1ZSk7CiAgICAgICAgcmV0");
    sb.append("cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgICAgIHJldHJ5X3NtLmJhY2tvZmYgPSAxOwog");
    sb.append("ICAgICAgIGlmICgiZGF0YSIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28udHJlZS51cGRh");
    sb.append("dGUocGF5bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgICB9CiAgICAgICAgaWYgKCJvdXRzdGFuZGluZyIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28ub25kZWNpZGUocGF5bG9hZC5kZWx0YS5vdXRz");
    sb.append("dGFuZGluZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3N0YXRlJyBpbiBwYXlsb2FkLmRlbHRh");
    sb.append("KSB7CiAgICAgICAgICBjby52aWV3c3RhdGV0cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0");
    sb.append("ZSk7CiAgICAgICAgfQogICAgICAgIGlmICgnbG9nJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAg");
    sb.append("ICBjb25zb2xlLmxvZyhwYXlsb2FkLmRlbHRhLmxvZyk7CiAgICAgICAgfQogICAgICAgIGlmICgncmVs");
    sb.append("b2FkJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBpZiAocGF5bG9hZC5kZWx0YS5yZWxvYWRb");
    sb.append("J3ByZXNlcnZlLXZpZXcnXSkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncnh2aWV3");
    sb.append("c3RhdGUnLCBKU09OLnN0cmluZ2lmeShjby52aWV3c3RhdGV0cmVlLnJhdygpKSk7CiAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfQogICAgICAgIGlmICgn");
    sb.append("dmlld3BvcnQnIGluIHBheWxvYWQuZGVsdGEgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQuZGVsdGEpIHsK");
    sb.append("ICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBheWxvYWQuZGVsdGEudmlld3BvcnQ7CiAgICAgICAgICBp");
    sb.append("ZiAodmlld3BvcnQgaW4gY28uaGFuZGxlcnMpIHsKICAgICAgICAgICAgY28uaGFuZGxlcnNbdmlld3Bv");
    sb.append("cnRdKHBheWxvYWQuZGVsdGEubWVzc2FnZSwgY28pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("ICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVyJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICB2YXIg");
    sb.append("ZmlsdGVyID0ge307CiAgICAgICAgICB2YXIga2V5cyA9IHBheWxvYWQuZGVsdGFbJ3ZpZXctc3RhdGUt");
    sb.append("ZmlsdGVyJ107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICAgICAgZmlsdGVyW2tleXNba11dID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGNv");
    sb.append("LmZpbHRlciA9IGZpbHRlcjsKICAgICAgICAgIGNvLmhhc19maWx0ZXIgPSB0cnVlOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBpZiAoJ2dvdG8nIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHNlbGYuZ290byhw");
    sb.append("YXlsb2FkLmRlbHRhLmdvdG8sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXBsZXRl");
    sb.append("OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gc2hvdWxkbid0IHJlYWxpc3RpY2FsbHkgaGFwcGVuIFRP");
    sb.append("RE86IHZhbGlkYXRlIDwtIHRydXRoCiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZChmYWxzZSk7CiAgICAg");
    sb.append("ICAgY28ucHRyID0gbnVsbDsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikg");
    sb.append("ewogICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBmYWlsdXJlCiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZChm");
    sb.append("YWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgICBpZiAocmVhc29uID09IDQwMzQwMyB8");
    sb.append("fCByZWFzb24gPT0gNDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMgfHwgcmVhc29uID09IDk4MjI1Mykg");
    sb.append("ewogICAgICAgICAgY2xlYW51cCgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAv");
    sb.append("LyBpcyBpdCBhbiBleHBlY3RlZCBlcnJvciB0aGF0IHdpbGwgaGFwcGVuIGEgYnVuY2g/CiAgICAgICAg");
    sb.append("dmFyIGV4cGVjdGVkX2Vycm9yID0gcmVhc29uID09IDk5OTsKICAgICAgICAvLyBkbyB3ZSBub3Qga25v");
    sb.append("dyBhYm91dCBhbiBlcnJvciB0aGF0IGhhcHBlbnMgYSBidW5jaD8gaWYgc28sIHRoZW4gbGV0J3MgYXQg");
    sb.append("bGVhc3QgdHJ5IGFnYWluIGEgbnVtYmVyIG9mIGZpbml0ZSB0aW1lcy4KICAgICAgICB2YXIgYmxpbmRf");
    sb.append("cmV0cnkgPSByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA8IDE2OwogICAgICAgIGlmIChibGluZF9y");
    sb.append("ZXRyeSkgewogICAgICAgICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMrKzsKICAgICAgICB9CiAg");
    sb.append("ICAgICAgLy8gcmV0cnkgb24gZWl0aGVyIGNhc2UKICAgICAgICBpZiAoZXhwZWN0ZWRfZXJyb3IgfHwg");
    sb.append("YmxpbmRfcmV0cnkpIHsKICAgICAgICAgIHJldHJ5X3NtLmJhY2tvZmYgPSBNYXRoLmNlaWwoTWF0aC5t");
    sb.append("aW4ocmV0cnlfc20uYmFja29mZiArIE1hdGgucmFuZG9tKCkgKiByZXRyeV9zbS5iYWNrb2ZmICsgKGJs");
    sb.append("aW5kX3JldHJ5ID8gMTI1IDogMSksIDI1MDApKTsKICAgICAgICAgIGlmIChleHBlY3RlZF9lcnJvcikg");
    sb.append("ewogICAgICAgICAgICAvLyB0aGUgZXhwZWN0ZWQgZXJyb3IgaXMgYSBjb25uZWN0aW9uIGV2ZW50LCBz");
    sb.append("byB3ZSBwcm90ZWN0IHRoZSBzZXJ2aWNlIGFuZCBqdW1wIGJhY2stb2ZmIHJpZ2h0IHRvIG5lYXIgbWF4");
    sb.append("IG92ZXIgYSBuaWNlIHNwcmVhZAogICAgICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gTWF0aC5taW4o");
    sb.append("MTI1MCwgcmV0cnlfc20uYmFja29mZikgKyBNYXRoLnJhbmRvbSgpICogMTI1MDsKICAgICAgICAgIH0K");
    sb.append("ICAgICAgICAgIGlmIChleHBlY3RlZF9lcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygiY29u");
    sb.append("bmVjdC1sb3NzfHJldHJ5aW5nLi4uICgiICsgcmV0cnlfc20uYmFja29mZiArICIpOyByZWFzb249IiAr");
    sb.append("IHJlYXNvbiArIChibGluZF9yZXRyeSA/ICIgW2JsaW5kXSIgOiAiIikpOwogICAgICAgICAgfSBlbHNl");
    sb.append("IHsKICAgICAgICAgICAgY29uc29sZS5sb2coImNvbm5lY3QtZmFpbHVyZXxyZXRyeWluZy4uLiAoIiAr");
    sb.append("IHJldHJ5X3NtLmJhY2tvZmYgKyAiKTsgcmVhc29uPSIgKyByZWFzb24gKyAoYmxpbmRfcmV0cnkgPyAi");
    sb.append("IFtibGluZF0iIDogIiIpKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIFRPRE86IG5lZWQgYSBkaWZm");
    sb.append("ZXJlbnQgZmVlZGJhY2sgbWVjaGFuaXNtIChtYXliZSBhIG51bWJlciB1bmRlciB0aGUgd2lmaSBpY29u");
    sb.append("PykKICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXRy");
    sb.append("eV9zbS5nbygpOwogICAgICAgICAgfSwgcmV0cnlfc20uYmFja29mZik7CiAgICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICAgIGNvbnNvbGUubG9nKCJnYXZlIHVwIGNvbm5lY3Rpb247IiArIGNvLmxhYmVsICsgIjsg");
    sb.append("cmVhc29uPSIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciBzZXR1");
    sb.append("cF9jbyA9IGZ1bmN0aW9uKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpIHsKICAgIGNvLnZpZXdzdGF0");
    sb.append("ZXRyZWUgPSBzdGF0ZS52aWV3LnRyZWU7CiAgICB2YXIgc3luY190cmVlID0gZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICAvLyBsZXQncyBjb3B5IG91dCB0aGUgdHJlZSBmcm9tIHRoZSB2aWV3c3RhdGUKICAgICAgdmFy");
    sb.append("IG5ld190cmVlID0gc2FmZV9maWx0ZXIoc3RhdGUudmlldy50cmVlLmNvcHkoKSk7CgogICAgICAvLyBp");
    sb.append("ZiB3ZSBoYXZlIGdvdCBhIGZpbHRlciBmcm9tIHRoZSBzZXJ2ZXIsIHRoZW4gbGV0J3MgZmlsdGVyCiAg");
    sb.append("ICAgIGlmIChjby5oYXNfZmlsdGVyKSB7CiAgICAgICAgLy8gcmVjb25zdHJ1Y3QgdGhlIG5ldyB2aWV3");
    sb.append("IGJhc2VkIG9uIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIGZpbHRlciBhbmQgdGhlIG5ldyBzdGF0ZQog");
    sb.append("ICAgICAgIHZhciBmaWx0ZXJlZCA9IHt9OwogICAgICAgIGZvciAodmFyIGsgaW4gbmV3X3RyZWUpIHsK");
    sb.append("ICAgICAgICAgIGlmIChjby5maWx0ZXJba10pIHsKICAgICAgICAgICAgZmlsdGVyZWRba10gPSBuZXdf");
    sb.append("dHJlZVtrXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gYXNzdW1lIHRoZSBuZXcgdHJl");
    sb.append("ZQogICAgICAgIG5ld190cmVlID0gZmlsdGVyZWQ7CiAgICAgIH0KICAgICAgLy8gaWYgdGhlIGNsb25l");
    sb.append("IChpLmUuIHN0cmluZ2lmaWVkIHZlcnNpb24pIGlzIHRoZSBzYW1lIGFzIHdoYXQgd2UgbGFzdCBzZW50");
    sb.append("LCB0aGVuIGRvbid0IHNlbmQgYW55dGhpbmcKICAgICAgdmFyIHByaW9yX2Nsb25lID0gSlNPTi5zdHJp");
    sb.append("bmdpZnkobmV3X3RyZWUpOwogICAgICBpZiAocHJpb3JfY2xvbmUgPT0gY28udmlld3N0YXRlX2Nsb25l");
    sb.append("KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gZmFsc2U7");
    sb.append("CiAgICAgIGNvLnZzc2VxKys7CiAgICAgIGNvLnN5bmMoKTsKICAgICAgdmFyIHN5bmNlZCA9IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgICBpZiAoY28udnNzZXEgPT0gdGhpcy5ib3VuZCkgewogICAgICAgICAgY28u");
    sb.append("dmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICAgICAgY28uc3luYygpOwogICAgICAgIH0KICAgICAg");
    sb.append("fS5iaW5kKHsgYm91bmQ6IGNvLnZzc2VxIH0pOwogICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSBKU09O");
    sb.append("LnN0cmluZ2lmeShuZXdfdHJlZSk7CiAgICAgIGNvLnB0ci51cGRhdGUobmV3X3RyZWUsIHsgc3VjY2Vz");
    sb.append("czogc3luY2VkLCBmYWlsdXJlOiBzeW5jZWQgfSk7CiAgICB9OwogICAgdmFyIGJpbmQgPSBmdW5jdGlv");
    sb.append("biAoc2VuZE5vdykgewogICAgICB1bnN1Yi52aWV3ID0gc3RhdGUudmlldy50cmVlLnN1YnNjcmliZShm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvLnB0ciA9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm47");
    sb.append("CiAgICAgICAgfQogICAgICAgIHN5bmNfdHJlZSgpOwogICAgICB9KTsKICAgICAgaWYgKHNlbmROb3cp");
    sb.append("IHsKICAgICAgICBzeW5jX3RyZWUoKTsKICAgICAgfQogICAgfTsKICAgIGlmIChjby5wdHIgIT0gbnVs");
    sb.append("bCAmJiBjby5ib3VuZCA9PSBkZXNpcmVkKSB7CiAgICAgIGJpbmQodHJ1ZSk7CiAgICAgIHJldHVybiBm");
    sb.append("YWxzZTsKICAgIH0KICAgIGlmIChjby5wdHIgIT0gbnVsbCkgewogICAgICBjby5wdHIuZW5kKHsgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIGNv");
    sb.append("LnB0ciA9IG51bGw7CiAgICB9CiAgICByZXR1cm4gYmluZDsKICB9OwoKICAvLyA8Y29ubmVjdGlvbiBi");
    sb.append("aWxsaW5nIC4uLj4KICBzZWxmLkJDT05ORUNUID0gZnVuY3Rpb24gKHN0YXRlLCByeG9iaikgewogICAg");
    sb.append("dmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIH0KICAgIH07CiAgICBy");
    sb.append("eG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4");
    sb.append("b2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklE");
    sb.append("KHJ4b2JqLmlkZW50aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yZWRpcmVjdDsgfSk7CiAg");
    sb.append("ICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIg");
    sb.append("Y28gPSBnZXRfY29ubmVjdGlvbl9vYmoocnhvYmoubmFtZSk7CiAgICAgIHZhciBkZXNpcmVkID0gIjpi");
    sb.append("aWxsaW5nOiIgKyBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNp");
    sb.append("cmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7CiAgICAgICAg");
    sb.append("cmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKICAgICAgdmFyIGlkZW50aXR5");
    sb.append("ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsK");
    sb.append("ICAgICAgdW5zdWIudmlldygpOwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5o");
    sb.append("YW5kbGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVs");
    sb.append("ID0gIkJpbGxpbmcgWyAiICsgcnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2JpbGxpbmcgPSB0");
    sb.append("cnVlOwogICAgICBjby52aWFfZG9tYWluID0gZmFsc2U7CiAgICAgIHZhciByZXRyeV9zbSA9IHt9Owog");
    sb.append("ICAgICByZXRyeV9zbS5yZXNwb25kZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgY2xlYW51cCwgcmV0cnlf");
    sb.append("c20pOwogICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90");
    sb.append("aGluZyBuZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9");
    sb.append("IGNvbm5lY3Rpb24uQmlsbGluZ0Nvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHJldHJ5X3NtLnJlc3Bv");
    sb.append("bmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9");
    sb.append("KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9OwoKICAvLyBDSEVDSyBGT1IgT1ZFUlJJREUg");
    sb.append("U0lHTkFMIEhFUkUKICBzZWxmLmRvbWFpbiA9IGxvY2F0aW9uLmhvc3RuYW1lOwogIHNlbGYuaG9zdCA9");
    sb.append("IGxvY2F0aW9uLmhvc3Q7CiAgc2VsZi5wcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sOwogIHNlbGYu");
    sb.append("aXNfbW9iaWxlID0gZmFsc2U7CgogIHZhciBob3N0T3ZlcnJpZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRl");
    sb.append("bSgibWRvX2hvc3QiKTsgLy8gbXVsdGkgZG9tYWluIGVuZHBvaW50IGNob2ljZQogIGlmIChob3N0T3Zl");
    sb.append("cnJpZGUgIT0gbnVsbCkgewogICAgc2VsZi5ob3N0ID0gaG9zdE92ZXJyaWRlOwogICAgc2VsZi5kb21h");
    sb.append("aW4gPSBob3N0T3ZlcnJpZGUuc3BsaXQoIjoiKVswXTsKICB9CgogIHNlbGYudXJsX3ByZWZpeCA9IHNl");
    sb.append("bGYucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0OwoKCiAgc2VsZi5tb2JpbGVJbml0ID0gZnVuY3Rp");
    sb.append("b24oZGVmYXVsdE92ZXJyaWRlRG9tYWluKSB7CiAgICBzZWxmLmRvbWFpbiA9IGRlZmF1bHRPdmVycmlk");
    sb.append("ZURvbWFpbjsKICAgIHNlbGYuaG9zdCA9IGRlZmF1bHRPdmVycmlkZURvbWFpbjsKICAgIHNlbGYucHJv");
    sb.append("dG9jb2wgPSAiaHR0cHM6IjsKICAgIGNvbm5lY3Rpb24ucHJvdG9jb2wgPSAiaHR0cHM6IjsKICAgIHNl");
    sb.append("bGYuaXNfbW9iaWxlID0gdHJ1ZTsKICB9OwogIHNlbGYubW9iaWxlSW5pdE11bHRpRG9tYWluID0gZnVu");
    sb.append("Y3Rpb24oc3RhcnQsIGJldGFQcmVmaXgsIHByb2RQcmVmaXgpIHsKICAgIHNlbGYubWRfYmV0YVByZWZp");
    sb.append("eCA9IGJldGFQcmVmaXg7CiAgICBzZWxmLm1kX3Byb2RQcmVmaXggPSBwcm9kUHJlZml4OwogICAgc2Vs");
    sb.append("Zi5wcm90b2NvbCA9ICJodHRwczoiOwogICAgY29ubmVjdGlvbi5wcm90b2NvbCA9ICJodHRwczoiOwog");
    sb.append("ICAgc2VsZi5pc19tb2JpbGUgPSB0cnVlOwogICAgdmFyIGluaXRpYWxfcGF0aCA9IHN0YXJ0OwogICAg");
    sb.append("aWYgKCJyZWFkeSIgPT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1kbCIpKSB7CiAgICAgIGluaXRpYWxf");
    sb.append("cGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3");
    sb.append("aW5kb3cubG9jYXRpb24uaGFzaDsKICAgIH0KICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIGZpeFBh");
    sb.append("dGgoaW5pdGlhbF9wYXRoKSwgZmFsc2UpOwogICAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAo");
    sb.append("cCkgewogICAgICBzZWxmLnJ1bihkb2N1bWVudC5ib2R5LCBmaXhQYXRoKGluaXRpYWxfcGF0aCksIGZh");
    sb.append("bHNlKTsKICAgIH07CiAgfTsKICB2YXIgZ2V0T3JDcmVhdGVNYW5pZmVzdHMgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIHZhciBkYiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJfX2RvbWFpbl9tYW5pZmVzdHMiKTsKICAg");
    sb.append("IGlmIChkYiA9PSBudWxsKSB7CiAgICAgIGRiID0ge3NlcTowLCBtYW5pZmVzdHM6W119OwogICAgfSBl");
    sb.append("bHNlIHsKICAgICAgZGIgPSBKU09OLnBhcnNlKGRiKTsKICAgIH0KICAgIHJldHVybiBkYjsKICB9Owog");
    sb.append("IHZhciBzYXZlTWFuaWZlc3RzID0gZnVuY3Rpb24oZGIpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJfX2RvbWFpbl9tYW5pZmVzdHMiLCBKU09OLnN0cmluZ2lmeShkYikpOwogIH07CiAgc2VsZi5yZWdp");
    sb.append("c3Rlck1hbmlmZXN0ID0gZnVuY3Rpb24odXJsKSB7CiAgICB2YXIgYWRkID0gZnVuY3Rpb24obWFuaWZl");
    sb.append("c3QpIHsKICAgICAgdmFyIGRiID0gZ2V0T3JDcmVhdGVNYW5pZmVzdHMoKTsKICAgICAgbWFuaWZlc3Qu");
    sb.append("c291cmNlID0gdXJsOwogICAgICBtYW5pZmVzdC5pZCA9IGRiLnNlcTsKICAgICAgZGIuc2VxKys7CiAg");
    sb.append("ICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGIubWFuaWZlc3RzLmxlbmd0aDsgaysrKSB7CiAgICAgICAg");
    sb.append("aWYgKGRiLm1hbmlmZXN0c1trXS5zb3VyY2UgPT0gdXJsKSB7CiAgICAgICAgICBkYi5tYW5pZmVzdHNb");
    sb.append("a10gPSBtYW5pZmVzdDsKICAgICAgICAgIHNhdmVNYW5pZmVzdHMoZGIpOwogICAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgICBkYi5tYW5pZmVzdHMucHVzaChtYW5pZmVzdCk7CiAgICAg");
    sb.append("IHNhdmVNYW5pZmVzdHMoZGIpOwogICAgfTsKICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVz");
    sb.append("dCgpOwogICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAo");
    sb.append("dGhpcy5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7CiAg");
    sb.append("ICAgICAgICBhZGQoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpOwogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfTsKICAgIHhodHRwLm9wZW4oIkdFVCIsIHVybCwgdHJ1ZSk7CiAgICB4aHR0cC5zZW5kKCk7");
    sb.append("CiAgfTsKICAvLyBSVU5USU1FKG1vYmlsZSkgfCByeDphY3Rpb249Im1hbmlmZXN0LWFkZDoiCiAgc2Vs");
    sb.append("Zi5NRF9hID0gZnVuY3Rpb24oZG9tLCB0eXBlLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KG51bGwsIGRv");
    sb.append("bSwgdHlwZSwgZnVuY3Rpb24oKSB7CiAgICAgIHNlbGYucmVnaXN0ZXJNYW5pZmVzdCh0eXBlb2YodmFs");
    sb.append("dWUpID09ICdmdW5jdGlvbicgPyB2YWx1ZSgpIDogdmFsdWUpOwogICAgfSk7CiAgfTsKICAvLyBSVU5U");
    sb.append("SU1FKG1vYmlsZSkgfCByeDphY3Rpb249Im1hbmlmZXN0LXVzZToiCiAgc2VsZi5NRF91ID0gZnVuY3Rp");
    sb.append("b24oZG9tLCB0eXBlLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KG51bGwsIGRvbSwgdHlwZSwgZnVuY3Rp");
    sb.append("b24oKSB7CiAgICAgIHZhciBpZCA9IHBhcnNlSW50KHR5cGVvZih2YWx1ZSkgPT0gJ2Z1bmN0aW9uJyA/");
    sb.append("IHZhbHVlKCkgOiB2YWx1ZSk7CiAgICAgIHZhciBkYiA9IGdldE9yQ3JlYXRlTWFuaWZlc3RzKCk7CiAg");
    sb.append("ICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGIubWFuaWZlc3RzLmxlbmd0aDsgaysrKSB7CiAgICAgICAg");
    sb.append("dmFyIG1hbmlmZXN0ID0gZGIubWFuaWZlc3RzW2tdOwogICAgICAgIGlmIChtYW5pZmVzdC5pZCA9PSBp");
    sb.append("ZCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm1kb19ob3N0IiwgbmV3IFVSTChkYi5t");
    sb.append("YW5pZmVzdHNba10uc291cmNlKS5ob3N0KTsKICAgICAgICAgIGlmIChtYW5pZmVzdC5iZXRhKSB7CiAg");
    sb.append("ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtZGVjIiwgImJldGEiKTsKICAgICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtZGVjIiwgInByb2QiKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtZGwiLCAicmVhZHkiKTsKICAg");
    sb.append("ICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi8iOwogICAgICAgIH0KICAgICAgfQogICAgfSk7");
    sb.append("CiAgfTsKICBzZWxmLm1vYmlsZUxvYWQgPSBmdW5jdGlvbih1cmwpIHsKICAgIHZhciBwYXJzZWQgPSBu");
    sb.append("ZXcgVVJMKHVybCk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWRvX2hvc3QiLCBwYXJzZWQuaG9z");
    sb.append("dCk7CiAgICBpZiAocGFyc2VkLmhvc3QuZW5kc1dpdGgoc2VsZi5tZF9iZXRhUHJlZml4KSkgewogICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWRlYyIsICJiZXRhIik7CiAgICB9IGVsc2UgewogICAgICBs");
    sb.append("b2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWRlYyIsICJwcm9kIik7CiAgICB9CiAgICB3aW5kb3cubG9jYXRp");
    sb.append("b24uaHJlZiA9IHBhcnNlZC5wYXRoOwogIH07CiAgLy8gUlVOVElNRShtb2JpbGUpIHwgcng6YWN0aW9u");
    sb.append("PSJtYW5pZmVzdC1kZWw6IgogIHNlbGYuTURfZCA9IGZ1bmN0aW9uKGRvbSwgdHlwZSwgdmFsdWUpIHsK");
    sb.append("ICAgIHJlZ19ldmVudChudWxsLCBkb20sIHR5cGUsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgaWQgPSBw");
    sb.append("YXJzZUludCh0eXBlb2YodmFsdWUpID09ICdmdW5jdGlvbicgPyB2YWx1ZSgpIDogdmFsdWUpOwogICAg");
    sb.append("ICB2YXIgZGIgPSBnZXRPckNyZWF0ZU1hbmlmZXN0cygpOwogICAgICB2YXIgbmV3X21hbmlmZXN0cyA9");
    sb.append("IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRiLm1hbmlmZXN0cy5sZW5ndGg7IGsrKykgewog");
    sb.append("ICAgICAgIGlmIChkYi5tYW5pZmVzdHNba10uaWQgIT0gaWQpIHsKICAgICAgICAgIG5ld19tYW5pZmVz");
    sb.append("dHMucHVzaChkYi5tYW5pZmVzdHNba10pOwogICAgICAgIH0KICAgICAgfQogICAgICBkYi5tYW5pZmVz");
    sb.append("dHMgPSBuZXdfbWFuaWZlc3RzOwogICAgICBzYXZlTWFuaWZlc3RzKGRiKTsKICAgIH0pOwogIH07Cgog");
    sb.append("IC8vIDxjb25uZWN0aW9uIHVzZS1kb21haW4gLi4uPgogIHNlbGYuRENPTk5FQ1QgPSBmdW5jdGlvbiAo");
    sb.append("c3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICBpZiAoISgnbmFtZScgaW4gcnhvYmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBpZExvb2t1cCA9IHNlbGYuSUQocnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4");
    sb.append("b2JqLnJlZGlyZWN0OyB9KTsKICAgICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAg");
    sb.append("ICAgdmFyIGRvbWFpbiA9IHNlbGYuZG9tYWluOwogICAgICB2YXIgZGVzaXJlZCA9IGRvbWFpbiArIGlk");
    sb.append("TG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBj");
    sb.append("bywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAu");
    sb.append("aWRlbnRpdHk7CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIu");
    sb.append("dmlldygpOwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9");
    sb.append("OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkRvbWFpbjoi");
    sb.append("ICsgZG9tYWluICsgIiBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfZG9tYWluID0g");
    sb.append("dHJ1ZTsKICAgICAgY28udmlhX2JpbGxpbmcgPSBmYWxzZTsKICAgICAgY28uZG9tYWluID0gZG9tYWlu");
    sb.append("OwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9y");
    sb.append("ZXNwb25kZXIoY28sIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5jdGlv");
    sb.append("bigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRlX2Ns");
    sb.append("b25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGVWaWFE");
    sb.append("b21haW4oaWRlbnRpdHksIGRvbWFpbiwgc2FmZV9maWx0ZXIoc3RhdGUudmlldy50cmVlLmNvcHkoKSks");
    sb.append("IHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgIGNv");
    sb.append("LnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9OwoKICAvLyA8Y29u");
    sb.append("bmVjdGlvbiAuLi4+CiAgc2VsZi5DT05ORUNUID0gZnVuY3Rpb24gKHN0YXRlLCByeG9iaikgewogICAg");
    sb.append("dmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIH0KICAgIH07CiAgICBy");
    sb.append("eG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHZhbGlkID0gJ2tleScg");
    sb.append("aW4gcnhvYmogJiYgJ3NwYWNlJyBpbiByeG9iaiAmJiAnbmFtZScgaW4gcnhvYmo7CiAgICAgIGlmICgh");
    sb.append("dmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5J");
    sb.append("RChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwog");
    sb.append("ICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFy");
    sb.append("IGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4b2JqLm5hbWUpOwogICAgICB2YXIgZGVzaXJlZCA9IHJ4");
    sb.append("b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgaWRMb29rdXAuaWRlbnRpdHk7IC8vIFRP");
    sb.append("RE86IG5lZWQgc29tZSBraW5kIG9mIGhhc2hpbmcgZnVuY3Rpb24gaGVyZQogICAgICB2YXIgYmluZCA9");
    sb.append("IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFs");
    sb.append("c2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVkOwoKICAg");
    sb.append("ICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBjbGVhbnVwID0gaWRM");
    sb.append("b29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwogICAgICBjby5zcGFjZSA9IHJ4b2JqLnNw");
    sb.append("YWNlOwogICAgICBjby5rZXkgPSByeG9iai5rZXk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7");
    sb.append("CiAgICAgIGNvLmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAg");
    sb.append("ICAgY28ubGFiZWwgPSBjby5zcGFjZSArICIvIiArIGNvLmtleSArICIgWyAiICsgcnhvYmoubmFtZSAr");
    sb.append("ICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9IGZhbHNlOwogICAgICBjby52aWFfYmlsbGluZyA9IGZh");
    sb.append("bHNlOwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmlu");
    sb.append("ZF9yZXNwb25kZXIoY28sIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5j");
    sb.append("dGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRl");
    sb.append("X2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGUo");
    sb.append("aWRlbnRpdHksIHJ4b2JqLnNwYWNlLCByeG9iai5rZXksIHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJl");
    sb.append("ZS5jb3B5KCkpLCByZXRyeV9zbS5yZXNwb25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygp");
    sb.append("OwogICAgICBjby50cmVlLnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsK");
    sb.append("CiAgc2VsZi5JTlRFUk5BTCA9IGZ1bmN0aW9uIChwcmlvclN0YXRlKSB7CiAgICByZXR1cm4gewogICAg");
    sb.append("ICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogbnVs");
    sb.append("bCwgdHJlZTogbmV3IEFkYW1hVHJlZSgpLCBkZWx0YToge30sIHBhcmVudDogbnVsbCwgcGF0aDogbnVs");
    sb.append("bCB9LAogICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICBjdXJy");
    sb.append("ZW50OiAiZGF0YSIKICAgIH07CiAgfTsKCiAgdmFyIHJlY2FsbF9lbWFpbCA9IGZ1bmN0aW9uIChlbCkg");
    sb.append("ewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiSU5QVVQiKSB7CiAgICAgIGlmICgi");
    sb.append("ZW1haWwiID09IGVsLnR5cGUgJiYgImVtYWlsIiA9PSBlbC5uYW1lKSB7CiAgICAgICAgZWwudmFsdWUg");
    sb.append("PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWxfcmVtZW1iZXIiKTsKICAgICAgfQogICAgfSBlbHNl");
    sb.append("IHsKICAgICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRy");
    sb.append("ZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("bjsgaysrKSB7CiAgICAgICAgICByZWNhbGxfZW1haWwoZWwuY2hpbGRyZW5ba10pOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgfQogIH07CgogIHNlbGYuYVVQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVu");
    sb.append("dGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwg");
    sb.append("ZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucnhfZm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2");
    sb.append("YXIKICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFj");
    sb.append("dGlvbiA9ICJodHRwczovLyIgKyBBZGFtYS5Qcm9kdWN0aW9uICsgIi9+dXBsb2FkIjsKICAgIGZvcm0u");
    sb.append("bWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5lbmN0eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwog");
    sb.append("ICAgdmFyIGlkZW50aXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAg");
    sb.append("aWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRlbiI7CiAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRl");
    sb.append("bnRpdHkiOwogICAgaWRlbnRpdHlJbnB1dC52YWx1ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgZm9y");
    sb.append("bS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIHZhciBpZnJhbWVUYXJnZXQgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgIGlmcmFtZVRhcmdldC5uYW1lID0gIlVQTE9BRF8i");
    sb.append("ICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFtZVRhcmdldC53aWR0aCA9ICIxIjsKICAgIGlmcmFtZVRh");
    sb.append("cmdldC5oZWlnaHQgPSAiMSI7CgogICAgZm9ybS5hcHBlbmRDaGlsZChpZnJhbWVUYXJnZXQpOwogICAg");
    sb.append("Zm9ybS50YXJnZXQgPSBpZnJhbWVUYXJnZXQubmFtZTsKICB9OwoKICBzZWxmLmFEVVAgPSBmdW5jdGlv");
    sb.append("biAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNl");
    sb.append("bGYuSUQoaWRlbnRpdHlOYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9");
    sb.append("KTsgLy8gVE9ETzogbWFrZSByeHZhcgogICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVy");
    sb.append("bjsKICAgIH0KICAgIGZvcm0uYWN0aW9uID0gc2VsZi5wcm90b2NvbCArICIvLyIgKyBzZWxmLmhvc3Qg");
    sb.append("KyAiL351cGxvYWQiOwogICAgZm9ybS5tZXRob2QgPSAicG9zdCI7CiAgICBmb3JtLmVuY3R5cGUgPSAi");
    sb.append("bXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICB7CiAgICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRl");
    sb.append("biI7CiAgICAgIGlkZW50aXR5SW5wdXQubmFtZSA9ICJpZGVudGl0eSI7CiAgICAgIGlkZW50aXR5SW5w");
    sb.append("dXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0");
    sb.append("eUlucHV0KTsKICAgIH0KICAgIHsKICAgICAgdmFyIGRvbWFpbklucHV0ID0gZG9jdW1lbnQuY3JlYXRl");
    sb.append("RWxlbWVudCgiaW5wdXQiKTsKICAgICAgZG9tYWluSW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgICBk");
    sb.append("b21haW5JbnB1dC5uYW1lID0gImRvbWFpbiI7CiAgICAgIGRvbWFpbklucHV0LnZhbHVlID0gc2VsZi5k");
    sb.append("b21haW47CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZG9tYWluSW5wdXQpOwogICAgfQogICAgdmFyIGlm");
    sb.append("cmFtZVRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgaWZyYW1lVGFy");
    sb.append("Z2V0Lm5hbWUgPSAiVVBMT0FEXyIgKyBNYXRoLnJhbmRvbSgpOwogICAgaWZyYW1lVGFyZ2V0LndpZHRo");
    sb.append("ID0gIjEiOwogICAgaWZyYW1lVGFyZ2V0LmhlaWdodCA9ICIxIjsKICAgIGZvcm0uYXBwZW5kQ2hpbGQo");
    sb.append("aWZyYW1lVGFyZ2V0KTsKICAgIGZvcm0udGFyZ2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAg");
    sb.append("dmFyIHN0YXNoX2lkZW50aXR5ID0gZnVuY3Rpb24obmFtZSwgaWRlbnRpdHksIGNvbm5lY3Rpb24pIHsK");
    sb.append("ICAgIHZhciByZXEgPSB7fTsKICAgIHJlcVsnbmFtZSddID0gbmFtZTsKICAgIHJlcVsnaWRlbnRpdHkn");
    sb.append("XSA9IGlkZW50aXR5OwogICAgcmVxWydtYXgtYWdlJ10gPSA1NTI5NjAwOwoKICAgIHZhciB4aHR0cCA9");
    sb.append("IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICBpZiAodGhpcy5z");
    sb.append("dGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBjb25uZWN0aW9uLklkZW50aXR5U3Rhc2goaWRlbnRpdHks");
    sb.append("IG5hbWUsIHsKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgLy8g");
    sb.append("VEhJUyBIQVMgRFJBR09OUyBVTlRJTCBBIEZVTEwgUFJPRFVDVElPTiBERVBMT1lNRU5UCiAgICAgICAg");
    sb.append("ICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBuYW1lLCAiY29va2llOiIg");
    sb.append("KyBuYW1lKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24oeHl6KSB7");
    sb.append("CgogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICB4");
    sb.append("aHR0cC5vcGVuKCJQVVQiLCBzZWxmLnByb3RvY29sICsgIi8vIiArIHNlbGYuaG9zdCArICIvfnN0YXNo");
    sb.append("LyIgKyBEYXRlLm5vdygpLCB0cnVlKTsKICAgIHhodHRwLndpdGhDcmVkZW50aWFscyA9IHRydWU7CiAg");
    sb.append("ICB4aHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KHJlcSkpOwogIH07CgogIHZhciBnZXRfZm9ybV9hbmRf");
    sb.append("cHcgPSBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIgcGFzc3dvcmRzID0ge307CiAgICB2YXIgcmVxID0g");
    sb.append("Z2V0X2Zvcm0oZm9ybSwgcGFzc3dvcmRzKTsKICAgIGlmICgncGFzc3dvcmQnIGluIHBhc3N3b3Jkcykg");
    sb.append("ewogICAgICByZXFbJ3Bhc3N3b3JkJ10gPSBwYXNzd29yZHNbJ3Bhc3N3b3JkJ107CiAgICB9CiAgICBp");
    sb.append("ZiAoJ25ld19wYXNzd29yZCcgaW4gcGFzc3dvcmRzKSB7CiAgICAgIHJlcVsnbmV3X3Bhc3N3b3JkJ10g");
    sb.append("PSBwYXNzd29yZHNbJ25ld19wYXNzd29yZCddOwogICAgfQogICAgcmV0dXJuIHJlcTsKICB9CgogIHZh");
    sb.append("ciBjb21tb25BdXRob3JpemUgPSBmdW5jdGlvbihmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9i");
    sb.append("aiwgbmV4dFN0ZXApIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRF");
    sb.append("dmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVm");
    sb.append("YXVsdCgpOwogICAgICB2YXIgc2VuZFJlcSA9IGZ1bmN0aW9uKHJlcSkgewogICAgICAgIHZhciBzbSA9");
    sb.append("IHthdHRlbXB0czowfTsKICAgICAgICBzbS5yZXNwb25kZXIgPSB7CiAgICAgICAgICBzdWNjZXNzOiBm");
    sb.append("dW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBw");
    sb.append("YXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlf");
    sb.append("IiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAgIHN0YXNoX2lkZW50");
    sb.append("aXR5KGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSwgY29ubmVjdGlvbik7CiAgICAgICAgICAg");
    sb.append("IC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgICBzZWxmLmdvdG8ocnhvYmou");
    sb.append("cnhfZm9yd2FyZCwgZmFsc2UpOwogICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAg");
    sb.append("ICB9LAogICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICBmaXJl");
    sb.append("X2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBuZXh0U3RlcChyZXEsIHNtLnJlc3BvbmRlcik7CiAg");
    sb.append("ICAgIH0KICAgICAgdmFyIHBhc3N3b3JkcyA9IHt9OwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9y");
    sb.append("bSwgcGFzc3dvcmRzKTsKICAgICAgaWYgKCdwYXNzd29yZCcgaW4gcGFzc3dvcmRzKSB7CiAgICAgICAg");
    sb.append("cmVxWydwYXNzd29yZCddID0gcGFzc3dvcmRzWydwYXNzd29yZCddOwogICAgICB9CiAgICAgIGlmICgn");
    sb.append("bmV3X3Bhc3N3b3JkJyBpbiBwYXNzd29yZHMpIHsKICAgICAgICBjb25uZWN0aW9uLkRvY3VtZW50c0hh");
    sb.append("c2hQYXNzd29yZChwYXNzd29yZHNbJ25ld19wYXNzd29yZCddLCB7CiAgICAgICAgICBzdWNjZXNzOiBm");
    sb.append("dW5jdGlvbiAoaGFzaGVkX3B3KSB7CiAgICAgICAgICAgIHJlcVsnbmV3X3Bhc3N3b3JkJ10gPSBoYXNo");
    sb.append("ZWRfcHcucGFzc3dvcmRIYXNoOwogICAgICAgICAgICBzZW5kUmVxKHJlcSk7CiAgICAgICAgICB9LAog");
    sb.append("ICAgICAgICAgZmFpbGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dvcmQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAg");
    sb.append("fSBlbHNlIHsKICAgICAgICBzZW5kUmVxKHJlcSk7CiAgICAgIH0KICAgIH0sIHRydWUpOwogIH0KCiAg");
    sb.append("Ly8gcng6YWN0aW9uPWRvY3VtZW50OmF1dGhvcml6ZQogIHNlbGYuYURPQyA9IGZ1bmN0aW9uIChmb3Jt");
    sb.append("LCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9uQXV0aG9yaXplKGZvcm0sIHN0");
    sb.append("YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbihyZXEsIHJlc3BvbmRlcikgewogICAgICBj");
    sb.append("b25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXphdGlvbihyZXEuc3BhY2UsIHJlcS5rZXksIHJlcSwgcmVz");
    sb.append("cG9uZGVyKTsKICAgIH0pOwogIH07CgogIC8vIHJ4OmFjdGlvbj1kb21haW46YXV0aG9yaXplCiAgc2Vs");
    sb.append("Zi5hRE9NID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBj");
    sb.append("b21tb25BdXRob3JpemUoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIGZ1bmN0aW9uKHJl");
    sb.append("cSwgcmVzcG9uZGVyKSB7CiAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemF0aW9uRG9tYWlu");
    sb.append("KHNlbGYuZG9tYWluLCByZXEsIHJlc3BvbmRlcik7CiAgICB9KTsKICB9OwoKICAvLyByeDpldmVudD10");
    sb.append("b2dnbGUtcGFzc3dvcmQKICBzZWxmLm9uUFdUID0gZnVuY3Rpb24oZG9tLCBzdGF0ZSwgdHlwZSkgewog");
    sb.append("ICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIg");
    sb.append("Y3VyID0gZG9tOwogICAgICB3aGlsZSAoY3VyLnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPSAiUEFTU1dP");
    sb.append("UkQtSE9MREVSIikgewogICAgICAgIGN1ciA9IGN1ci5wYXJlbnRFbGVtZW50OwogICAgICB9CiAgICAg");
    sb.append("IHZhciBodW50ID0gZnVuY3Rpb24obm9kZSkgewogICAgICAgIGlmIChub2RlLnRhZ05hbWUudG9VcHBl");
    sb.append("ckNhc2UoKSA9PSAiSU5QVVQiICYmIChub2RlLm5hbWUgPT0gInBhc3N3b3JkIiB8fCBub2RlLm5hbWUg");
    sb.append("PT0gImNvbmZpcm0tcGFzc3dvcmQiIHx8IG5hbWUgPT0gIm5ld19wYXNzd29yZCIgfHwgbmFtZSA9PSAi");
    sb.append("Y29uZmlybS1uZXdfcGFzc3dvcmQiKSkgewogICAgICAgICAgaWYgKG5vZGUudHlwZSA9PSAicGFzc3dv");
    sb.append("cmQiKSB7CiAgICAgICAgICAgIG5vZGUudHlwZSA9ICJ0ZXh0IgogICAgICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICAgICAgbm9kZS50eXBlID0gInBhc3N3b3JkIgogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("ICBpZiAoJ2NoaWxkcmVuJyBpbiBub2RlKSB7CiAgICAgICAgICB2YXIgY2ggPSBub2RlLmNoaWxkcmVu");
    sb.append("OwogICAgICAgICAgdmFyIG4gPSBjaC5sZW5ndGg7CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IG47IGsrKykgewogICAgICAgICAgICBodW50KGNoW2tdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAg");
    sb.append("ICAgIH07CiAgICAgIGlmIChjdXIgIT0gbnVsbCkgewogICAgICAgIGh1bnQoY3VyKTsKICAgICAgfQog");
    sb.append("ICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbiAodG8gZGVw");
    sb.append("cmVjYXRlKQogIHNlbGYuYWREU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwg");
    sb.append("cnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExp");
    sb.append("c3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgp");
    sb.append("OwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0pOwogICAgICB2YXIgc20gPSB7YXR0");
    sb.append("ZW1wdHM6MH07CiAgICAgIHNtLnJlc3BvbmRlciA9IHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAo");
    sb.append("cGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVu");
    sb.append("dGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlO");
    sb.append("YW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIHN0YXNoX2lkZW50aXR5KGlkZW50aXR5TmFt");
    sb.append("ZSwgcGF5bG9hZC5pZGVudGl0eSwgY29ubmVjdGlvbik7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3");
    sb.append("YXkgY29ubmVjdGlvbnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7");
    sb.append("CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWdu");
    sb.append("aW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25u");
    sb.append("ZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplRG9tYWluKHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJl");
    sb.append("cS5wYXNzd29yZCwgc20ucmVzcG9uZGVyKTsKICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8");
    sb.append("IHJ4OmFjdGlvbj1kb2N1bWVudDpzaWduLWluICh0byBkZXByZWNhdGUpCiAgc2VsZi5hRFNPID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7IC8vIERFUFJFQ0FURUQKICAg");
    sb.append("IHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJt");
    sb.append("aXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIg");
    sb.append("cmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0pOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9y");
    sb.append("aXplKHJlcS5zcGFjZSwgcmVxLmtleSwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAg");
    sb.append("ICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0");
    sb.append("eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJp");
    sb.append("ZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRP");
    sb.append("RE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2Zvcndh");
    sb.append("cmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAg");
    sb.append("IGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAi");
    sb.append("RmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0p");
    sb.append("OwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1p");
    sb.append("bi1yZXNldCAodG8gZGVwcmVjYXRlKQogIHNlbGYuYWREU09yID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRl");
    sb.append("LCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7IC8vIERFUFJFQ0FURUQKICAgIHJ4b2JqLl9fID0gZnVuY3Rp");
    sb.append("b24gKCkgeyB9OwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0");
    sb.append("KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm1fYW5k");
    sb.append("X3B3KGZvcm0pOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJlc2V0");
    sb.append("KHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwgcmVxLm5ld19wYXNzd29yZCx7");
    sb.append("CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNb");
    sb.append("aWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0");
    sb.append("SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAg");
    sb.append("ICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5y");
    sb.append("eF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwK");
    sb.append("ICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUo");
    sb.append("Zm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQog");
    sb.append("ICAgICB9KTsKICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb2N1bWVu");
    sb.append("dDpzaWduLWluLXJlc2V0ICh0byBkZXByZWNhdGUpCiAgc2VsZi5hRFNPciA9IGZ1bmN0aW9uIChmb3Jt");
    sb.append("LCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgeyAvLyBERVBSRUNBVEVECiAgICByeG9iai5fXyA9");
    sb.append("IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rp");
    sb.append("b24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9m");
    sb.append("b3JtX2FuZF9wdyhmb3JtKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZVdpdGhSZXNl");
    sb.append("dChyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCByZXEubmV3X3Bh");
    sb.append("c3N3b3JkLHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRl");
    sb.append("bnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3Rv");
    sb.append("cmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsK");
    sb.append("ICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAg");
    sb.append("ICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVf");
    sb.append("ZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0sIHRydWUpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5hdXRvZ2VuaWQgPSAxOwog");
    sb.append("IHNlbGYuWCA9IGZ1bmN0aW9uKCkgewogICAgc2VsZi5hdXRvZ2VuaWQrKzsKICAgIHJldHVybiAneCcg");
    sb.append("KyBzZWxmLmF1dG9nZW5pZDsKICB9OwoKICB2YXIgdHJhbnNmb3JtcyA9IHt9OwogIHRyYW5zZm9ybXNb");
    sb.append("J3ByaW5jaXBhbC5hZ2VudCddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC5hZ2VudDsgfTsKICB0cmFu");
    sb.append("c2Zvcm1zWydwcmluY2lwYWwuYXV0aG9yaXR5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4LmF1dGhv");
    sb.append("cml0eTsgfTsKICB0cmFuc2Zvcm1zWyd0cmltJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycgKyB4");
    sb.append("KS50cmltKCk7IH07CiAgdHJhbnNmb3Jtc1sndXBwZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgn");
    sb.append("JyArIHgpLnRvVXBwZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snbG93ZXInXSA9IGZ1bmN0aW9uKHgp");
    sb.append("IHsgcmV0dXJuICgnJyArIHgpLnRvTG93ZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snaXNfZW1wdHlf");
    sb.append("c3RyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4ID09ICIiOyB9OwogIHRyYW5zZm9ybXNbJ2lzX25v");
    sb.append("dF9lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggIT0gIiI7IH07CiAgdHJhbnNmb3Jt");
    sb.append("c1snanNvbmlmeSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7IH07CiAg");
    sb.append("dHJhbnNmb3Jtc1sndGltZV9ub3cnXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIERhdGUubm93KCkgKyAi");
    sb.append("IjsgfTsKICB0cmFuc2Zvcm1zWydzaXplX2J5dGVzJ10gPSBmdW5jdGlvbih4cmF3KSB7CiAgICB2YXIg");
    sb.append("eCA9IDAuMDsKICAgIGlmICh0eXBlb2YoeHJhdykgPT0gJ251bWJlcicpIHsKICAgICAgeCA9IHhyYXc7");
    sb.append("CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIHggPSBwYXJzZUZsb2F0KHhyYXcpOwogICAg");
    sb.append("ICB9IGNhdGNoIChleCkgewoKICAgICAgfQogICAgfQogICAgdmFyIGl2YWwgPSBNYXRoLmZsb29yKHgp");
    sb.append("OwogICAgaWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBpdmFsICsgIiBCIjsKICAgIH0KICAg");
    sb.append("IGl2YWwgLz0gMTAyNDsKICAgIGlmIChpdmFsIDwgMTAyNCkgewogICAgICByZXR1cm4gTWF0aC5yb3Vu");
    sb.append("ZChpdmFsICogMTApIC8gMTAuMCArICIgS0IiOwogICAgfQogICAgaXZhbCAvPSAxMDI0OwogICAgaWYg");
    sb.append("KGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGl2YWwgKiAxMCkgLyAxMC4wICsg");
    sb.append("IiBNQiI7CiAgICB9CiAgICBpdmFsIC89IDEwMjQ7CiAgICBpZiAoaXZhbCA8IDEwMjQpIHsKICAgICAg");
    sb.append("cmV0dXJuIE1hdGgucm91bmQoaXZhbCAqIDEwKSAvIDEwLjAgKyAiIEdCIjsKICAgIH0KICB9CiAgdHJh");
    sb.append("bnNmb3Jtc1snb3JkaW5hbGl6ZSddID0gZnVuY3Rpb24obikgewogICAgY29uc3QgbnVtID0gcGFyc2VJ");
    sb.append("bnQobik7CiAgICBpZiAoIWlzTmFOKG51bSkpIHsKICAgICAgbGV0IG9yZCA9ICd0aCc7CiAgICAgIGlm");
    sb.append("IChuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExKSB7CiAgICAgICAgb3JkID0gJ3N0JzsKICAgICAg");
    sb.append("fQogICAgICBlbHNlIGlmIChuICUgMTAgPT0gMiAmJiBuICUgMTAwICE9IDEyKSB7CiAgICAgICAgb3Jk");
    sb.append("ID0gJ25kJzsKICAgICAgfQogICAgICBlbHNlIGlmIChuICUgMTAgPT0gMyAmJiBuICUgMTAwICE9IDEz");
    sb.append("KSB7CiAgICAgICAgb3JkID0gJ3JkJzsKICAgICAgfQogICAgICByZXR1cm4gbiArIG9yZDsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIHJldHVybiBuOwogICAgfQogIH0KICB0cmFuc2Zvcm1zWyd2dWxnYXJfZnJhY3Rp");
    sb.append("b24nXSA9IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4wOwogICAgaWYgKHR5cGVvZih4cmF3");
    sb.append("KSA9PSAnbnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0gZWxzZSB7CiAgICAgIHRyeSB7CiAg");
    sb.append("ICAgICAgeCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0Y2ggKGV4KSB7CgogICAgICB9CiAg");
    sb.append("ICB9CiAgICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICB2YXIgY2hhbmdlID0geCAtIGl2YWw7");
    sb.append("CiAgICB2YXIgc3VmZml4ID0gIiI7CiAgICBpZiAoY2hhbmdlIDw9IDAuMDYyNSkgewogICAgICAvLyAw");
    sb.append("CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjE4NzUpIHsKICAgICAgc3VmZml4ID0gIuKFmyI7CiAg");
    sb.append("ICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjMxMjUpIHsKICAgICAgc3VmZml4ID0gIsK8IjsKICAgIH0g");
    sb.append("ZWxzZSBpZiAoY2hhbmdlIDw9IDAuNDM3NSkgewogICAgICBzdWZmaXggPSAi4oWcIjsKICAgIH0gZWxz");
    sb.append("ZSBpZiAoY2hhbmdlIDw9IDAuNTYyNSkgewogICAgICBzdWZmaXggPSAiwr0iOwogICAgfSBlbHNlIGlm");
    sb.append("IChjaGFuZ2UgPD0gMC42ODc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ0iOwogICAgfSBlbHNlIGlmIChj");
    sb.append("aGFuZ2UgPD0gMC44MTI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCviI7IC8vIDMvNAogICAgfSBlbHNlIGlm");
    sb.append("IChjaGFuZ2UgPD0gMC45Mzc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ4iOwogICAgfSAvLyBlbHNlIDEK");
    sb.append("ICAgIHJldHVybiBpdmFsICsgc3VmZml4OwogIH0KICB0cmFuc2Zvcm1zWyd0aW1lX2FnbyddID0gZnVu");
    sb.append("Y3Rpb24oZHQsIGZvcm1hdCkgewogICAgLy8gb25seSB0cmFuc2Zvcm0gc3RyaW5ncwogICAgaWYgKHR5");
    sb.append("cGVvZiAoZHQpID09ICJzdHJpbmciKSB7CiAgICAgIC8vIGxldCdzIHN0cmlwIG91dCBldmVyeXRoaW5n");
    sb.append("IGFmdGVyIHRoZSBicmFja2V0cwogICAgICB2YXIgcyA9IGR0OwogICAgICB2YXIgayA9IHMuaW5kZXhP");
    sb.append("ZignWycpOwogICAgICBpZiAoayA+PSAwKSB7CiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIGspOwog");
    sb.append("ICAgICB9CiAgICAgIHZhciBkID0gRGF0ZS5wYXJzZShzKTsKICAgICAgaWYgKE51bWJlci5pc05hTihk");
    sb.append("KSkgewogICAgICAgIC8vIGl0IGlzbid0IGEgbnVtYmVyLCBzbyB3ZSBkaWRuJ3QgZ2V0IGEgZGF0ZSBz");
    sb.append("dGFtcDsgZGVmYXVsdCB0byB0aGUgaW5wdXQKICAgICAgICByZXR1cm4gZHQ7CiAgICAgIH0KICAgICAg");
    sb.append("Ly8gd2UgYXJlIGludGVyZXN0ZWQgaW4gcHJvZHVjaW5nIGEgc3RyaW5nIGxpa2UgIlggbWludXRlcyBh");
    sb.append("Z28iLCBzbyBzdGFydCB3aXRoIHNlY29uZHMKICAgICAgdmFyIGRlbHRhID0gKERhdGUubm93KCkgLSBk");
    sb.append("KS8xMDAwOyAvLyBzZWNvbmRzOwogICAgICBpZiAoZGVsdGEgPCA2MCkgewogICAgICAgIHJldHVybiAi");
    sb.append("TGVzcyB0aGFuIGEgbWludXRlIGFnbyI7CiAgICAgIH0KICAgICAgLy8gaXQgd2Fzbid0IDkwIHNlY29u");
    sb.append("ZHMgYWdvIG9yIGxlc3MsIHNvIGxldCdzIHJlZmluZSB0b3dhcmRzIG1pbnV0ZXMKICAgICAgZGVsdGEg");
    sb.append("Lz0gNjA7IC8vIG5vdyBpdCBpcyBtaW51dGVzCiAgICAgIGlmIChkZWx0YSA8IDYwKSB7CiAgICAgICAg");
    sb.append("cmV0dXJuIE1hdGguZmxvb3IoZGVsdGEpICsgIiBtaW51dGVzIGFnbyI7CiAgICAgIH0KICAgICAgaWYg");
    sb.append("KGRlbHRhID4gMi42MjhlKzcpIHsKICAgICAgICByZXR1cm4gIk5ldmVyIjsKICAgICAgfQogICAgICAv");
    sb.append("LyBpdCB3YXNuJ3QgOTAgbWludXRlcyBhZ28sIHNvIGxldCdzIGp1c3QgcHV0IHRoZSB0aW1lIHN0YW1w");
    sb.append("IHVwCiAgICAgIHZhciBkdGhlbiA9IG5ldyBEYXRlKGQpOwogICAgICB2YXIgZG5vdyA9IG5ldyBEYXRl");
    sb.append("KCk7CiAgICAgIHZhciBvcHRzID0ge307CiAgICAgIGlmIChmb3JtYXQpewogICAgICAgIGZvcm1hdC50");
    sb.append("cmltKCkuc3BsaXQoIiIpLmZvckVhY2goY2hhciA9PiB7CiAgICAgICAgICBjb25zdCBrZXlzID0geyJo");
    sb.append("IjogImhvdXIiLCAibSI6ICJtaW51dGUiLCAicyI6ICJzZWNvbmQifQogICAgICAgICAgaWYgKGNoYXIg");
    sb.append("aW4ga2V5cyl7CiAgICAgICAgICAgIG9wdHNba2V5c1tjaGFyXV0gPSAibnVtZXJpYyI7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSkKICAgICAgfQogICAgICBpZiAoZHRoZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkg");
    sb.append("IT0gZG5vdy50b0xvY2FsZURhdGVTdHJpbmcoKSkgewogICAgICAgIHJldHVybiBkdGhlbi50b0xvY2Fs");
    sb.append("ZURhdGVTdHJpbmcoKSArICIgIiArIGR0aGVuLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgb3B0cyk7CiAg");
    sb.append("ICAgIH0KICAgICAgcmV0dXJuIGR0aGVuLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgb3B0cyk7CiAgICB9");
    sb.append("IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9OwoKICB0");
    sb.append("cmFuc2Zvcm1zWyd0aW1lJ10gPSBmdW5jdGlvbihkdCkgewogICAgICAgIC8vIG9ubHkgdHJhbnNmb3Jt");
    sb.append("IHN0cmluZ3MKICAgIGlmICh0eXBlb2YgKGR0KSA9PSAic3RyaW5nIikgewogICAgICAvLyBsZXQncyBz");
    sb.append("dHJpcCBvdXQgZXZlcnl0aGluZyBhZnRlciB0aGUgYnJhY2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAg");
    sb.append("ICAgdmFyIGsgPSBzLmluZGV4T2YoJ1snKTsKICAgICAgaWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBz");
    sb.append("LnN1YnN0cmluZygwLCBrKTsKICAgICAgfQoKICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gdGltZSBm");
    sb.append("b3JtYXQKICAgICAgdmFyIHQgPSBkdC5pbmRleE9mKCI6Iik7CiAgICAgIGlmICh0IDwgMCkgewogICAg");
    sb.append("ICAgIHJldHVybiBkdDsKICAgICAgfQogICAgICB2YXIgaCA9IGR0LnNwbGl0KCI6IilbMF07CiAgICAg");
    sb.append("IHZhciBob3VycyA9IGg7CiAgICAgIGlmIChoLmxlbmd0aCA+IDIpIHsKICAgICAgICBob3VycyA9IGgu");
    sb.append("c3Vic3RyaW5nKGgubGVuZ3RoIC0gMiwgaC5sZW5ndGgpOyAvLyB0cmltIGxlZnQgaW4gY2FzZSBvZiBk");
    sb.append("YXRldGltZQogICAgICB9CiAgICAgIHZhciBBbU9yUG0gPSBob3VycyA+PSAxMiA/ICdwbScgOiAnYW0n");
    sb.append("OwogICAgICBob3VycyA9IChob3VycyAlIDEyKSB8fCAxMjsKICAgICAgdmFyIG0gPSBkdC5zcGxpdCgi");
    sb.append("OiIpWzFdCiAgICAgIHZhciBtaW51dGVzID0gbTsKICAgICAgaWYgKG0ubGVuZ3RoID4gMikgewogICAg");
    sb.append("ICAgIG1pbnV0ZXMgPSBtLnN1YnN0cmluZygwLDIpOyAvLyB0cmltIHJpZ2h0IGluIGNhc2Ugb2YgZGF0");
    sb.append("ZXRpbWUKICAgICAgfQoKICAgICAgcmV0dXJuIGhvdXJzICsgIjoiICsgbWludXRlcyArICIgIiArIEFt");
    sb.append("T3JQbTsgCiAgICB9IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAg");
    sb.append("IH0KICB9OwoKICB0cmFuc2Zvcm1zWydkYXRlLWZvcm1hdCddID0gZnVuY3Rpb24oZCwgZm9ybWF0KSB7");
    sb.append("CiAgICBpZiAodHlwZW9mIChkKSA9PSAic3RyaW5nIikgewogICAgICAvLyBpZiBkYXRlIGlzIG5vdCBz");
    sb.append("ZXQsIHJldHVybiBlbXB0eSBzdHJpbmcKICAgICAgaWYgKGQgPT0gIjEtMDEtMDEiKSByZXR1cm4gIiIK");
    sb.append("CiAgICAgIGNvbnN0IHAgPSBmb3JtYXQudG9Mb3dlckNhc2UoKS5zcGxpdCgiLyIpOwogICAgICBjb25z");
    sb.append("dCBvcHRzID0ge307CiAgICAgIHAuZm9yRWFjaChmID0+IHsKICAgICAgICBjb25zdCB2YWwgPSBmLmxl");
    sb.append("bmd0aCA+IDIgPyAibnVtZXJpYyIgOiAiMi1kaWdpdCI7CiAgICAgICAgY29uc3Qga2V5cyA9IHsieSI6");
    sb.append("ICJ5ZWFyIiwgIm0iOiAibW9udGgiLCAiZCI6ICJkYXkifQogICAgICAgIG9wdHNba2V5c1tmLmNoYXJB");
    sb.append("dCgwKV1dID0gdmFsOwogICAgICB9KQoKICAgICAgLy8gaWYgbm90IGRhdGV0aW1lLCBjb252ZXJ0aW5n");
    sb.append("IHRvIG9uZSBoZXJlIHRvIHByZXZlbnQgdGltZXpvbmUgaXNzdWVzCiAgICAgIGNvbnN0IGRhdGV0aW1l");
    sb.append("ID0gZC5pbmNsdWRlcygiVCIpID8gZCA6IGQgKyAiVDAwOjAwOjAwIjsKICAgICAgcmV0dXJuIG5ldyBE");
    sb.append("YXRlKGRhdGV0aW1lKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgb3B0cyk7CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkOwogICAgfQogIH0KCiAgdHJhbnNmb3Jt");
    sb.append("c1snY3VycmVuY3knXSA9IGZ1bmN0aW9uKHgsIGZtdCkgewogICAgY29uc3QgbnVtID0gcGFyc2VGbG9h");
    sb.append("dCh4KTsKICAgIGlmIChpc05hTihudW0pKSByZXR1cm4geDsKICAgIHRyeSB7CiAgICAgIHJldHVybiBu");
    sb.append("ZXcgSW50bC5OdW1iZXJGb3JtYXQoW10sIHsKICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAg");
    sb.append("ICBjdXJyZW5jeTogZm10LAogICAgICAgIHVzZUdyb3VwaW5nOiB0cnVlLAogICAgICB9KS5mb3JtYXQo");
    sb.append("bnVtKQogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcigiJ2N1cnJlbmN5JyB0");
    sb.append("cmFuc2Zvcm0gZXJyb3I6ICIsIGVycm9yKTsKICAgICAgcmV0dXJuIHg7CiAgICB9CiAgICAKICB9CiAg");
    sb.append("CgogIHNlbGYuUlRSID0gZnVuY3Rpb24obmFtZSwgdHJhbnNmb3JtKSB7CiAgICB0cmFuc2Zvcm1zW25h");
    sb.append("bWVdID0gdHJhbnNmb3JtOwogIH07CiAgc2VsZi5yZWdpc3RlclRyYW5zZm9ybSA9IHNlbGYuUlRSOwoK");
    sb.append("ICAvLyB7YmxhaHxuYW1lfQogIHNlbGYuVFIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICBpZiAobmFtZSBp");
    sb.append("biB0cmFuc2Zvcm1zKSB7CiAgICAgIHJldHVybiB0cmFuc2Zvcm1zW25hbWVdOwogICAgfSAKICAgIC8v");
    sb.append("IGV4OiBkYXRlLWZvcm1hdDptbS9kZC95eQogICAgaWYgKG5hbWUuaW5jbHVkZXMoIjoiKSl7CiAgICAg");
    sb.append("IGNvbnN0IFtrZXksIGZvcm1hdF0gID0gbmFtZS5zcGxpdCgiOiIpOwogICAgICBpZiAoa2V5IGluIHRy");
    sb.append("YW5zZm9ybXMpIHsKICAgICAgICByZXR1cm4geCA9PiB0cmFuc2Zvcm1zW2tleV0oeCwgZm9ybWF0KTsK");
    sb.append("ICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gZnVuY3Rpb24oeCkgeyByZXR1cm4geDsgfTsKICB9");
    sb.append("OwoKICAvLyBUT0RPCiAgdmFyIHZhbGlkYXRvcnMgPSB7fTsKICBzZWxmLlJWID0gZnVuY3Rpb24obmFt");
    sb.append("ZSwgdmFsaWRhdG9yKSB7CiAgICB2YWxpZGF0b3JzW25hbWVdID0gdmFsaWRhdG9yOwogIH07CiAgc2Vs");
    sb.append("Zi5yZWdpc3RlclZhbGlkYXRvciA9IHNlbGYuUlY7CgogIHZhciBjb21tb25QdXQgPSBmdW5jdGlvbiAo");
    sb.append("Zm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIHVybGZhY3RvcnkpIHsKICAgIC8vIFdJUAog");
    sb.append("ICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1");
    sb.append("Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZh");
    sb.append("ciBwYXNzd29yZHMgPSB7fTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHBhc3N3b3Jkcyk7");
    sb.append("CgogICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdXJsID0gdXJsZmFjdG9y");
    sb.append("eShyeG9iaik7CiAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAg");
    sb.append("eGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHRoaXMu");
    sb.append("cmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIp");
    sb.append("OwogICAgICAgICAgICAgIGlmICh0eXBlID09ICJ0ZXh0L2Vycm9yIikgewogICAgICAgICAgICAgICAg");
    sb.append("ZmlyZV9mYWlsdXJlKGZvcm0sIHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgIHJldHVy");
    sb.append("bjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImFwcGxpY2F0aW9uL2pzb24iKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpOwog");
    sb.append("ICAgICAgICAgICAgICAgaWYgKCdpZGVudGl0eScgaW4gcGF5bG9hZCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgICAg");
    sb.append("ICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9h");
    sb.append("ZC5pZGVudGl0eSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAg");
    sb.append("IHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICAgICAgZmlyZV9zdWNj");
    sb.append("ZXNzKGZvcm0pOwogICAgICAgICAgICAgIGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1Ym1p");
    sb.append("dHRlZCIpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9y");
    sb.append("bSwgIkZhaWxlZCB0byBjb21tdW5pY2F0ZSB0byBzZXJ2ZXIiKTsKICAgICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH07CiAgICAgICAgeGh0dHAub3BlbigiUFVUIiwgdXJsLCB0cnVlKTsKICAgICAg");
    sb.append("ICB4aHR0cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgIHhodHRwLnNlbmQoSlNPTi5zdHJp");
    sb.append("bmdpZnkocmVxKSk7CiAgICAgIH07CgogICAgICBpZiAoJ3Bhc3N3b3JkJyBpbiBwYXNzd29yZHMpIHsK");
    sb.append("ICAgICAgICBpZiAoISgnY29uZmlybS1wYXNzd29yZCcgaW4gcGFzc3dvcmRzKSB8fCBwYXNzd29yZHNb");
    sb.append("J3Bhc3N3b3JkJ10gPT0gcGFzc3dvcmRzWydjb25maXJtLXBhc3N3b3JkJ10pIHsKICAgICAgICAgIGNv");
    sb.append("bm5lY3Rpb24uRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3Jkc1sncGFzc3dvcmQnXSwgewogICAg");
    sb.append("ICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoaGFzaGVkX3B3KSB7CiAgICAgICAgICAgICAgcmVxWydw");
    sb.append("YXNzd29yZCddID0gaGFzaGVkX3B3LnBhc3N3b3JkSGFzaDsKICAgICAgICAgICAgICBuZXh0KCk7CiAg");
    sb.append("ICAgICAgICAgIH0sCiAgICAgICAgICAgIGZhaWxlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAg");
    sb.append("IGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dvcmQiKTsKICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCAiUGFzc3dvcmRzIGRvbid0IG1hdGNoIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("IG5leHQoKTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgfQoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9u");
    sb.append("PWRvbWFpbjpwdXQKICBzZWxmLmFkRFBVVCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlO");
    sb.append("YW1lLCByeG9iaikgewogICAgY29tbW9uUHV0KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2Jq");
    sb.append("LCBmdW5jdGlvbiAocnhvYmopIHsgcmV0dXJuIHNlbGYucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0");
    sb.append("ICsgIi8iICsgcnhvYmoucGF0aDsgfSkKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvY3Vt");
    sb.append("ZW50OnB1dAogIHNlbGYuYURQVVQgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwg");
    sb.append("cnhvYmopIHsKICAgIGNvbW1vblB1dChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgZnVu");
    sb.append("Y3Rpb24gKHJ4b2JqKSB7IHJldHVybiBzZWxmLnByb3RvY29sICsgIi8vIiArIGNvbm5lY3Rpb24uaG9z");
    sb.append("dCArICIvIiArIHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgcnhvYmoucGF0aDsg");
    sb.append("fSkKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNpZ24taW4KICBzZWxmLmFTTyA9");
    sb.append("IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18g");
    sb.append("PSBmdW5jdGlvbiAoKSB7IH07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IHJlY2FsbF9lbWFpbChmb3JtKTsKICAgIH0sIDEpOwogICAgLy8gVE9ETzogcHVsbCBlbWFpbCBvdXQg");
    sb.append("b2YgdGhpbiBhaXIKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2");
    sb.append("dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtX2Fu");
    sb.append("ZF9wdyhmb3JtKTsKICAgICAgaWYgKHJlcS5yZW1lbWJlcikgewogICAgICAgIGxvY2FsU3RvcmFnZS5z");
    sb.append("ZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsIHJlcS5lbWFpbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg");
    sb.append("bG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVtYmVyIiwgIiIpOwogICAgICB9CiAgICAgIGNv");
    sb.append("bm5lY3Rpb24uQWNjb3VudExvZ2luKHJlcS5lbWFpbCwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1l");
    sb.append("XSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRp");
    sb.append("dHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICBzZWxmLmdvdG8o");
    sb.append("cnhvYmoucnhfZm9yd2FyZCwgZmFsc2UpOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAg");
    sb.append("ICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9m");
    sb.append("YWlsdXJlKGZvcm0sICJBY2NvdW50TG9naW4gRmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAg");
    sb.append("ICAgfSk7CiAgICB9LCB0cnVlKTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNp");
    sb.append("Z24tdXAKICBzZWxmLmFTVSA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgZm9yd2FyZFRvKSB7CiAgICBm");
    sb.append("b3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnBy");
    sb.append("ZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB7fSk7CiAgICAgIGNv");
    sb.append("bm5lY3Rpb24uSW5pdFNldHVwQWNjb3VudChyZXEuZW1haWwsIHsKICAgICAgICBzdWNjZXNzOiBmdW5j");
    sb.append("dGlvbiAoLyogcGF5bG9hZCAqLykgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWls");
    sb.append("IiwgcmVxLmVtYWlsKTsKICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJkVG8sIGZhbHNlKTsKICAgICAg");
    sb.append("ICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("IChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiSW5pdFNldHVwQWNjb3VudCBG");
    sb.append("YWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUpOwogIH07Cgog");
    sb.append("IC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2V0LXBhc3N3b3JkCiAgc2VsZi5hU1AgPSBmdW5j");
    sb.append("dGlvbiAoZm9ybSwgc3RhdGUsIGZvcndhcmRUbykgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdz");
    sb.append("dWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2");
    sb.append("YXIgcmVxID0gZ2V0X2Zvcm1fYW5kX3B3KGZvcm0pOwogICAgICBpZiAoISgiZW1haWwiIGluIHJlcSkp");
    sb.append("IHsKICAgICAgICByZXEuZW1haWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKTsKICAgICAg");
    sb.append("fQogICAgICBjb25uZWN0aW9uLkluaXRDb21wbGV0ZUFjY291bnQocmVxLmVtYWlsLCBmYWxzZSwgcmVx");
    sb.append("LmNvZGUsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoaW5pdCkgewogICAgICAgICAgdmFyIGlk");
    sb.append("ZW50aXR5ID0gaW5pdC5pZGVudGl0eTsKICAgICAgICAgIGNvbm5lY3Rpb24uQWNjb3VudFNldFBhc3N3");
    sb.append("b3JkKGluaXQuaWRlbnRpdHksIHJlcS5wYXNzd29yZCwgewogICAgICAgICAgICBzdWNjZXNzOiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5X2RlZmF1");
    sb.append("bHQiLCBpZGVudGl0eSk7CiAgICAgICAgICAgICAgc2VsZi5nb3RvKGZvcndhcmRUbywgZmFsc2UpOwog");
    sb.append("ICAgICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCAiRmFpbGVkIEFjY291bnRTZXRQYXNzd29yZDoiICsgcmVhc29uKTsKICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAg");
    sb.append("ICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBJbml0Q29tcGxldGVBY2NvdW50OiIgKyBy");
    sb.append("ZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCB0cnVlKTsKICB9OwoKCiAgdmFyIGh5ZHJh");
    sb.append("dGVfZm9ybSA9IGZ1bmN0aW9uKGVsLCBpbnB1dCkgewogICAgdmFyIHRhZyA9IGVsLnRhZ05hbWUudG9V");
    sb.append("cHBlckNhc2UoKTsKICAgIHZhciBpc1NldHRhYmxlID0gdGFnID09ICJTRUxFQ1QiIHx8IHRhZyA9PSAi");
    sb.append("SU5QVVQiIHx8IHRhZyA9PSAiSElEREVOIjsKICAgIGlmICgnbmFtZScgaW4gZWwgJiYgaXNTZXR0YWJs");
    sb.append("ZSkgewogICAgICB2YXIgbmFtZSA9IGVsLm5hbWU7CiAgICAgIHZhciBwYXlsb2FkID0gaW5wdXQ7CiAg");
    sb.append("ICAgIHZhciBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5k");
    sb.append("ZXhPZignLycpKTsKICAgICAgd2hpbGUgKGtEb3RPclNsYXNoID4gMCkgewogICAgICAgIHZhciBpdGVt");
    sb.append("ID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9yU2xhc2gpOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0");
    sb.append("cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGlmIChpdGVtIGluIHBheWxvYWQpIHsKICAgICAg");
    sb.append("ICAgIHBheWxvYWQgPSBwYXlsb2FkW2l0ZW1dOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1");
    sb.append("cm47CiAgICAgICAgfQogICAgICAgIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2Yo");
    sb.append("Jy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB9CiAgICAgIGlmIChuYW1lIGluIHBheWxvYWQp");
    sb.append("IHsKICAgICAgICB2YXIgdHlwZSA9IGVsLnR5cGUudG9VcHBlckNhc2UoKTsKICAgICAgICBpZiAodHlw");
    sb.append("ZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgICBlbC5jaGVja2VkID0gcGF5bG9hZFtuYW1lXSA9PSAi");
    sb.append("dHJ1ZSIgfHwgcGF5bG9hZFtuYW1lXSA9PT0gdHJ1ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9IGVs");
    sb.append("c2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICAgICAgaWYgKHBheWxvYWRbbmFtZV0gPT0gZWwu");
    sb.append("dmFsdWUpIHsKICAgICAgICAgICAgZWwuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAg");
    sb.append("fSBlbHNlIHsKICAgICAgICAgIGVsLnZhbHVlID0gcGF5bG9hZFtuYW1lXTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgIH0KICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgIHZhciBhcnIgPSBlbC5jaGls");
    sb.append("ZHJlbjsKICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgIGh5ZHJhdGVfZm9y");
    sb.append("bShjaCwgaW5wdXQpOwogICAgICB9CiAgICB9CiAgfQoKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbjpj");
    sb.append("b3B5LWZvcm06JHRhcmdldC1pZAogIHNlbGYuYUNGID0gZnVuY3Rpb24oZm9ybSwgdGFyZ2V0Rm9ybUlk");
    sb.append("KSB7CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGV2dCkgewogICAg");
    sb.append("ICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGlucHV0ID0gZ2V0X2Zvcm0oZm9ybSwge30p");
    sb.append("OwogICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0Rm9ybUlkKTsK");
    sb.append("ICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIGh5ZHJhdGVfZm9ybSh0YXJnZXQsIGlucHV0KTsKICAg");
    sb.append("ICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSkKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUo");
    sb.append("Zm9ybSwgImZhaWxlZCB0byBmaW5kIGZvcm0gYnkgaWQgJyIgKyB0YXJnZXRGb3JtSWQgKyAiJyIpOwog");
    sb.append("ICAgICB9CiAgICB9LCB0cnVlKTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPXNlbmQ6JGNo");
    sb.append("YW5uZWwKICBzZWxmLmFTRCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgY2hhbm5lbCwgbXNUb0RlYm91");
    sb.append("bmNlKSB7CiAgICAvLyBUT0RPOiBkbyBkZWJvdW5jZSBpZiA+IDAKICAgIGZvcm0uYWRkRXZlbnRMaXN0");
    sb.append("ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsK");
    sb.append("ICAgICAgdmFyIHBhc3N3b3JkcyA9IHt9OwogICAgICB2YXIgbXNnID0gZ2V0X2Zvcm0oZm9ybSwgcGFz");
    sb.append("c3dvcmRzKTsKCiAgICAgIGlmIChldnQuc3VibWl0dGVyKSB7CiAgICAgICAgdmFyIHMgPSBldnQuc3Vi");
    sb.append("bWl0dGVyOwogICAgICAgIGlmIChzLm5hbWUgJiYgcy52YWx1ZSkgewogICAgICAgICAgaWYgKHMudmFs");
    sb.append("dWUgPT0gInRydWUiKSB7IHMudmFsdWUgPSB0cnVlOyB9CiAgICAgICAgICBlbHNlIGlmIChzLnZhbHVl");
    sb.append("ID09ICJmYWxzZSIpIHsgcy52YWx1ZSA9IGZhbHNlOyB9CiAgICAgICAgICBtc2dbcy5uYW1lXSA9IHMu");
    sb.append("dmFsdWU7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgYWZ0ZXIgPSBmdW5jdGlvbigpIHsKICAg");
    sb.append("ICAgICB2YXIgY2hhbm5lbFRvVXNlID0gY2hhbm5lbDsKICAgICAgICBpZiAoY2hhbm5lbCA9PSAiX19k");
    sb.append("cyIpIHsKICAgICAgICAgIGNoYW5uZWxUb1VzZSA9IG1zZ1snX19jaGFubmVsJ107CiAgICAgICAgICBk");
    sb.append("ZWxldGUgbXNnWydfX2NoYW5uZWwnXTsKICAgICAgICB9CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0");
    sb.append("aW9uLnB0ci5zZW5kKGNoYW5uZWxUb1VzZSwgbXNnLCB7CiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlv");
    sb.append("biAoLyogcGF5bG9hZCAqLykgewogICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAg");
    sb.append("ICB9LAogICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICBmaXJl");
    sb.append("X2ZhaWx1cmUoZm9ybSwgIlNlbmQgZmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgICAgfQogICAgICAg");
    sb.append("IH0pOwogICAgICB9OwoKICAgICAgdmFyIHBvc3RQYXNzd29yZCA9IGZ1bmN0aW9uKCkgewogICAgICAg");
    sb.append("IGlmICgnbmV3X3Bhc3N3b3JkJyBpbiBwYXNzd29yZHMpIHsKICAgICAgICAgIGlmICghKCdjb25maXJt");
    sb.append("LW5ld19wYXNzd29yZCcgaW4gcGFzc3dvcmRzKSB8fCBwYXNzd29yZHNbJ25ld19wYXNzd29yZCddID09");
    sb.append("IHBhc3N3b3Jkc1snY29uZmlybS1uZXdfcGFzc3dvcmQnXSkgewogICAgICAgICAgICBjb25uZWN0aW9u");
    sb.append("LkRvY3VtZW50c0hhc2hQYXNzd29yZChwYXNzd29yZHNbJ25ld19wYXNzd29yZCddLCB7CiAgICAgICAg");
    sb.append("ICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICAgICAgbXNnWydu");
    sb.append("ZXdfcGFzc3dvcmQnXSA9IGhhc2hlZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgICAgICBhZnRl");
    sb.append("cigpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZmFpbGVkOiBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCB0byBoYXNoIHBhc3N3b3JkIik7");
    sb.append("CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("ICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIlBhc3N3b3JkcyBtaXNtYXRjaCBmb3IgbmV3IHBhc3N3b3Jk");
    sb.append("LiIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhZnRlcigpOwogICAgICAg");
    sb.append("IH0KICAgICAgfQoKICAgICAgaWYgKCdwYXNzd29yZCcgaW4gcGFzc3dvcmRzKSB7CiAgICAgICAgaWYg");
    sb.append("KCEoJ2NvbmZpcm0tcGFzc3dvcmQnIGluIHBhc3N3b3JkcykgfHwgcGFzc3dvcmRzWydwYXNzd29yZCdd");
    sb.append("ID09IHBhc3N3b3Jkc1snY29uZmlybS1wYXNzd29yZCddKSB7CiAgICAgICAgICBjb25uZWN0aW9uLkRv");
    sb.append("Y3VtZW50c0hhc2hQYXNzd29yZChwYXNzd29yZHNbJ3Bhc3N3b3JkJ10sIHsKICAgICAgICAgICAgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICAgIG1zZ1sncGFzc3dvcmQnXSA9");
    sb.append("IGhhc2hlZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgICAgcG9zdFBhc3N3b3JkKCk7CiAgICAg");
    sb.append("ICAgICAgIH0sCiAgICAgICAgICAgIGZhaWxlZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dvcmQiKTsKICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAi");
    sb.append("UGFzc3dvcmRzIG1pc21hdGNoIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBvc3RQ");
    sb.append("YXNzd29yZCgpOwogICAgICB9CiAgICB9LCB0cnVlKTsKICB9OwogIC8vIDx0b2RvdGFzaz5kZXNjcmlw");
    sb.append("dGlvbjwvdG9kb3Rhc2s+CiAgc2VsZi5UQVNLID0gZnVuY3Rpb24ocGRvbSwgaWQsIHNlY3Rpb24sIGRl");
    sb.append("c2NyaXB0aW9uKSB7CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgZWxlbWVudC5pbm5lckhUTUwgPSAiJiM5NzQ0OyAiICsgZGVzY3JpcHRpb24gKyAiICggIiAr");
    sb.append("IHNlY3Rpb24gKyAiKSA8YnIgLz4iOwogICAgcGRvbS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICB9Owog");
    sb.append("IC8vIFJVTlRJTUU6IHByZS1jb21wcmVzc2lvbiBmb3Igc2V0dGluZyBhbiBhdHRyaWJ1dGUKICAvLyAi");
    sb.append("ZC5zZXRBdHRyaWJ1dGUoYSx2KTsiIC0tPgogIC8vICQuU0EoZCxhLHYpOyIKICBzZWxmLlNBID0gZnVu");
    sb.append("Y3Rpb24oZG9tLCBhdHRyLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7");
    sb.append("CiAgfTsKICBzZWxmLlNJSCA9IGZ1bmN0aW9uKGRvbSwgaHRtbCkgewogICAgZG9tLmlubmVySFRNTCA9");
    sb.append("IGh0bWw7CiAgfTsKICAvLyBSVU5USU1FOiBzZXQgdGhlIGxhYmVsIG9mIGFuIG9wdGlvbgogIHNlbGYu");
    sb.append("U0wgPSBmdW5jdGlvbihkb20sIHZhbHVlKSB7CiAgICBkb20ubGFiZWwgPSB2YWx1ZTsKICAgIGRvbS5p");
    sb.append("bm5lclRleHQgPSB2YWx1ZTsKICB9OwoKICAvLyBmb3Igc2VsZWN0cwogIC8vIGQudmFsdWU9JHZhbHVl");
    sb.append("OwogIC8vICQuU1YoZCwkdmFsdWUpOwogIHNlbGYuU1YgPSBmdW5jdGlvbihkb20sIHZhbHVlKSB7CiAg");
    sb.append("ICB2YXIgcHJpb3IgPSBkb20udmFsdWU7CiAgICBkb20udmFsdWUgPSB2YWx1ZTsKICAgIGRvbS5yeHZh");
    sb.append("bHVlID0gdmFsdWU7CiAgICBpZiAocHJpb3IgIT0gdmFsdWUpIHsKICAgICAgZG9tLmRpc3BhdGNoRXZl");
    sb.append("bnQobmV3IEV2ZW50KCJmb3JjZWQiKSk7CiAgICB9CiAgfTsKICBzZWxmLkZWID0gZnVuY3Rpb24oZG9t");
    sb.append("LCBmaWVsZCwgdmFsdWUpIHsKICAgIHZhciBwcmlvciA9IGRvbVtmaWVsZF07CiAgICBkb21bZmllbGRd");
    sb.append("ID0gdmFsdWU7CiAgICBpZiAocHJpb3IgIT0gdmFsdWUpIHsKICAgICAgZG9tLmRpc3BhdGNoRXZlbnQo");
    sb.append("bmV3IEV2ZW50KCJmb3JjZWQiKSk7CiAgICB9CiAgfTsKICBzZWxmLm1lcmdlR290byA9IGZ1bmN0aW9u");
    sb.append("KGhyZWYsIHN0YXRlKSB7CiAgICB2YXIgcGFydHMgPSAoaHJlZi5zdGFydHNXaXRoKCIvIikgPyBocmVm");
    sb.append("LnN1YnN0cmluZygxKSA6IGhyZWYpLnNwbGl0KCIvIik7CiAgICB2YXIgbWVyZ2VJbml0ID0ge307CiAg");
    sb.append("ICBpZiAocm91dGUocGFydHMsIDAsIHJvdXRlciwgbWVyZ2VJbml0KSkgewogICAgICBzdGF0ZS52aWV3");
    sb.append("LnRyZWUudXBkYXRlKG1lcmdlSW5pdCk7CiAgICB9CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBocmVm");
    sb.append("PSIiIC4uLj4KICBzZWxmLkhSRUYgPSBmdW5jdGlvbiAoZG9tLCBzdGF0ZSwgaHJlZiwgbWVyZ2UpIHsK");
    sb.append("ICAgIGRvbS5zZXRBdHRyaWJ1dGUoImhyZWYiLCBmaXhIcmVmKGhyZWYpKTsKICAgIGRvbS5vbmNsaWNr");
    sb.append("ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICB2YXIgdHJpbUhyZWYgPSBocmVmOwogICAgICBpZiAodHJp");
    sb.append("bUhyZWYuc3RhcnRzV2l0aCgiLyIpKSB7CiAgICAgICAgdHJpbUhyZWYgPSB0cmltSHJlZi5zdWJzdHJp");
    sb.append("bmcoMSk7CiAgICAgIH0KICAgICAgdmFyIGtRID0gdHJpbUhyZWYuaW5kZXhPZignPycpOwogICAgICBp");
    sb.append("ZiAoa1EgPiAwKSB7CiAgICAgICAgdHJpbUhyZWYgPSB0cmltSHJlZi5zdWJzdHJpbmcoMCwga1EpOwog");
    sb.append("ICAgICB9CiAgICAgIHZhciBwYXJ0cyA9IHRyaW1IcmVmLnNwbGl0KCIvIik7CiAgICAgIHZhciBtZXJn");
    sb.append("ZUluaXQgPSB7fTsKICAgICAgaWYgKHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIG1lcmdlSW5pdCkpIHsK");
    sb.append("ICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBpZiAobWVyZ2UpIHsKICAgICAgICAg");
    sb.append("IHN0YXRlLnZpZXcudHJlZS51cGRhdGUobWVyZ2VJbml0KTsKICAgICAgICAgIHdpbmRvdy5oaXN0b3J5");
    sb.append("LnB1c2hTdGF0ZSh7bWVyZ2U6dHJ1ZX0sICIiLCBmaXhIcmVmKGhyZWYpKTsKICAgICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgICAgc2VsZi5nb3RvKGhyZWYsIHRydWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4g");
    sb.append("ZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogIH07CiAgLy8gUlVOVElNRSB8");
    sb.append("IDwuLi4gY2xhc3M9IiIgLi4uPgogIHNlbGYuQUMgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAg");
    sb.append("ZG9tLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB2YWx1ZSk7CiAgfTsKICBzZWxmLkFDTEFTUyA9IGZ1bmN0");
    sb.append("aW9uIChkb20sIHZhbHVlKSB7IC8vIHRvIGRlcHJlY2F0ZSBpbiB0aGUgZnV0dXJlCiAgICBkb20uc2V0");
    sb.append("QXR0cmlidXRlKCJjbGFzcyIsIHZhbHVlKTsKICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIHNyYz0iIiAu");
    sb.append("Li4+CiAgc2VsZi5BU1JDID0gZnVuY3Rpb24gKGRvbSwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1");
    sb.append("dGUoInNyYyIsIHZhbHVlKTsKICB9OwoKICBzZWxmLmZpbmRFbGVtZW50QnlJZEluVW5ib3VuZERvbSA9");
    sb.append("IGZ1bmN0aW9uKGRvbSwgaWQpIHsKICAgIHZhciBmZWJpZCA9IGZ1bmN0aW9uIChkLCBpZCkgewogICAg");
    sb.append("ICBpZiAoJ2lkJyBpbiBkKSB7CiAgICAgICAgaWYgKGQuaWQgPT0gaWQpIHsKICAgICAgICAgIHJldHVy");
    sb.append("biBkOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoJ2NoaWxkcmVuJyBpbiBkKSB7CiAgICAgICAg");
    sb.append("dmFyIGFyciA9IGQuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZmViaWQoYXJy");
    sb.append("W2tdLCBpZCk7CiAgICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVy");
    sb.append("biByZXN1bHQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwog");
    sb.append("ICAgfTsKICAgIHJldHVybiBmZWJpZChkb20sIGlkKTsKICB9OwogIHNlbGYucG9sbEVsZW1lbnQgPSBm");
    sb.append("dW5jdGlvbihkb20sIHRpbWVvdXQsIHN1Y2Nlc3MsIGZhaWx1cmUpIHsKICAgIHZhciBhZG0gPSBmdW5j");
    sb.append("dGlvbiAoZG9tLCByZW1haW4pIHsKICAgICAgaWYgKHJlbWFpbiA8IDApIHsKICAgICAgICBmYWlsdXJl");
    sb.append("KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5z");
    sb.append("KGRvbSkpIHsKICAgICAgICBzdWNjZXNzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LnNl");
    sb.append("dFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgYWRtKGRvbSwgcmVtYWluIC0gMjUpOwogICAg");
    sb.append("ICAgIH0sIDI1KTsKICAgICAgfQogICAgfTsKICAgIGFkbShkb20sIHRpbWVvdXQpOwogIH07CiAgdmFy");
    sb.append("IGxpYnNMb2FkZWQgPSB7fTsKICBzZWxmLmxvYWRMaWJyYXJ5ID0gZnVuY3Rpb24obGliLCBjYWxsYmFj");
    sb.append("aykgewogICAgaWYgKGxpYiBpbiBsaWJzTG9hZGVkKSB7CiAgICAgIGNhbGxiYWNrKGxpYnNMb2FkZWRb");
    sb.append("bGliXSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxpYnNMb2FkZWRbbGliXSA9IGZhbHNlOwogICAg");
    sb.append("dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgc2NyaXB0LnNl");
    sb.append("dEF0dHJpYnV0ZSgnc3JjJyxsaWIpOwogICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAg");
    sb.append("ICBsaWJzTG9hZGVkW2xpYl0gPSB0cnVlOwogICAgICBjYWxsYmFjayh0cnVlKTsKICAgIH07CiAgICBz");
    sb.append("Y3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICB9Owog");
    sb.append("ICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogIH07CiAgd2luZG93LnJ4aHRtbCA9");
    sb.append("IHNlbGY7CiAgcmV0dXJuIHNlbGY7Cn0pKCk7Cg==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBpcyB0aGUgY29ubmVjdGlvbiBkZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRo");
    sb.append("ZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1lIGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhp");
    sb.append("cy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAwOwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBv");
    sb.append("dXQgZnJvbSB0aGUgc2VydmVyLCBob3cgbG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAg");
    sb.append("dGhpcy5yZXNldF9iYWNrb2ZmID0gMTAwMDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0");
    sb.append("aGlzLnNvY2tldCA9IG51bGw7CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5n");
    sb.append("ZXMKICAgIHRoaXMub25zdGF0dXNjaGFuZ2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3");
    sb.append("aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFybiB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5j");
    sb.append("dGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkgeyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAg");
    sb.append("IHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNh");
    sb.append("bGxiYWNrcyA9IG5ldyBNYXAoKTsKICAgIC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0g");
    sb.append("MDsKICAgIC8vIGV2ZW50cyB0byBleGVjdXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVj");
    sb.append("dCA9IG5ldyBNYXAoKTsKICAgIC8vIHByb3RvY29sIGZvciBtZXRyaWNzCiAgICB0aGlzLnByb3RvY29s");
    sb.append("ID0gbG9jYXRpb24ucHJvdG9jb2w7CiAgfQoKICAvKiogc3RvcCB0aGUgY29ubmVjdGlvbiAqLwogIHN0");
    sb.append("b3AoKSB7CiAgICB0aGlzLmRlYWQgPSB0cnVlOwogICAgaWYgKHRoaXMuc29ja2V0ICE9PSBudWxsKSB7");
    sb.append("CiAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7CiAgICB9CiAgfQoKICBidW1wKGJtKSB7CiAgICB0cnkg");
    sb.append("ewogICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGh0dHAub3Blbigi");
    sb.append("UFVUIiwgdGhpcy5wcm90b2NvbCArICIvLyIgKyB0aGlzLmhvc3QgKyAiL35ibS8iICsgYm0sIHRydWUp");
    sb.append("OwogICAgICB4aHR0cC5zZW5kKCk7CiAgICB9IGNhdGNoIChleCkgewogICAgICAvLyBkb24ndCBjYXJl");
    sb.append("CiAgICB9CiAgfQoKICBsb2cobmFtZSwgYm9keSkgewogICAgdHJ5IHsKICAgICAgdmFyIHhodHRwID0g");
    sb.append("bmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHhodHRwLm9wZW4oIlBVVCIsIHRoaXMucHJvdG9jb2wg");
    sb.append("KyAiLy8iICsgdGhpcy5ob3N0ICsgIi9+bGcvIiArIG5hbWUsIHRydWUpOwogICAgICB4aHR0cC5zZW5k");
    sb.append("KGJvZHkpOwogICAgfSBjYXRjaCAoZXgpIHsKICAgICAgLy8gZG9uJ3QgY2FyZQogICAgfQogIH0KCiAg");
    sb.append("LyoqIHByaXZhdGU6IHJldHJ5IHRoZSBjb25uZWN0aW9uICovCiAgX3JldHJ5KCkgewogICAgLy8gbnVs");
    sb.append("bCBvdXQgdGhlIHNvY2tldAogICAgdGhpcy5zb2NrZXQgPSBudWxsOwogICAgLy8gaWYgd2UgYXJlIGNv");
    sb.append("bm5lY3RlZCwgdHJhbnNpdGlvbiB0aGUgc3RhdHVzCiAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHsKICAg");
    sb.append("ICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5vbnN0YXR1c2NoYW5nZShmYWxzZSk7");
    sb.append("CiAgICAgIHRoaXMuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNiLCBpZCkgewogICAgICAgIGNi");
    sb.append("KHtmYWlsdXJlOjk5OX0pOwogICAgICB9KTsKICAgIH0KICAgIHRoaXMuY2FsbGJhY2tzLmNsZWFyKCk7");
    sb.append("CiAgICAvLyBpZiB3ZSBhcmUgZGVhZCwgdGhlbiBkb24ndCBhY3R1YWxseSByZXRyeQogICAgaWYgKHRo");
    sb.append("aXMuZGVhZCkgewogICAgICByZXR1cm47CiAgICB9CiAgICAvLyBtYWtlIHN1cmUKICAgIGlmICghdGhp");
    sb.append("cy5zY2hlZHVsZWQpIHsKICAgICAgLy8gc2NoZWR1bGUgYSByZXRyeTsgZmlyc3QgY29tcHV0ZSBob3cg");
    sb.append("bG9uZyB0byB0YWtlCiAgICAgIC8vIGNvbXB1dGUgaG93IGxvbmcgd2UgbmVlZCB0byB3YWl0CiAgICAg");
    sb.append("IHZhciBoYWx2ZUFmdGVyU2NoZWR1bGUgPSBmYWxzZTsKICAgICAgdGhpcy5iYWNrb2ZmICs9IE1hdGgu");
    sb.append("cmFuZG9tKCkgKiB0aGlzLmJhY2tvZmY7CiAgICAgIGlmICh0aGlzLmJhY2tvZmYgPiB0aGlzLm1heGlt");
    sb.append("dW1fYmFja29mZikgewogICAgICAgIHRoaXMuYmFja29mZiA9IHRoaXMubWF4aW11bV9iYWNrb2ZmOwog");
    sb.append("ICAgICAgIGhhbHZlQWZ0ZXJTY2hlZHVsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIC8vIHNjaGVkdWxl");
    sb.append("IGl0CiAgICAgIHRoaXMuc2NoZWR1bGVkID0gdHJ1ZTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("ICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLnN0YXJ0KCk7CiAgICAgIH0sIHRo");
    sb.append("aXMuYmFja29mZik7CgogICAgICAvLyB3ZSBqdXN0IHNjaGVkdWxlZCBpdCBmb3IgdGhlIG1heGltdW0g");
    sb.append("YmFja29mZiB0aW1lLCBsZXQncyByZWR1Y2UgdGhlIGJhY2tvZmYgc28gdGhlIG5leHQgb25lIHdpbGwg");
    sb.append("aGF2ZSBzb21lIGppdHRlcgogICAgICBpZiAoaGFsdmVBZnRlclNjaGVkdWxlKSB7CiAgICAgICAgdGhp");
    sb.append("cy5iYWNrb2ZmIC89IDIuMDsKICAgICAgfQogICAgfQogIH0KCiAgLyoqIHN0YXJ0IHRoZSBjb25uZWN0");
    sb.append("aW9uICovCiAgc3RhcnQoKSB7CiAgICAvLyByZXNldCB0aGUgc3RhdGUKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7CiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIHRo");
    sb.append("aXMuaGFzX2hhZF9waW5nID0gZmFsc2U7CiAgICB0aGlzLmxhc3RfcGluZyA9IDA7CiAgICB0aGlzLnBp");
    sb.append("bmdfZmFpbHVyZXMgPSAwOwogICAgLy8gY3JlYXRlIHRoZSBzb2NrZXQgYW5kIGJpbmQgZXZlbnQgaGFu");
    sb.append("ZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLnVybCk7CiAgICB0aGlzLnNv");
    sb.append("Y2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIHJlc3VsdCA9IEpTT04u");
    sb.append("cGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBhcnJpdmVkLCBpcyBpdCBhIGNvbm5l");
    sb.append("Y3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0KSB7CiAgICAgICAgc2VsZi5vbnBp");
    sb.append("bmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAgICByZXN1bHQucG9uZyA9IG5ldyBE");
    sb.append("YXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYuc29ja2V0LnNlbmQoSlNPTi5zdHJp");
    sb.append("bmdpZnkocmVzdWx0KSk7CiAgICAgICAgc2VsZi5sYXN0X3BpbmcgPSBuZXcgRGF0ZSgpLmdldFRpbWUo");
    sb.append("KTsKICAgICAgICBzZWxmLmhhc19oYWRfcGluZyA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYub25zdGF0dXNjaGFuZ2UodHJ1ZSk7CiAgICAgICAgc2VsZi5fcmVjb25u");
    sb.append("ZWN0KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQgd2FzIGEgZmFp");
    sb.append("bHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8vIGZpbmQgdGhl");
    sb.append("IGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlmIChzZWxmLmNh");
    sb.append("bGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBzZWxmLmNhbGxi");
    sb.append("YWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAgICAgICAgIHNl");
    sb.append("bGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNiKHJlc3VsdCk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBpbiByZXN1bHQp");
    sb.append("IHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQncyBmaW5kIHRo");
    sb.append("ZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2VsZi5jYWxsYmFj");
    sb.append("a3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5jYWxsYmFja3Mu");
    sb.append("Z2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAgICBpZiAocmVz");
    sb.append("dWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVzdWx0LmRlbGl2");
    sb.append("ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldmVu");
    sb.append("dCkgewogICAgICBzZWxmLmJ1bXAoInIiKTsKICAgICAgLy8gbGV0J3MgcmV0cnkuLi4gb3Igc2hvdWxk");
    sb.append("IHdlIG5vdAogICAgICBzZWxmLl9yZXRyeSgpOwogICAgfTsKICAgIHRoaXMuc29ja2V0Lm9uZXJyb3Ig");
    sb.append("PSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgc2VsZi5idW1wKCJyIik7CiAgICAgIC8vIHNvbWV0aGlu");
    sb.append("ZyBiYWQgaGFwcGVuZWQsIGxldCdzIHJldHJ5CiAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICB9OwoKICB9");
    sb.append("CgogIGtlZXBhbGl2ZSgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHdpbmRvdy5zZXRJbnRlcnZh");
    sb.append("bChmdW5jdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoc2VsZi5oYXNfaGFkX3BpbmcgJiYg");
    sb.append("c2VsZi5zb2NrZXQpIHsKICAgICAgICAgIHZhciB0aW1lU2luY2VMYXN0UGluZyA9IG5ldyBEYXRlKCku");
    sb.append("Z2V0VGltZSgpIC0gc2VsZi5sYXN0X3Bpbmc7CiAgICAgICAgICAvLyBUT0RPOiBicm9hZGNhc3QgYSBs");
    sb.append("YXRlbmN5CiAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFBpbmcgPiAyNTAwKSB7CiAgICAgICAgICAg");
    sb.append("IHNlbGYucGluZ19mYWlsdXJlcysrOwogICAgICAgICAgICBpZiAoc2VsZi5waW5nX2ZhaWx1cmVzID49");
    sb.append("IDMpIHsKICAgICAgICAgICAgICBzZWxmLmhhc19oYWRfcGluZyA9IGZhbHNlOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgICAgIHNlbGYuc29j");
    sb.append("a2V0LmNsb3NlKCk7CiAgICAgICAgICAgICAgc2VsZi5zb2NrZXQgPSBudWxsOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICAgICAgICAgICAgc2VsZi5idW1wKCJkIik7CiAgICAgICAgICAgICAg");
    sb.append("Y29uc29sZS5lcnJvcigiaGFkIHRvIGZvcmNlIGEgZGlzY29ubmVjdCIpOwogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBpbmdfZmFpbHVyZXMgPSAwOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7");
    sb.append("CiAgICAgIH0KICAgIH0sIDEyNTApOwogIH0KCiAgLyoqIHByaXZhdGU6IHNlbmQgYSByYXcgbWVzc2Fn");
    sb.append("ZSAqLwogIF93cml0ZShyZXF1ZXN0LCBjYWxsYmFjaykgewogICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkg");
    sb.append("ewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5p");
    sb.append("ZCwgY2FsbGJhY2spOwogICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7");
    sb.append("CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwog");
    sb.append("IGFzeW5jIHdhaXRfY29ubmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJl");
    sb.append("dHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAg");
    sb.append("IH0pOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("aGlzLm9uc3RhdHVzY2hhbmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2Qp");
    sb.append("IHsKICAgICAgICBzZWxmLm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAg");
    sb.append("ICAgcHJpb3Ioc3RhdHVzKTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0");
    sb.append("cnVlKTsKICAgICAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQog");
    sb.append("ICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25y");
    sb.append("ZWNvbm5lY3QuZm9yRWFjaChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAg");
    sb.append("IH0pOwogIH0KCiAgLyoqIGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHNtLmZpcnN0ID0gdHJ1ZTsKICAgIGlmICghc2VsZi5fd3JpdGUoc20ucmVxdWVzdCwgZnVuY3Rpb24g");
    sb.append("KHJlc3BvbnNlKSB7CiAgICAgIGlmIChzbS5maXJzdCkgewogICAgICAgIHNtLmZpcnN0ID0gZmFsc2U7");
    sb.append("CiAgICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgICAgaWYgKCdmYWlsdXJl");
    sb.append("JyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLmZhaWx1cmUocmVzcG9u");
    sb.append("c2UucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCdzdWNj");
    sb.append("ZXNzJyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLnN1Y2Nlc3MocmVz");
    sb.append("cG9uc2UucmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBzZWxmLm9u");
    sb.append("cmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICB9KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNl");
    sb.append("dChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHNtKTsKICAgICAgfTsKICAgICAgcmV0dXJuIHNtOwogICAgfQogICAgcmV0dXJu");
    sb.append("IG51bGw7CiAgfQoKICAvKiogZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICBzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYg");
    sb.append("KCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgIH0KICAgICAgICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcg");
    sb.append("aW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNw");
    sb.append("b25zZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAg");
    sb.append("aWYgKCdjb21wbGV0ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29t");
    sb.append("cGxldGUoKTsKICAgICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwog");
    sb.append("ICAgICB9CiAgICB9KTsKICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5f");
    sb.append("X3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAg");
    sb.append("fTsKICAgIHJldHVybiBzbTsKICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0");
    sb.append("dXJuIHRoaXMubmV4dElkOwogIH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2Nv");
    sb.append("dW50KGVtYWlsLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0");
    sb.append("L3NldHVwLWFjY291bnQiLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJ");
    sb.append("bml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJh");
    sb.append("Y2Nlc3MtdG9rZW4iOiBhY2Nlc3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50");
    sb.append("KGVtYWlsLCByZXZva2UsIGNvZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImluaXQvY29tcGxldGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAi");
    sb.append("cmV2b2tlIjogcmV2b2tlLCAiY29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dv");
    sb.append("cmQoaWRlbnRpdHksIHBhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhY2NvdW50L3NldC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBs");
    sb.append("YW4oaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFj");
    sb.append("Y291bnQvZ2V0LXBheW1lbnQtcGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQog");
    sb.append("ICAgfSk7CiAgfQogIEFjY291bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVy");
    sb.append("LAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1h");
    sb.append("aWwiOiBlbWFpbCwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRp");
    sb.append("dHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgU3RhdHMocmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InN0YXRzIiwgImlkIjpwYXJJZH0K");
    sb.append("ICAgIH0pOwogIH0KICBJZGVudGl0eUhhc2goaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6ImlkZW50aXR5L2hhc2giLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBJZGVudGl0eVN0YXNoKGlkZW50aXR5LCBuYW1lLCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpZGVudGl0eS9zdGFzaCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibmFtZSI6IG5hbWV9CiAgICB9KTsKICB9CiAg");
    sb.append("QXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlkZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3Jl");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRob3JpdHkiOiBhdXRob3JpdHks");
    sb.append("ICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHks");
    sb.append("IGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0");
    sb.append("aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5Ijog");
    sb.append("YXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3ko");
    sb.append("aWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("ImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwogIH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAgfSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXko");
    sb.append("aWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VHZXQoaWRlbnRpdHksIHNwYWNlLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VT");
    sb.append("ZXQoaWRlbnRpdHksIHNwYWNlLCBwbGFuLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJwbGFuIjogcGxhbn0KICAgIH0pOwogIH0KICBTcGFjZVJlZGVwbG95S2ljayhp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("InNwYWNlL3JlZGVwbG95LWtpY2siLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCBy");
    sb.append("eGh0bWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJyeGh0bWwiOiByeGh0bWx9CiAgICB9KTsKICB9CiAgU3BhY2VHZXRSeGh0bWwoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQt");
    sb.append("cnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQog");
    sb.append("ICAgfSk7CiAgfQogIFNwYWNlU2V0UG9saWN5KGlkZW50aXR5LCBzcGFjZSwgYWNjZXNzUG9saWN5LCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcG9saWN5");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAiYWNjZXNz");
    sb.append("LXBvbGljeSI6IGFjY2Vzc1BvbGljeX0KICAgIH0pOwogIH0KICBTcGFjZUdldFBvbGljeShpZGVudGl0");
    sb.append("eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNl");
    sb.append("L2dldC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3Bh");
    sb.append("Y2V9CiAgICB9KTsKICB9CiAgU3BhY2VNZXRyaWNzKGlkZW50aXR5LCBzcGFjZSwgcHJlZml4LCBtZXRy");
    sb.append("aWNRdWVyeSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uv");
    sb.append("bWV0cmljcyIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwg");
    sb.append("InByZWZpeCI6IHByZWZpeCwgIm1ldHJpYy1xdWVyeSI6IG1ldHJpY1F1ZXJ5fQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlRGVsZXRlKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0Um9sZShpZGVudGl0eSwgc3Bh");
    sb.append("Y2UsIGVtYWlsLCByb2xlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9zZXQtcm9sZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImVtYWlsIjogZW1haWwsICJyb2xlIjogcm9sZX0KICAgIH0pOwogIH0KICBTcGFjZUxp");
    sb.append("c3REZXZlbG9wZXJzKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9z");
    sb.append("dHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2xpc3QtZGV2ZWxvcGVycyIsICJpZCI6cGFySWQsICJpZGVu");
    sb.append("dGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVJlZmxlY3Qo");
    sb.append("aWRlbnRpdHksIHNwYWNlLCBrZXksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6InNwYWNlL3JlZmxlY3QiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJrZXkiOiBrZXl9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0KGlkZW50aXR5LCBt");
    sb.append("YXJrZXIsIGxpbWl0LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibWFya2VyIjog");
    sb.append("bWFya2VyLCAibGltaXQiOiBsaW1pdH0KICAgIH0pOwogIH0KICBQdXNoUmVnaXN0ZXIoaWRlbnRpdHks");
    sb.append("IGRvbWFpbiwgc3Vic2NyaXB0aW9uLCBkZXZpY2VJbmZvLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJwdXNoL3JlZ2lzdGVyIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzdWJzY3JpcHRpb24iOiBzdWJzY3JpcHRpb24sICJk");
    sb.append("ZXZpY2UtaW5mbyI6IGRldmljZUluZm99CiAgICB9KTsKICB9CiAgRG9tYWluTWFwKGlkZW50aXR5LCBk");
    sb.append("b21haW4sIHNwYWNlLCBjZXJ0aWZpY2F0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9tYWluL21hcCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("ZG9tYWluIjogZG9tYWluLCAic3BhY2UiOiBzcGFjZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9tYWluQ2xhaW1BcGV4KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVz");
    sb.append("cG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9jbGFpbS1hcGV4IiwgImlkIjpw");
    sb.append("YXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAg");
    sb.append("RG9tYWluUmVkaXJlY3QoaWRlbnRpdHksIGRvbWFpbiwgZGVzdGluYXRpb25Eb21haW4sIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9yZWRpcmVjdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZGVzdGluYXRpb24t");
    sb.append("ZG9tYWluIjogZGVzdGluYXRpb25Eb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluQ29uZmlndXJlKGlk");
    sb.append("ZW50aXR5LCBkb21haW4sIHByb2R1Y3RDb25maWcsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("cnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1");
    sb.append("ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9jb25maWd1cmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBp");
    sb.append("ZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgInByb2R1Y3QtY29uZmlnIjogcHJvZHVjdENvbmZpZ30K");
    sb.append("ICAgIH0pOwogIH0KICBEb21haW5SZWZsZWN0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9yZWZsZWN0IiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWlu");
    sb.append("TWFwRG9jdW1lbnQoaWRlbnRpdHksIGRvbWFpbiwgc3BhY2UsIGtleSwgcm91dGUsIGNlcnRpZmljYXRl");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFwLWRv");
    sb.append("Y3VtZW50IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4s");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAicm91dGUiOiByb3V0ZSwgImNlcnRpZmljYXRlIjog");
    sb.append("Y2VydGlmaWNhdGV9CiAgICB9KTsKICB9CiAgRG9tYWluTGlzdChpZGVudGl0eSwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9saXN0IiwgImlkIjpwYXJJ");
    sb.append("ZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgRG9tYWluTGlzdEJ5U3BhY2UoaWRl");
    sb.append("bnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("IjoiZG9tYWluL2xpc3QtYnktc3BhY2UiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("InNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgRG9tYWluR2V0VmFwaWRQdWJsaWNLZXkoaWRlbnRp");
    sb.append("dHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9t");
    sb.append("YWluL2dldC12YXBpZC1wdWJsaWMta2V5IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluVW5tYXAoaWRlbnRpdHksIGRvbWFp");
    sb.append("biwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAg");
    sb.append("cmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3VubWFw");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9");
    sb.append("KTsKICB9CiAgRG9tYWluR2V0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBp");
    sb.append("ZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0KICBEb2N1bWVudERvd25sb2FkQXJj");
    sb.append("aGl2ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJl");
    sb.append("YW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1");
    sb.append("ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2Rvd25sb2FkLWFyY2hpdmUiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXl9CiAgICB9KTsKICB9CiAg");
    sb.append("RG9jdW1lbnRMaXN0UHVzaFRva2VucyhpZGVudGl0eSwgc3BhY2UsIGtleSwgZG9tYWluLCBhZ2VudCwg");
    sb.append("cmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQo");
    sb.append("KTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2xp");
    sb.append("c3QtcHVzaC10b2tlbnMiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJrZXkiOiBrZXksICJkb21haW4iOiBkb21haW4sICJhZ2VudCI6IGFnZW50fQogICAgfSk7");
    sb.append("CiAgfQogIERvY3VtZW50QXV0aG9yaXphdGlvbihzcGFjZSwga2V5LCBtZXNzYWdlLCByZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9hdXRob3JpemF0aW9uIiwg");
    sb.append("ImlkIjpwYXJJZCwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJtZXNzYWdlIjogbWVzc2FnZX0K");
    sb.append("ICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6YXRpb25Eb21haW4oZG9tYWluLCBtZXNzYWdlLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9hdXRob3Jp");
    sb.append("emF0aW9uLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJtZXNzYWdlIjogbWVz");
    sb.append("c2FnZX0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZShzcGFjZSwga2V5LCB1c2VybmFtZSwg");
    sb.append("cGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3Vt");
    sb.append("ZW50L2F1dGhvcml6ZSIsICJpZCI6cGFySWQsICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAidXNl");
    sb.append("cm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgRG9jdW1l");
    sb.append("bnRBdXRob3JpemVEb21haW4oZG9tYWluLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4iLCAi");
    sb.append("aWQiOnBhcklkLCAiZG9tYWluIjogZG9tYWluLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3Jk");
    sb.append("IjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRBdXRob3JpemVXaXRoUmVzZXQoc3BhY2Us");
    sb.append("IGtleSwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFy");
    sb.append("IHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5f");
    sb.append("X2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAog");
    sb.append("ICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS13aXRoLXJlc2V0IiwgImlk");
    sb.append("IjpwYXJJZCwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAi");
    sb.append("cGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0pOwog");
    sb.append("IH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbldpdGhSZXNldChkb21haW4sIHVzZXJuYW1lLCBwYXNz");
    sb.append("d29yZCwgbmV3X3Bhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJkb2N1bWVudC9hdXRob3JpemUtZG9tYWluLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAiZG9t");
    sb.append("YWluIjogZG9tYWluLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJu");
    sb.append("ZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRDcmVhdGUoaWRl");
    sb.append("bnRpdHksIHNwYWNlLCBrZXksIGVudHJvcHksIGFyZywgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZW50cm9weSI6IGVudHJvcHksICJh");
    sb.append("cmciOiBhcmd9CiAgICB9KTsKICB9CiAgRG9jdW1lbnREZWxldGUoaWRlbnRpdHksIHNwYWNlLCBrZXks");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2RlbGV0");
    sb.append("ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6");
    sb.append("IGtleX0KICAgIH0pOwogIH0KICBEb2N1bWVudExpc3QoaWRlbnRpdHksIHNwYWNlLCBtYXJrZXIsIGxp");
    sb.append("bWl0LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1l");
    sb.append("bnQvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwg");
    sb.append("Im1hcmtlciI6IG1hcmtlciwgImxpbWl0IjogbGltaXR9CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVj");
    sb.append("dFNlbmQoaWRlbnRpdHksIHNwYWNlLCBrZXksIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJjaGFu");
    sb.append("bmVsIjogY2hhbm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIE1lc3NhZ2VEaXJl");
    sb.append("Y3RTZW5kT25jZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZGVkdXBlLCBjaGFubmVsLCBtZXNzYWdlLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJtZXNzYWdlL2RpcmVjdC1z");
    sb.append("ZW5kLW9uY2UiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJrZXkiOiBrZXksICJkZWR1cGUiOiBkZWR1cGUsICJjaGFubmVsIjogY2hhbm5lbCwgIm1lc3NhZ2Ui");
    sb.append("OiBtZXNzYWdlfQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHNwYWNlLCBr");
    sb.append("ZXksIHZpZXdlclN0YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiY29ubmVjdGlvbi9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("InNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0sCiAg");
    sb.append("ICAgIHNlbmQ6IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9u");
    sb.append("IjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7");
    sb.append("CiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19w");
    sb.append("YXNzd29yZCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVz");
    sb.append("cG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rp");
    sb.append("b24vcGFzc3dvcmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVzZXJuYW1lIjogdXNl");
    sb.append("cm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3X3Bhc3N3b3JkfQog");
    sb.append("ICAgICAgIH0pOwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hhbm5lbCwgZGVkdXBl");
    sb.append("LCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICBy");
    sb.append("ZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVj");
    sb.append("dGlvbi9zZW5kLW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBj");
    sb.append("aGFubmVsLCAiZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFy");
    sb.append("IHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAg");
    sb.append("aWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1");
    sb.append("ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1bmN0aW9uKGFzc2V0");
    sb.append("SWQsIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdlc3RTaGEzODQsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2F0dGFjaCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3NldElkLCAiZmlsZW5h");
    sb.append("bWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6ZSI6IHNpemUsICJk");
    sb.append("aWdlc3QtbWQ1IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNoYTM4NH0KICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0ZSwgc3ViUmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25k");
    sb.append("ZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBkYXRlIiwgaWQ6IHN1");
    sb.append("YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0KICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpw");
    sb.append("YXJJZH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGVWaWFE");
    sb.append("b21haW4oaWRlbnRpdHksIGRvbWFpbiwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZS12aWEtZG9tYWluIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJ2aWV3ZXItc3Rh");
    sb.append("dGUiOiB2aWV3ZXJTdGF0ZX0sCiAgICAgIHNlbmQ6IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBp");
    sb.append("ZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6");
    sb.append("IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2Vy");
    sb.append("bmFtZSwgcGFzc3dvcmQsIG5ld19wYXNzd29yZCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1");
    sb.append("YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6");
    sb.append("IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0");
    sb.append("OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vcGFzc3dvcmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpw");
    sb.append("YXJJZCwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3");
    sb.append("b3JkIjogbmV3X3Bhc3N3b3JkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVu");
    sb.append("Y3Rpb24oY2hhbm5lbCwgZGVkdXBlLCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIg");
    sb.append("c3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBp");
    sb.append("ZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVl");
    sb.append("c3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9zZW5kLW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9u");
    sb.append("IjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAiZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1l");
    sb.append("c3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVz");
    sb.append("cG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNw");
    sb.append("b25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBh");
    sb.append("dHRhY2g6IGZ1bmN0aW9uKGFzc2V0SWQsIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0");
    sb.append("TWQ1LCBkaWdlc3RTaGEzODQsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAg");
    sb.append("ICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6");
    sb.append("ICJjb25uZWN0aW9uL2F0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQt");
    sb.append("aWQiOiBhc3NldElkLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRU");
    sb.append("eXBlLCAic2l6ZSI6IHNpemUsICJkaWdlc3QtbWQ1IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6");
    sb.append("IGRpZ2VzdFNoYTM4NH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2");
    sb.append("aWV3ZXJTdGF0ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7");
    sb.append("CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAg");
    sb.append("cmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5l");
    sb.append("Y3Rpb24vdXBkYXRlIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUi");
    sb.append("OiB2aWV3ZXJTdGF0ZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJS");
    sb.append("ZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJl");
    sb.append("c3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDog");
    sb.append("c3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQog");
    sb.append("IERvY3VtZW50c0hhc2hQYXNzd29yZChwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnRzL2hhc2gtcGFzc3dvcmQiLCAiaWQiOnBhcklkLCAicGFz");
    sb.append("c3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBCaWxsaW5nQ29ubmVjdGlvbkNyZWF0ZShpZGVu");
    sb.append("dGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImJpbGxp");
    sb.append("bmctY29ubmVjdGlvbi9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0sCiAg");
    sb.append("ICAgIHNlbmQ6IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9u");
    sb.append("IjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7");
    sb.append("CiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19w");
    sb.append("YXNzd29yZCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVz");
    sb.append("cG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rp");
    sb.append("b24vcGFzc3dvcmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVzZXJuYW1lIjogdXNl");
    sb.append("cm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3X3Bhc3N3b3JkfQog");
    sb.append("ICAgICAgIH0pOwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hhbm5lbCwgZGVkdXBl");
    sb.append("LCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICBy");
    sb.append("ZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVj");
    sb.append("dGlvbi9zZW5kLW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBj");
    sb.append("aGFubmVsLCAiZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFy");
    sb.append("IHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAg");
    sb.append("aWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1");
    sb.append("ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1bmN0aW9uKGFzc2V0");
    sb.append("SWQsIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdlc3RTaGEzODQsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2F0dGFjaCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3NldElkLCAiZmlsZW5h");
    sb.append("bWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6ZSI6IHNpemUsICJk");
    sb.append("aWdlc3QtbWQ1IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNoYTM4NH0KICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0ZSwgc3ViUmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25k");
    sb.append("ZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBkYXRlIiwgaWQ6IHN1");
    sb.append("YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0KICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpw");
    sb.append("YXJJZH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIEF0dGFjaG1lbnRTdGFydChpZGVu");
    sb.append("dGl0eSwgc3BhY2UsIGtleSwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXR0YWNobWVudC9zdGFydCIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImZpbGVuYW1l");
    sb.append("IjogZmlsZW5hbWUsICJjb250ZW50LXR5cGUiOiBjb250ZW50VHlwZX0sCiAgICAgIGFwcGVuZDogZnVu");
    sb.append("Y3Rpb24oY2h1bmtNZDUsIGJhc2U2NEJ5dGVzLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3Vi");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDog");
    sb.append("c3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6");
    sb.append("IHsgbWV0aG9kOiAiYXR0YWNobWVudC9hcHBlbmQiLCBpZDogc3ViSWQsICJ1cGxvYWQiOnBhcklkLCAi");
    sb.append("Y2h1bmstbWQ1IjogY2h1bmtNZDUsICJiYXNlNjQtYnl0ZXMiOiBiYXNlNjRCeXRlc30KICAgICAgICB9");
    sb.append("KTsKICAgICAgfSwKICAgICAgZmluaXNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiYXR0YWNobWVudC9maW5pc2giLCBpZDogc3ViSWQsICJ1cGxvYWQiOnBh");
    sb.append("cklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0QnlEb21h");
    sb.append("aW4oaWRlbnRpdHksIGRvbWFpbiwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXR0YWNobWVudC9zdGFydC1ieS1kb21haW4i");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgImZpbGVu");
    sb.append("YW1lIjogZmlsZW5hbWUsICJjb250ZW50LXR5cGUiOiBjb250ZW50VHlwZX0sCiAgICAgIGFwcGVuZDog");
    sb.append("ZnVuY3Rpb24oY2h1bmtNZDUsIGJhc2U2NEJ5dGVzLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIg");
    sb.append("c3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBp");
    sb.append("ZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVl");
    sb.append("c3Q6IHsgbWV0aG9kOiAiYXR0YWNobWVudC9hcHBlbmQiLCBpZDogc3ViSWQsICJ1cGxvYWQiOnBhcklk");
    sb.append("LCAiY2h1bmstbWQ1IjogY2h1bmtNZDUsICJiYXNlNjQtYnl0ZXMiOiBiYXNlNjRCeXRlc30KICAgICAg");
    sb.append("ICB9KTsKICAgICAgfSwKICAgICAgZmluaXNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAg");
    sb.append("ICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("ICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAg");
    sb.append("IHJlcXVlc3Q6IHsgbWV0aG9kOiAiYXR0YWNobWVudC9maW5pc2giLCBpZDogc3ViSWQsICJ1cGxvYWQi");
    sb.append("OnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKltFTkQtSU5WT0tFXSoq");
    sb.append("Lwp9Cgp2YXIgQWRhbWEgPSB7CiAgUHJvZHVjdGlvbjogImF3cy11cy1lYXN0LTIuYWRhbWEtcGxhdGZv");
    sb.append("cm0uY29tIiwKICBCZXRhOiAiYmV0YS5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIENvbm5lY3Rpb246IFdl");
    sb.append("YlNvY2tldEFkYW1hQ29ubmVjdGlvbgp9Owo=");
    return sb.toString();
  }
  public static final String WORKER = new String(Base64.getDecoder().decode(make_worker()), StandardCharsets.UTF_8);
  private static String make_worker() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyogQWRhbWEgd29ya2VyOiBoYW5kbGUgc2ltcGxlIHB1c2ggbm90aWZpY2F0aW9ucyAqLwoKY29uc29s");
    sb.append("ZS5sb2coImFkYW1hIHdvcmtlciBzdGFydGVkIik7CnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcs");
    sb.append("IGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmRhdGEpIHsKICAgIHZhciBqc29uID0gZXZlbnQu");
    sb.append("ZGF0YS5qc29uKCk7CiAgICBpZiAoanNvbikgewogICAgICBjb25zb2xlLmxvZyhqc29uKTsKICAgICAg");
    sb.append("dmFyIHB1c2hUb2tlbiA9ICJOQSI7CiAgICAgIGlmICgnQHB0JyBpbiBqc29uKSB7CiAgICAgICAgcHVz");
    sb.append("aFRva2VuID0ganNvblsnQHB0J107CiAgICAgIH0KICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAg");
    sb.append("Ym9keToganNvbi5ib2R5ID8ganNvbi5ib2R5IDogIkdlbmVyaWMgUHVzaCBCb2R5IiwKICAgICAgfTsK");
    sb.append("ICAgICAgaWYgKGpzb24uaWNvbikgewogICAgICAgIG9wdGlvbnMuaWNvbiA9IGpzb24uaWNvbjsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgc2hvdyA9IHRydWU7CiAgICAgIGlmIChqc29uLmhpZGUpIHsKICAgICAgICBz");
    sb.append("aG93ID0gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgaWYgKGpzb24udXJs");
    sb.append("KSB7CiAgICAgICAgZGF0YS51cmwgPSBqc29uLnVybDsKICAgICAgfQogICAgICBvcHRpb25zLmRhdGEg");
    sb.append("PSBkYXRhOwogICAgICBpZiAoc2hvdykgewogICAgICAgIGV2ZW50LndhaXRVbnRpbChzZWxmLnJlZ2lz");
    sb.append("dHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKGpzb24udGl0bGUgPyBqc29uLnRpdGxlIDogIkdlbmVyaWMg");
    sb.append("UHVzaCBUaXRsZSIsIG9wdGlvbnMpKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mKGpzb24uYmFkZ2Up");
    sb.append("ID09ICJudW1iZXIiICYmIG5hdmlnYXRvci5zZXRBcHBCYWRnZSkgewogICAgICAgIHRyeSB7CiAgICAg");
    sb.append("ICAgICBldmVudC53YWl0VW50aWwobmF2aWdhdG9yLnNldEFwcEJhZGdlKGpzb24uYmFkZ2UpKTsKICAg");
    sb.append("ICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgZXZlbnQud2FpdFVu");
    sb.append("dGlsKGZldGNoKHNlbGYubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5sb2NhdGlvbi5ob3N0");
    sb.append("ICsgIi9+cHQvIiArIHB1c2hUb2tlbiwgewogICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAg");
    sb.append("IGhlYWRlcnM6IHt9LAogICAgICAgICAgYm9keTogcHVzaFRva2VuCiAgICAgICAgfSkpOwogICAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAvLyBkb24ndCBjYXJl");
    sb.append("CiAgICAgIH0KICAgIH0KICB9Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdub3RpZmljYXRpb25j");
    sb.append("bGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50Lm5vdGlmaWNhdGlvbiAmJiBldmVudC5u");
    sb.append("b3RpZmljYXRpb24uZGF0YSAmJiBldmVudC5ub3RpZmljYXRpb24uZGF0YS51cmwpIHsKICAgIHZhciB1");
    sb.append("cmwgPSBzZWxmLmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHNlbGYubG9jYXRpb24uaG9zdCArIGV2");
    sb.append("ZW50Lm5vdGlmaWNhdGlvbi5kYXRhLnVybDsKICAgIHZhciBob21lID0gc2VsZi5sb2NhdGlvbi5wcm90");
    sb.append("b2NvbCArICIvLyIgKyBzZWxmLmxvY2F0aW9uLmhvc3Q7CiAgICBldmVudC5ub3RpZmljYXRpb24uY2xv");
    sb.append("c2UoKTsgLy8gQW5kcm9pZCBuZWVkcyBleHBsaWNpdCBjbG9zZS4KICAgIGV2ZW50LndhaXRVbnRpbCgK");
    sb.append("ICAgICAgY2xpZW50cy5tYXRjaEFsbCh7dHlwZTogJ3dpbmRvdyd9KS50aGVuKCB3YyA9PiB7CiAgICAg");
    sb.append("ICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHdpbmRvdy90YWIgb3BlbiB3aXRoIHRoZSB0");
    sb.append("YXJnZXQgVVJMCiAgICAgICAgdmFyIGNsaWVudFdpdGhQcmVmaXggPSBudWxsOwogICAgICAgIHZhciBj");
    sb.append("bGllbnRXaXRoSG9tZSA9IG51bGw7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Yy5sZW5ndGg7");
    sb.append("IGkrKykgewogICAgICAgICAgdmFyIGNsaWVudCA9IHdjW2ldOwogICAgICAgICAgY29uc29sZS5sb2co");
    sb.append("ImNsaWVudDoiICsgY2xpZW50LnVybCArICI7IiArIHVybCk7CiAgICAgICAgICBpZiAoY2xpZW50LnVy");
    sb.append("bCA9PT0gdXJsICYmICdmb2N1cycgaW4gY2xpZW50KSB7CiAgICAgICAgICAgIHJldHVybiBjbGllbnQu");
    sb.append("Zm9jdXMoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjbGllbnQudXJsLnN0YXJ0c1dpdGgodXJs");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoUHJlZml4ID0g");
    sb.append("Y2xpZW50OwogICAgICAgICAgfQogICAgICAgICAgaWYgKGNsaWVudC51cmwuc3RhcnRzV2l0aChob21l");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoSG9tZSA9IGNs");
    sb.append("aWVudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNsaWVudFdpdGhQcmVmaXggIT0g");
    sb.append("bnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpwcmVmaXg6IiArIHVybCk7CiAgICAgICAg");
    sb.append("ICByZXR1cm4gY2xpZW50V2l0aFByZWZpeC5uYXZpZ2F0ZSh1cmwpOwogICAgICAgIH0KICAgICAgICBp");
    sb.append("ZiAoY2xpZW50V2l0aEhvbWUgIT0gbnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpob21l");
    sb.append("OiIgKyB1cmwpOwogICAgICAgICAgcmV0dXJuIGNsaWVudFdpdGhIb21lLm5hdmlnYXRlKHVybCk7CiAg");
    sb.append("ICAgICAgfQogICAgICAgIGlmIChjbGllbnRzLm9wZW5XaW5kb3cpIHsKICAgICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJvcGVuOm5ldzoiICsgdXJsKTsKICAgICAgICAgIHJldHVybiBjbGllbnRzLm9wZW5XaW5kb3co");
    sb.append("dXJsKTsKICAgICAgICB9CiAgICAgIH0pCiAgICApOwogIH0KfSk7");
    return sb.toString();
  }
}
