<?xml version="1.0"?>
<cli output-path="./cli/src/main/java/org/adamalang/cli/router" test-output-path="./cli/src/test/java/org/adamalang/cli/router" package="org.adamalang.cli.router" docs="./reference/src/reference/cli.md">
    <!-- define all the arguments -->
    <arg-definition name="space" type="string" short="s">
        <documentation>
            A 'space' is a collection of documents with the same schema and logic, and the 'space' parameter is used to
            denote the name of that collection.
        </documentation>
    </arg-definition>

    <!-- May have to represent the actual representation-->
    <arg-definition name="file" type="file" short="f">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="plan" type="string" short="p">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="gc" type="boolean" short="g">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="limit" type="int" short="l">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="key" type="string" short="k">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="marker" type="string" short="m">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="output" type="file" short="o">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="email" type="string" short="e">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="role" type="string" short="r">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="validate" type="file" short="v">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="authority" type="string" short="a">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="agent" type="string" short="ag">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="root" type="string" short="r">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="keystore" type="file" short="k">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="priv" type="file" short="p">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>

    <arg-definition name="dump-to" type="file" short="d">
        <documentation>
            Placeholder
        </documentation>
    </arg-definition>


    <!-- groups collect commands -->
    <group name="space">
        <documentation>
            Provides command related to working with space collections...
        </documentation>
        <command name="create">
            <arg name="space" />
            <documentation>
                Creates a new space
            </documentation>
        </command>

        <command name="delete">
            <arg name="space" />
            <documentation>
                Deletes an empty space
            </documentation>
        </command>

        <command name="deploy">
            <arg name="space" />
            <arg name="dump-to" default="null" />
            <arg name="plan" />
            <arg name="file" default="null" />
            <documentation>
                Deploy a plan to a space
            </documentation>
        </command>

        <command name="set-rxhtml">
            <arg name="space" />
            <arg name="file" default="null" />
            <documentation>
                Set the frontend RxHTML forest
            </documentation>
        </command>

        <command name="get-rxhtml">
            <arg name="space" />
            <documentation>
                Set the frontend RxHTML forest
            </documentation>
        </command>

        <command name="upload">
            <arg name="space" />
            <arg name="gc" default="no" />
            <arg name="root" default="null" />
            <arg name="file" />
            <documentation>
                Placeholder
            </documentation>
        </command>

        <command name="download">
            <arg name="space" />
            <documentation>
                Download a space's plan
            </documentation>
        </command>

        <command name="list">
            <arg name="marker" default="" />
            <arg name="limit" default="100" />
            <documentation>
                List spaces available to your account
            </documentation>
        </command>

        <command name="usage">
            <arg name="space" />
            <arg name="limit" default="336" />
            <documentation>
                Iterate the billed usage
            </documentation>
        </command>

        <command name="reflect">
            <arg name="space" />
            <arg name="marker" />
            <arg name="output" />
            <arg name="key" />
            <arg name="limit" default="336" />
            <documentation>
                Get a file of the reflection of a space
            </documentation>
        </command>

        <command name="set-role">
            <arg name="space" />
            <arg name="marker" />
            <arg name="email" default="" />
            <arg name="role" default="none" />
            <documentation>
                Share/unshare a space with another developer
            </documentation>
        </command>

        <command name="generate-key">
            <arg name="space" />
            <documentation>
                Generate a server-side key to use for storing secrets
            </documentation>
        </command>

        <command name="encrypt-secret">
            <arg name="space" />
            <documentation>
                Encrypt a secret to store within code
            </documentation>
        </command>
    </group>
    <group name="authority">
        <documentation>
            Manage authorities
        </documentation>
        <command name="create">
            <documentation>
                Creates a new authority
            </documentation>
        </command>

        <command name="set">
            <arg name="authority" />
            <arg name="keystore" />
            <documentation>
                Set public keys to an authority
            </documentation>
        </command>

        <command name="get">
            <arg name="authority" />
            <arg name="keystore" />
            <documentation>
                Get released public keys for an authority
            </documentation>
        </command>

        <command name="destroy">
            <arg name="authority" />
            <documentation>
                Destroy an authority
            </documentation>
        </command>

        <command name="list">
            <documentation>
                List authorities this developer owns
            </documentation>
        </command>

        <command name="create-local">
            <arg name="authority" />
            <arg name="keystore" />
            <arg name="priv" />
            <documentation>
                Make a new set of public keys
            </documentation>
        </command>

        <command name="append-local">
            <arg name="authority" />
            <arg name="keystore" />
            <arg name="priv" />
            <documentation>
                Append a new public key to the public key file
            </documentation>
        </command>

        <command name="sign">
            <arg name="key" />
            <arg name="agent" />
            <arg name="validate" default="null" />
            <documentation>
                Sign an agent with a local private key
            </documentation>
        </command>
    </group>


    <command name="init">
        <documentation>
            Initializes the config with a valid token
        </documentation>
    </command>


</cli>