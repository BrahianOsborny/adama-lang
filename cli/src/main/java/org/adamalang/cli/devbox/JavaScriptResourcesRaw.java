/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cykgewogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7");
    sb.append("IC8vIGZvciBlYWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIj");
    sb.append("IiArIGtleTsgLy8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("cmVlW2tleV07IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIg");
    sb.append("bmV4dCA9IGRlbHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJl");
    sb.append("bnQga2V5CiAgICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgog");
    sb.append("ICAgICAgIC8vIHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBz");
    sb.append("cGVjaWFsIHRoaW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBy");
    sb.append("aW9yKSkgeyAvLyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAg");
    sb.append("ZGVsKHN1YihzLCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFs");
    sb.append("bCB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8v");
    sb.append("IGRlbGV0ZSB0aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBl");
    sb.append("b2YgKG5leHQpID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBk");
    sb.append("ZWx0YSBpcyBhbiBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8");
    sb.append("fCAiQG8iIGluIG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2Ug");
    sb.append("YXJyYXkgbG9naWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJh");
    sb.append("eQogICAgICAgICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0");
    sb.append("cmVlIGhhcyBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJl");
    sb.append("IHRoZSBzZWNyZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7");
    sb.append("fTsKICAgICAgICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBv");
    sb.append("ZiBrZXlzLCB0aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRh");
    sb.append("CiAgICAgICAgICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVt");
    sb.append("IHdpdGggdGhlIGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRy");
    sb.append("ZWVbZUtleV07IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBp");
    sb.append("biBxdWVzdGlvbgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUg");
    sb.append("c3Vic2NyaXB0aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8g");
    sb.append("ZGV0ZWN0aW9uIG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAg");
    sb.append("ICAgICAgICAgIHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91");
    sb.append("dCBfX2tleQogICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBz");
    sb.append("dWNoIHRoYXQgdGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMg");
    sb.append("dG8gd29yawogICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmll");
    sb.append("bGQgd2l0aGluIHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07");
    sb.append("CiAgICAgICAgICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3Jk");
    sb.append("ZXJpbmcgb2YgdGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh2YWwgPT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlm");
    sb.append("IChhS2V5IGluIGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAg");
    sb.append("ICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICAgIGRlbChzdWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZGVsZXRlIGVCYXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVs");
    sb.append("X2tleShlU3ViLCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICAgICAgICAgIGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAg");
    sb.append("ICAgaWYgKCEoYUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJl");
    sb.append("IGFuIGFkZGl0aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBm");
    sb.append("aXJlX2FkZChlU3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBu");
    sb.append("VmFsID0gbmV4dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0");
    sb.append("eXBlb2YgKG5WYWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0");
    sb.append("CiAgICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJl");
    sb.append("IHRoZSBuZXcgaXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZUJhc2VbYUtleV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFL");
    sb.append("ZXk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5j");
    sb.append("dGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIo");
    sb.append("ZVN1YiwgeCksIGV2ZW50cyk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVbal0pIHsKICAgICAgICAgICAgICAgICAgICAg");
    sb.append("IGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZyb20gdGhlIHByZXZpb3VzIGNvcHkK");
    sb.append("ICAgICAgICAgICAgICAgICAgICAgIG1zZy5wdXNoKGJlZm9yZVtqXS5fX2tleSk7IC8vIGFuZCBhbm5v");
    sb.append("dGF0ZSB0aGUga2V5cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2go");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVu");
    sb.append("dHMpOyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAg");
    sb.append("ICAgIH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2Ug");
    sb.append("aWYgKHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5");
    sb.append("cyBpcyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBr");
    sb.append("KyspIHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJh");
    sb.append("c2VbIiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg");
    sb.append("ICBmaXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBh");
    sb.append("Ym91dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtr");
    sb.append("ZXldID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7");
    sb.append("CiAgICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAg");
    sb.append("ZGVsYXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtr");
    sb.append("ZXldLCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5");
    sb.append("XSkgIT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tl");
    sb.append("eV0sIG5leHQsIGUsIGV2ZW50cyk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXldLCBldmVudHMp");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNvIGl0IGlzIGEg");
    sb.append("dmFsdWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcgdmFsdWUKICAg");
    sb.append("ICAgICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxsIGV2ZXJ5b25l");
    sb.append("IGFib3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUsIGV2ZW50cyk7");
    sb.append("CiAgfTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7CiAgICB9CiAg");
    sb.append("fTsKCiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZSA9IGZ1bmN0");
    sb.append("aW9uIChkZWx0YSkgewogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSB0cnVlOwogICAgdmFyIGFy");
    sb.append("ciA9IFtdOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb25zIGludG8gYW4gYXJyYXkKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gYWxsX3N1YnNjcmlwdGlvbnMpIHsKICAgICAgYXJyLnB1c2goYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNba10pOwogICAgfQogICAgdmFyIGV2ZW50cyA9IFtdOwogICAgbWVyZ2Uocm9vdCwgZGVsdGEsIGFy");
    sb.append("ciwgZXZlbnRzKTsgLy8gZXhlY3V0ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICBmaXJlX2V2");
    sb.append("ZW50cyhldmVudHMpOwogICAgd2hpbGUgKHRoaXMuc3Vic2NyaWJlX2RlbGF5Lmxlbmd0aCA+IDApIHsK");
    sb.append("ICAgICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZV9kZWxheTsKICAgICAgdGhpcy5zdWJzY3JpYmVf");
    sb.append("ZGVsYXkgPSBbXTsKICAgICAgdmFyIGZsYXQgPSBbXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBj");
    sb.append("b3B5Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKCFjb3B5W2tdLmFib3J0ZWQpIHsKICAgICAgICAg");
    sb.append("IGZsYXQucHVzaChjb3B5W2tdLnN1Yik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGV2ZW50cyA9IFtd");
    sb.append("OwogICAgICBtZXJnZSh7fSwgbWFrZV9kZWx0YShyb290KSwgZmxhdCwgZXZlbnRzKTsgLy8gZXhlY3V0");
    sb.append("ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB9");
    sb.append("CiAgICB0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlOwogIH07CgogIC8vIGZpeCB0aGUgY2Fs");
    sb.append("bGJhY2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIncyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0");
    sb.append("aGUgZm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlm");
    sb.append("IHRoZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhlbiBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBu");
    sb.append("ZXcgb2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAg");
    sb.append("IH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRo");
    sb.append("ZSBjYWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAgZm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8v");
    sb.append("IGl0ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0");
    sb.append("aGUgZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVyCiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tf");
    sb.append("aW50b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsKICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxv");
    sb.append("dwogICAgICAgICAgaWYgKCEoa2V5IGluIHN1YikpIHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5k");
    sb.append("IG1ha2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tl");
    sb.append("eV0gPSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1Yihj");
    sb.append("YWxsYmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJlY3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0");
    sb.append("aGUgbmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2Yg");
    sb.append("KGNhbGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8vIGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgi");
    sb.append("QGUiIGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJlIHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAg");
    sb.append("ICBzdWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3Qg");
    sb.append("YWRkIGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsK");
    sb.append("CiAgLy8gY29udmVydCB0aGUgdHJlZSB0byBhIGRlbHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBo");
    sb.append("YXZlIGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIgbWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewog");
    sb.append("ICAgdmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsg");
    sb.append("aW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09");
    sb.append("ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQog");
    sb.append("ICAgICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1");
    sb.append("bHQgaXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYgPSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9");
    sb.append("IHt9OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3Jk");
    sb.append("ZXJpbmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFyIG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGog");
    sb.append("PSAwOyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBjb3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJh");
    sb.append("eQogICAgICAgICAgICB2YXIgdmogPSB2W2pdOwogICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2Vf");
    sb.append("ZGVsdGEodmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAg");
    sb.append("ICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAbyJdID0gbzsK");
    sb.append("ICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2U7IHJlY29yZCB0aGUgc2l6ZSBhcyB3ZSByZWN1cnNl");
    sb.append("CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAg");
    sb.append("ZFsiIiArIGpdID0gbWFrZV9kZWx0YShwdltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJd");
    sb.append("ID0gdi5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgfSBlbHNlIGlm");
    sb.append("ICh0eXBlb2YgKHYpID09ICJvYmplY3QiKSB7IC8vIGl0J3MganVzdCBhbiBvYmplY3QsIHNvIHJlY3Vy");
    sb.append("c2UgZGlyZWN0bHkKICAgICAgICBkZWx0YVtrXSA9IG1ha2VfZGVsdGEodik7CiAgICAgIH0gZWxzZSB7");
    sb.append("IC8vIGZpbmFsbHksIGl0IGlzIGEgdmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9");
    sb.append("IHY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkZWx0YTsKICB9OwoKICB0aGlzLnN1YnNjcmliZV9k");
    sb.append("ZWxheSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2ZW4gc3RydWN0dXJhbCBjYWxsYmFjawog");
    sb.append("IHRoaXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgc3ViID0ge307CiAg");
    sb.append("ICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0g");
    sb.append("dGhlIGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAgICB2YXIgUyA9ICIiICsgaWQrKzsgLy8g");
    sb.append("Y3JlYXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAgICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9");
    sb.append("IHN1YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAgIGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9n");
    sb.append("cmVzcykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20uc3ViID0gc3ViOwogICAgICBzbS5hYm9y");
    sb.append("dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2RlbGF5LnB1c2goc20pOwogICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9IHRydWU7CiAgICAgICAgZGVsZXRlIGFs");
    sb.append("bF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIGRlbHRhID0g");
    sb.append("bWFrZV9kZWx0YShyb290KTsKICAgICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVs");
    sb.append("dGEsIFtzdWJdLCBldmVudHMpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFj");
    sb.append("ayBvZiBhbGwgZGF0YSB0byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVj");
    sb.append("dAogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyBy");
    sb.append("ZXR1cm4gYSBtZXRob2QgdG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNbU107CiAgICAgIH07CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIHZhciBwYXJ0cyA9IHdp");
    sb.append("bmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpOwogICAgcm9vdFJlcGxhY2UgPSBbcGFydHNb");
    sb.append("MF0sIHBhcnRzWzFdLCBwYXJ0c1syXSwgIiJdLmpvaW4oIi8iKTsKICAgIHZhciBvZmZzZXQgPSBwYXJ0");
    sb.append("c1swXS5sZW5ndGggKyBwYXJ0c1sxXS5sZW5ndGggKyBwYXJ0c1syXS5sZW5ndGggKyAyOwogICAgZml4");
    sb.append("UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIHJldHVybiBwYXRoLnN1YnN0cmluZyhvZmZzZXQp");
    sb.append("OwogICAgfTsKICB9CgogIHZhciBmaXhIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHsKICAgIGlmICghaHJl");
    sb.append("ZikgewogICAgICByZXR1cm4gIiMiOwogICAgfQogICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgiLyIpKSB7");
    sb.append("CiAgICAgIHJldHVybiByb290UmVwbGFjZSArIGhyZWYuc3Vic3RyaW5nKDEpOwogICAgfQogICAgcmV0");
    sb.append("dXJuIGhyZWY7CiAgfTsKCiAgdmFyIGdldF9jb25uZWN0aW9uX29iaiA9IGZ1bmN0aW9uIChuYW1lKSB7");
    sb.append("CiAgICBpZiAobmFtZSBpbiBjb25uZWN0aW9ucykgewogICAgICByZXR1cm4gY29ubmVjdGlvbnNbbmFt");
    sb.append("ZV07CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAg");
    sb.append("ICAgcHRyOiBudWxsLAogICAgICAgIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgICBvdXRzdGFu");
    sb.append("ZGluZzoge30sCiAgICAgICAgZGVjaXNpb25zOiB7fSwKICAgICAgICBjaG9pY2Vfc3Viczoge30sCiAg");
    sb.append("ICAgICAgcmVzZXRzOiB7fSwKICAgICAgICBjb25uZWN0aW9uX2V2ZW50czoge30sCiAgICAgICAgc3lu");
    sb.append("Y19ldmVudHM6IHt9LAogICAgICAgIGlkOiAwLAogICAgICAgIGNvbm5lY3Rpb25fc3RhdGU6IGZhbHNl");
    sb.append("LAogICAgICAgIGNob2ljZXM6IHt9LAogICAgICAgIGJvdW5kOiAiIiwKICAgICAgICB2aWV3c3RhdGVf");
    sb.append("c2VudDogdHJ1ZSwKICAgICAgICB2aWV3c3RhdGVfY2xvbmU6ICIiLAogICAgICAgIGhhc19maWx0ZXI6");
    sb.append("IGZhbHNlLAogICAgICAgIHN5bmNlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB7fSwKICAgICAgICB2");
    sb.append("c3NlcTogMCwKICAgICAgICBkZWJ1Z2dlcjogZnVuY3Rpb24gKGRlbHRhKSB7IH0sCiAgICAgICAgcmF3");
    sb.append("OiBjb25uZWN0aW9uCiAgICAgIH07CiAgICAgIG9iai5udWtlID0gZnVuY3Rpb24gKCkgewogICAgICAg");
    sb.append("IHRoaXMuY29ubmVjdGlvbl9ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzID0ge307");
    sb.append("CiAgICAgICAgdGhpcy5jaG9pY2Vfc3VicyA9IHt9OwogICAgICB9LmJpbmQob2JqKTsKICAgICAgaWYg");
    sb.append("KEFkYW1hLkRlYnVnZ2VyKSB7CiAgICAgICAgb2JqLmRlYnVnZ2VyID0gQWRhbWEuRGVidWdnZXIucmVn");
    sb.append("aXN0ZXIob2JqKTsKICAgICAgfQogICAgICBvYmouc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2");
    sb.append("YXIgc3luY2VkID0gdGhpcy5jb25uZWN0aW9uX3N0YXRlICYmIHRoaXMudmlld3N0YXRlX3NlbnQ7CiAg");
    sb.append("ICAgICAgaWYgKHRoaXMuc3luY2VkID09IHN5bmNlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAg");
    sb.append("IH0KICAgICAgICB0aGlzLnN5bmNlZCA9IHN5bmNlZDsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAg");
    sb.append("ICAgZm9yICh2YXIgc3ViIGluIG9iai5zeW5jX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLnN5");
    sb.append("bmNfZXZlbnRzW3N1Yl0oc3luY2VkKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAg");
    sb.append("ICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgICAgIGRlbGV0ZSBvYmouc3luY19ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX3N5bmMgPSBmdW5jdGlvbiAoY2FsbGJhY2sp");
    sb.append("IHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5zeW5jX2V2ZW50");
    sb.append("c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuc3luY2VkKTsKICAgICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuc3luY19ldmVudHNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9OwogICAgICBvYmouc2V0X2Nvbm5lY3RlZCA9IGZ1bmN0aW9u");
    sb.append("IChjcykgewogICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPT0gY3MpIHsKICAgICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX3N0YXRlID0gY3M7CiAgICAg");
    sb.append("ICAgdmFyIGF4ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY29ubmVjdGlvbl9ldmVu");
    sb.append("dHMpIHsKICAgICAgICAgIGlmICghKG9iai5jb25uZWN0aW9uX2V2ZW50c1tzdWJdKGNzKSkpIHsKICAg");
    sb.append("ICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2");
    sb.append("YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouY29ubmVj");
    sb.append("dGlvbl9ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAgIH0u");
    sb.append("YmluZChvYmopOwogICAgICBvYmouY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAg");
    sb.append("ICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuY29ubmVjdGlvbl9ldmVudHNb");
    sb.append("c10gPSBjYWxsYmFjazsKICAgICAgICBjYWxsYmFjayh0aGlzLmNvbm5lY3Rpb25fc3RhdGUpOwogICAg");
    sb.append("ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9uX2V2");
    sb.append("ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmou");
    sb.append("c3Vic2NyaWJlX2FueSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiAr");
    sb.append("IHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJl");
    sb.append("dHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZSA9IGZ1");
    sb.append("bmN0aW9uIChjaGFubmVsLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gY2hhbm5lbCArICJ8IiAr");
    sb.append("IHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJl");
    sb.append("dHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9yZXNl");
    sb.append("dCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBkciA9ICJyZXNldHwiICsgdGhpcy5p");
    sb.append("ZCsrOwogICAgICAgIHRoaXMucmVzZXRzW2RyXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5yZXNldHNbZHJdOwogICAgICAgIH0uYmluZCh0");
    sb.append("aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfY2hvaWNlID0gZnVuY3Rp");
    sb.append("b24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsgdGhp");
    sb.append("cy5pZCsrOwogICAgICAgIHRoaXMuY2hvaWNlX3N1YnNbc10gPSBjYWxsYmFjazsKICAgICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlX3N1YnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLm9uY2hvaWNlcyA9IGZ1");
    sb.append("bmN0aW9uIChjaGFubmVsLCBjaG9pY2UpIHsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgc3ViIGluIG9iai5jaG9pY2Vfc3VicykgewogICAgICAgICAgaWYgKHN1Yi5zdGFydHNXaXRo");
    sb.append("KGNoYW5uZWwgKyAifCIpKSB7CiAgICAgICAgICAgIGlmICghb2JqLmNob2ljZV9zdWJzW3N1Yl0oY2hv");
    sb.append("aWNlKSkgewogICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgIH0KICAgICAgICAg");
    sb.append("IH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICAgIGRlbGV0ZSBvYmouY2hvaWNlX3N1YnNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgIH07");
    sb.append("CiAgICAgIG9iai5vbmRlY2lkZSA9IGZ1bmN0aW9uIChvdXRzdGFuZGluZykgewogICAgICAgIHZhciBh");
    sb.append("eGVSZXNldCA9IFtdOwogICAgICAgIGZvciAodmFyIGRyIGluIG9iai5yZXNldHMpIHsKICAgICAgICAg");
    sb.append("IHZhciByID0gb2JqLnJlc2V0c1tkcl07CiAgICAgICAgICBpZiAoIShyKCkpKSB7CiAgICAgICAgICAg");
    sb.append("IGF4ZVJlc2V0LnB1c2goZHIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBr");
    sb.append("ID0gMDsgayA8IGF4ZVJlc2V0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnJlc2V0");
    sb.append("c1theGVSZXNldFtrXV07CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRzdGFu");
    sb.append("ZGluZykgewogICAgICAgICAgb2JqLm91dHN0YW5kaW5nW2NoXSA9IHsgb3B0aW9uczogW10gfTsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgdmFyIG4gPSBvdXRzdGFuZGluZy5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBvID0gb3V0c3RhbmRpbmdba107CiAgICAg");
    sb.append("ICAgICBvYmoub3V0c3RhbmRpbmdbby5jaGFubmVsXSA9IG87CiAgICAgICAgfQogICAgICAgIGZvciAo");
    sb.append("dmFyIGNoIGluIG9iai5vdXRzdGFuZGluZykgewogICAgICAgICAgdmFyIG91dCA9IG9iai5vdXRzdGFu");
    sb.append("ZGluZ1tjaF07CiAgICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgICBmb3IgKHZhciBzdWIgaW4g");
    sb.append("b2JqLmRlY2lzaW9ucykgewogICAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2ggKyAifCIpIHx8");
    sb.append("IHN1Yi5zdGFydHNXaXRoKCItfCIpKSB7CiAgICAgICAgICAgICAgaWYgKCFvYmouZGVjaXNpb25zW3N1");
    sb.append("Yl0ob3V0LCBjaCkpIHsKICAgICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4");
    sb.append("ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBkZWxldGUgb2JqLmRlY2lzaW9uc1theGVba11dOwog");
    sb.append("ICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgY29ubmVjdGlvbnNbbmFtZV0gPSBvYmo7");
    sb.append("CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsKICBzZWxmLmdldENvbm5lY3Rpb25CeU5hbWUgPSBn");
    sb.append("ZXRfY29ubmVjdGlvbl9vYmo7CgogIHNlbGYubWFrZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBu");
    sb.append("ZXcgQWRhbWFUcmVlKCk7CiAgfTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRoZSBnaXZlbiAnc3Vi");
    sb.append("JyB0byBjaGFuZ2VzIHdpdGhpbiBzdGF0ZSBmb3IgdGhlIGdpdmVuIGZpZWxkIG5hbWVkIG5hbWUKICB2");
    sb.append("YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBzdWIpIHsKICAgIHZhciBzcyA9IHNl");
    sb.append("bGYucEkoc3RhdGUsIG5hbWUpOwogICAgdmFyIHMgPSBzc1tzcy5jdXJyZW50XTsKICAgIGlmICgiQGUi");
    sb.append("IGluIHMuZGVsdGEpIHsKICAgICAgcy5kZWx0YVsiQGUiXS5wdXNoKHN1Yik7CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICBzLmRlbHRhWyJAZSJdID0gW3N1Yl07CiAgICB9CiAgfTsKICBzZWxmLnN1YnNjcmliZSA9IHN1");
    sb.append("YnNjcmliZTsKCiAgLy8gSEVMUEVSIHwgY3JlYXRlIGZyZXNoIHN0YXRlCiAgdmFyIGZyZXNoID0gZnVu");
    sb.append("Y3Rpb24gKHdoZXJlKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlOiBuZXcgQWRhbWFUcmVlKCksCiAg");
    sb.append("ICAgIGRlbHRhOiB7fSwKICAgICAgcGFyZW50OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICB3");
    sb.append("aGVyZTogd2hlcmUKICAgIH07CiAgfTsKICBzZWxmLmZyZXNoID0gZnJlc2g7CgogIC8vIEhFTFBFUjog");
    sb.append("cmVtb3ZlIHBvdGVudGlhbGx5IHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBmcm9tIGFuIG9iamVjdAogIHZh");
    sb.append("ciBzYWZlX2ZpbHRlciA9IGZ1bmN0aW9uKG8pIHsKICAgIGlmICgncGFzc3dvcmQnIGluIG8pIHsKICAg");
    sb.append("ICAgZGVsZXRlIG9bJ3Bhc3N3b3JkJ107CiAgICB9CiAgICBpZiAoJ29uZV90aW1lX3Bhc3N3b3JkJyBp");
    sb.append("biBvKSB7CiAgICAgIGRlbGV0ZSBvWydvbmVfdGltZV9wYXNzd29yZCddOwogICAgfQogICAgcmV0dXJu");
    sb.append("IG87CiAgfQoKICAvLyBIRUxQRVIgfCBjcmVhdGUgYSBuZXcgZGVsdGEgY29weSBmcm9tIHRoZSBnaXZl");
    sb.append("biBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgZGF0YSBvciB2aWV3KQogIHZhciBuZXdfZGVsdGFf");
    sb.append("Y29weSA9IGZ1bmN0aW9uIChzcykgewogICAgaWYgKHNzID09IG51bGwpIHsKICAgICAgcmV0dXJuIG51");
    sb.append("bGw7CiAgICB9CiAgICB2YXIgcGFyZW50ID0gbnVsbDsKICAgIGlmIChzcy5wYXJlbnQgIT0gbnVsbCkg");
    sb.append("ewogICAgICBwYXJlbnQgPSBuZXdfZGVsdGFfY29weShzcy5wYXJlbnQpOwogICAgfQogICAgdmFyIG5l");
    sb.append("d19kZWx0YSA9IHt9OwogICAgaWYgKHBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudC5kZWx0YVtz");
    sb.append("cy5wYXRoXSA9IG5ld19kZWx0YTsKICAgIH0KICAgIHJldHVybiB7IHRyZWU6IHNzLnRyZWUsIHBhcmVu");
    sb.append("dDogcGFyZW50LCBkZWx0YTogbmV3X2RlbHRhLCBwYXRoOiBzcy5wYXRoIH07CiAgfTsKICBzZWxmLm1h");
    sb.append("a2VEZWx0YUNvcHkgPSBuZXdfZGVsdGFfY29weTsKCiAgLy8gSEVMUEVSIHwgY29uc3RydWN0IGEgcGF0");
    sb.append("aCB0bwogIHZhciBwYXRoX3RvID0gZnVuY3Rpb24gKHNzLCBvYmopIHsKICAgIGlmIChzcy5wYXJlbnQg");
    sb.append("IT0gbnVsbCkgewogICAgICB2YXIgcGVlbCA9IHt9OwogICAgICBwZWVsW3NzLnBhdGhdID0gb2JqOwog");
    sb.append("ICAgICByZXR1cm4gcGF0aF90byhzcy5wYXJlbnQsIHBlZWwpOwogICAgfSBlbHNlIHsKICAgICAgcmV0");
    sb.append("dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYucGF0aFRvID0gcGF0aF90bzsKCiAgLy8gSEVMUEVSIHwg");
    sb.append("Z2V0IHRoZSByb290IG9mIHRoZSBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgdGhlIGRhdGEncyBy");
    sb.append("b290IG9yIHRoZSB2aWV3J3Mgcm9vdCkKICB2YXIgcm9vdF9vZiA9IGZ1bmN0aW9uIChzcykgewogICAg");
    sb.append("dmFyIHggPSBzczsKICAgIHdoaWxlICh4LnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHggPSB4LnBhcmVu");
    sb.append("dDsKICAgIH0KICAgIHJldHVybiB4OwogIH07CiAgc2VsZi5yb290T2YgPSByb290X29mOwoKICAvLyBI");
    sb.append("RUxQRVIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBmcm9tIHRoZSBnaXZlbiBET00gbm9kZQogIHZh");
    sb.append("ciBudWtlID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxk");
    sb.append("OwogICAgd2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBs");
    sb.append("YXN0ID0gcGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwogIHNlbGYubnVrZSA9IG51a2U7CgogIC8v");
    sb.append("IEhFTFBFUjogZGVib3VuY2UgdGhlIGdpdmVuIGZ1bmN0aW9uYWwgd2hlbiByYXBpZCBmdW5jdGlvbiBz");
    sb.append("cHJlYWQgaXMgZXhwZWN0ZWQKICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAobXMsIGZvbykgewogICAg");
    sb.append("dmFyIHN0YXR1cyA9IHsgaW5mbGlnaHQ6IGZhbHNlLCB0aW1lb3V0OiBudWxsIH07CiAgICBzdGF0dXMu");
    sb.append("aW5mbGlnaHQgPSBmYWxzZTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghc3RhdHVz");
    sb.append("LmluZmxpZ2h0KSB7CiAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gdHJ1ZTsKICAgICAgICBzdGF0dXMu");
    sb.append("dGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHN0YXR1cy5p");
    sb.append("bmZsaWdodCA9IGZhbHNlOwogICAgICAgICAgc3RhdHVzLnRpbWVvdXQgPSBudWxsOwogICAgICAgICAg");
    sb.append("Zm9vKCk7CiAgICAgICAgfSwgbXMgLyogbXMgKi8pOyAvLyBkZWJvdW5jZSB0aGUgcGFyYW1ldGVycwog");
    sb.append("ICAgICB9CiAgICB9OwogIH07CiAgc2VsZi5kZWJvdW5jZSA9IGRlYm91bmNlOwoKICAvLyBIRUxQRVIg");
    sb.append("fCBwcmVwYXJlIGEgZnJlZSB1bnN1YnNjcmliZSBvYmplY3QKICB2YXIgbWFrZV91bnN1YiA9IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIF9fZGF0YTogZnVuY3Rpb24gKCkgewogICAgICB9LCBf");
    sb.append("X3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBhdWdt");
    sb.append("ZW50IGFuIGV4aXN0aW5nIG9iamVjdCB3aXRoIHVuc3Vic2NyaWJlIGRhdGEKICB2YXIgYWRkX3Vuc3Vi");
    sb.append("ID0gZnVuY3Rpb24gKG9iaikgewogICAgb2JqLl9fZGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgIH07CiAg");
    sb.append("ICBvYmouX192aWV3ID0gZnVuY3Rpb24gKCkgewogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBmaXJl");
    sb.append("IHRoZSB1bnN1YnNjcmliZSBjYWxscyB3aXRoaW4gYW4gb2JqZWN0CiAgdmFyIGZpcmVfdW5zdWIgPSBm");
    sb.append("dW5jdGlvbiAodW5zdWIpIHsKICAgIHVuc3ViLl9fZGF0YSgpOwogICAgdW5zdWIuX192aWV3KCk7CiAg");
    sb.append("fTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRvIHN0YXRlIGFuZCBwb3B1bGF0ZSB1bnN1YnNjcmli");
    sb.append("ZSBvYmplY3QKICB2YXIgc3Vic2NyaWJlX3N0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB1bnN1Yikgewog");
    sb.append("ICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICB1bnN1Yi5fX2RhdGEgPSBzdGF0ZS5kYXRh");
    sb.append("LnRyZWUuc3Vic2NyaWJlKHJvb3Rfb2Yoc3RhdGUuZGF0YSkuZGVsdGEpOwogICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgdW5zdWIuX19kYXRhID0gZnVuY3Rpb24gKCkgewogICAgICB9OwogICAgfQogICAgaWYgKHN0YXRl");
    sb.append("LnZpZXcgIT0gbnVsbCkgewogICAgICB1bnN1Yi5fX3ZpZXcgPSBzdGF0ZS52aWV3LnRyZWUuc3Vic2Ny");
    sb.append("aWJlKHJvb3Rfb2Yoc3RhdGUudmlldykuZGVsdGEpOwogICAgfSBlbHNlIHsKICAgICAgdW5zdWIuX192");
    sb.append("aWV3ID0gZnVuY3Rpb24gKCkgewogICAgICB9OwogICAgfQogIH07CgogIC8vIFJVTlRJTUUgfCBTd2l0");
    sb.append("Y2ggdG8gdGhlIHZpZXcgb2JqZWN0CiAgc2VsZi5wViA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0");
    sb.append("dXJuIHsgc2VydmljZTogc3RhdGUuc2VydmljZSwgZGF0YTogc3RhdGUuZGF0YSwgdmlldzogc3RhdGUu");
    sb.append("dmlldywgY3VycmVudDogInZpZXciIH07CiAgfTsKICBzZWxmLm5ld1N0YXRlVmlld09mID0gc2VsZi5w");
    sb.append("VjsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgZGF0YSBvYmplY3QKICBzZWxmLnBEID0gZnVu");
    sb.append("Y3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBz");
    sb.append("dGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAiZGF0YSIgfTsKICB9OwogIHNlbGYu");
    sb.append("bmV3U3RhdGVEYXRhT2YgPSBzZWxmLnBEOwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRoZSByb290");
    sb.append("IG9iamVjdCAvIChSb290KQogIHNlbGYucFIgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0");
    sb.append("ID0geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52");
    sb.append("aWV3LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1");
    sb.append("cnJlbnRdOwogICAgd2hpbGUgKHByaW9yICE9IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50");
    sb.append("XSA9IHByaW9yOwogICAgICBwcmlvciA9IHByaW9yLnBhcmVudDsKICAgIH0KICAgIHJldHVybiBuZXh0");
    sb.append("OwogIH07CiAgc2VsZi5uZXdTdGF0ZVJvb3RPZiA9IHNlbGYucFI7CgogIC8vIFJVTlRJTUUgfCAuLi8g");
    sb.append("KFVwKQogIHNlbGYucFUgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0ID0geyBzZXJ2aWNl");
    sb.append("OiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50");
    sb.append("OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1cnJlbnRdOwogICAg");
    sb.append("aWYgKHByaW9yLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSBwcmlv");
    sb.append("cjsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVBhcmVudE9mID0gc2Vs");
    sb.append("Zi5wVTsKCiAgLy8gUlVOVElNRSB8IGRpdmUgb25lIGxldmVsIEludG8gcGF0aDEvcGF0aDIvLi4uLi9w");
    sb.append("YXRoTgogIHNlbGYucEkgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBwcmlvciA9IHN0");
    sb.append("YXRlW3N0YXRlLmN1cnJlbnRdOwogICAgaWYgKCEobmFtZSBpbiBwcmlvci5kZWx0YSkpIHsKICAgICAg");
    sb.append("cHJpb3IuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0");
    sb.append("ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0");
    sb.append("ZS5jdXJyZW50IH07CiAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gewogICAgICB0cmVlOiBwcmlvci50");
    sb.append("cmVlLAogICAgICBkZWx0YTogcHJpb3IuZGVsdGFbbmFtZV0sCiAgICAgIHBhcmVudDogcHJpb3IsCiAg");
    sb.append("ICAgIHBhdGg6IG5hbWUKICAgIH07CiAgICBpZiAobmV4dC5jdXJyZW50ID09ICJkYXRhIikgewogICAg");
    sb.append("ICBuZXh0LmRhdGEuY29ubmVjdGlvbiA9IHByaW9yLmNvbm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4g");
    sb.append("bmV4dDsKICB9OwogIHNlbGYubmV3U3RhdGVEaXZlSW50byA9IHNlbGYucEk7CgogIC8vIFJVTlRJTUUg");
    sb.append("fCBleHRlbmQgdGhlIGdpdmVuIHN0YXRlIHdpdGggdGhlIHZpZXcgaGF2aW5nIGEgc2VwYXJhdGUgY2hp");
    sb.append("bGQKICBzZWxmLnBFViA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgaWYgKCEobmFtZSBpbiBz");
    sb.append("dGF0ZS52aWV3LmRlbHRhKSkgewogICAgICBzdGF0ZS52aWV3LmRlbHRhW25hbWVdID0ge307CiAgICB9");
    sb.append("CiAgICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLAogICAgICBkYXRhOiBzdGF0");
    sb.append("ZS5kYXRhLAogICAgICB2aWV3OiB7CiAgICAgICAgdHJlZTogc3RhdGUudmlldy50cmVlLAogICAgICAg");
    sb.append("IGRlbHRhOiBzdGF0ZS52aWV3LmRlbHRhW25hbWVdLAogICAgICAgIHBhcmVudDogc3RhdGUudmlldywK");
    sb.append("ICAgICAgICBwYXRoOiBuYW1lCiAgICAgIH0sCiAgICAgIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQKICAg");
    sb.append("IH07CiAgfTsKICBzZWxmLm5ld1N0YXRlQ3JlYXRlVmlld0NoaWxkID0gc2VsZi5wRVY7CgogIHNlbGYu");
    sb.append("cElFID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3KSB7CiAgICB2YXIgbmV4dCA9IHNl");
    sb.append("bGYucEkoc3RhdGUsIG5hbWUpOwogICAgaWYgKGV4cGFuZFZpZXcpIHsKICAgICAgcmV0dXJuIHNlbGYu");
    sb.append("cEVWKG5leHQsIG5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5leHQ7CiAgICB9CiAgfTsK");
    sb.append("CiAgdmFyIGZvcmsgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewogICAgdmFyIHN0YXRlID0gewogICAg");
    sb.append("ICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IG5ld19kZWx0YV9jb3B5KHBy");
    sb.append("aW9yU3RhdGUuZGF0YSksCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyks");
    sb.append("CiAgICAgIGN1cnJlbnQ6IHByaW9yU3RhdGUuY3VycmVudAogICAgfTsKICAgIGlmIChzdGF0ZS5kYXRh");
    sb.append("ICE9IG51bGwpIHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uID0gcHJpb3JTdGF0ZS5kYXRhLmNv");
    sb.append("bm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4gc3RhdGU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHN1YnNj");
    sb.append("cmliZSBiZXR3ZWVuIHRoZSBzdGF0ZSBhbmQgdGhlIG9iamVjdC4KICAvLyBXaGVuIHRoZSBtZW1iZXIg");
    sb.append("ZmllbGQgd2l0aGluIHN0YXRlIG9mIG5hbWUgY2hhbmdlcywgY29weSB0aGF0IHZhbHVlIGludG8gdGhl");
    sb.append("IG9iaiBhbmQgcnVuIHJlY29tcHV0ZSgpCiAgc2VsZi5ZID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5h");
    sb.append("bWUsIHJlY29tcHV0ZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKCk7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRl");
    sb.append("LCBuYW1lLCBzdWIpOwogIH07CgogIHNlbGYuWTIgPSBmdW5jdGlvbiAoc3RhdGUsIHIsIGtleSwgbmFt");
    sb.append("ZSwgcmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBv");
    sb.append("YmogPSByLl9ba2V5XTsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJlY29tcHV0ZShvYmop");
    sb.append("OwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7");
    sb.append("CiAgfTsKCiAgLy8gUlVOVElNRTogYnVpbGQgYW4gcnhvYmoKICBzZWxmLlJYID0gZnVuY3Rpb24gKHZh");
    sb.append("cnMpIHsKICAgIHZhciBvID0ge307CiAgICBvLl8gPSB7fTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("dmFycy5sZW5ndGg7IGsrKykgewogICAgICBvLl9bdmFyc1trXV0gPSB7fTsKICAgIH0KICAgIG8uX18g");
    sb.append("PSBmdW5jdGlvbigpIHt9OwogICAgcmV0dXJuIG87CiAgfTsKCiAgLy8gUlVOVElNRSB8IEp1c3Qgc3Vi");
    sb.append("c2NyaWJlZSB2YWx1ZSB0byB0aGUgb2JqZWN0IGZpZWxkIG9mIG5hbWUgKG5vLXJlY29tcHV0ZSkKICBz");
    sb.append("ZWxmLllTID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5hbWUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlv");
    sb.append("biAodmFsdWUpIHsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FIHwgIlRl");
    sb.append("eHQiCiAgc2VsZi5UID0gZnVuY3Rpb24gKHR4KSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4");
    sb.append("dE5vZGUodHgpOwogIH07CgogIC8vIGNvbnZlcnQgYSB2YWx1ZSBpbnRvIGEgYm9vbGVhbgogIHNlbGYu");
    sb.append("QiA9IGZ1bmN0aW9uKHZhbCkgewogICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICAgIH0KICAgIHJldHVybiB2YWwgPT0gInRydWUiOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dmll");
    sb.append("dy13cml0ZSBuYW1lPSIiIHZhbHVlPSIiPgogIHNlbGYuVlcgPSBmdW5jdGlvbihzdGF0ZSwgbmFtZSwg");
    sb.append("cnhPYmopIHsKICAgIHJ4T2JqLl9fID0gZGVib3VuY2UoNTAsIGZ1bmN0aW9uKCkgewogICAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICAgIHZhciB2YWx1ZSA9IHJ4T2JqLnZhbHVlOwogICAgICBpZiAodHlwZW9mICh2");
    sb.append("YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0g");
    sb.append("cGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVw");
    sb.append("ZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGxvb2t1cCBwYXRoPS4uLj4K");
    sb.append("ICBzZWxmLkwgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5j");
    sb.append("cmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRv");
    sb.append("bS5ub2RlVmFsdWUgPSB2YWx1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7");
    sb.append("CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uIHRyYW5z");
    sb.append("Zm9ybT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCB0cmFu");
    sb.append("c2Zvcm0pIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIg");
    sb.append("c3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAg");
    sb.append("ZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7CiAgICAgIH0KICAgIH07CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8");
    sb.append("bG9va3VwIHBhdGg9Li4uIHRyYW5zZm9ybT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUZFQgPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSwgZnJlcSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50");
    sb.append("LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIC8vIGNyZWF0ZSB0aGUgbmV4dXMgb2JqZWN0CiAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICBvYmouZnJlcSA9IGZyZXE7CiAgICBvYmoudmFsdWUgPSAiIjsKCiAgICAvLyB1");
    sb.append("cGRhdGUgd2lsbCBleGVjdXRlIHRoZSB0cmFuc2Zvcm0gb24gdGhlIHZhbHVlCiAgICBvYmoudXBkYXRl");
    sb.append("ID0gZnVuY3Rpb24oKSB7CiAgICAgIGRvbS5ub2RlVmFsdWUgPSB0cmFuc2Zvcm0odGhpcy52YWx1ZSk7");
    sb.append("CiAgICB9LmJpbmQob2JqKTsKCiAgICAvLyBzdWJzY3JpcHRpb24gd2lsbCBzeW5jIHRoZSB2YWx1ZQog");
    sb.append("ICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgewog");
    sb.append("ICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKICAgICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICB9CiAg");
    sb.append("ICB9LmJpbmQob2JqKTsKCiAgICAvLyByZWZyZXNoIHdpbGwgcmUtZXhlY3V0ZSB0aGUgdXBkYXRlIChh");
    sb.append("bmQgdGh1cyB0aGUgdHJhbnNmb3JtKQogICAgb2JqLnJlZnJlc2ggPSBmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("dGhpcy51cGRhdGUoKTsKICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKSkgeyAvLyB3");
    sb.append("aWxsIHJ1biBzbyBsb25nIGFzIHRoZSBET00gY29udGFpbnMgdGhlIG5vZGUgd2UgbWFuaXB1bGF0ZWQK");
    sb.append("ICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnJlZnJlc2gsIHRoaXMuZnJlcSk7CiAgICAgIH0K");
    sb.append("ICAgIH0uYmluZChvYmopOwogICAgLy8ga2ljayBvZmYgdGhlIGF1dG8gdHJhbnNmb3JtCiAgICB3aW5k");
    sb.append("b3cuc2V0VGltZW91dChvYmoucmVmcmVzaCwgZnJlcSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUs");
    sb.append("IHN1Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnPgogIHNlbGYuRSA9");
    sb.append("IGZ1bmN0aW9uICh0YWcsIG5zKSB7CiAgICBpZiAobnMgPT0gdW5kZWZpbmVkIHx8IG5zID09IG51bGwp");
    sb.append("IHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsKICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgIHZhciByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7CiAgICAgIHJl");
    sb.append("c3VsdC5zZXRBdHRyaWJ1dGUoInhtbG5zIiwgbnMpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCA8cGljayBuYW1lPS4uLj4KICBzZWxmLlAgPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRNYWtlckNvbm5lY3RlZCwgY2hpbGRNYWtlckRpc2Nv");
    sb.append("bm5lY3RlZCkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgcnhPYmouX18gPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeE9iaikpIHsKICAgICAgICByZXR1cm47CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKHRoaXMubmFtZSA9PSByeE9iai5uYW1lKSB7CiAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeE9iai5uYW1lKTsKICAgICAg");
    sb.append("dGhpcy5uYW1lID0gcnhPYmoubmFtZTsKICAgICAgY28uY29ubmVjdGVkKGZ1bmN0aW9uIChjcykgewog");
    sb.append("ICAgICAgIG51a2UocGFyZW50KTsKICAgICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgICB2YXIg");
    sb.append("c3RhdGUgPSB7CiAgICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgICBk");
    sb.append("YXRhOiB7IGNvbm5lY3Rpb246IGNvLCB0cmVlOiBjby50cmVlLCBkZWx0YToge30sIHBhcmVudDogbnVs");
    sb.append("bCwgcGF0aDogbnVsbCB9LAogICAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52");
    sb.append("aWV3KSwKICAgICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICAgIH07CiAgICAgICAgaWYgKGNzKSB7");
    sb.append("CiAgICAgICAgICBjaGlsZE1ha2VyQ29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgICAgICBjaGlsZE1ha2VyRGlzY29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAg");
    sb.append("IH0KICAgICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAvLyBUT0RPOiBy");
    sb.append("ZXR1cm4gZmFsc2UgdG8gdW5zdWIKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9LmJp");
    sb.append("bmQoeyBuYW1lOiAiIiB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRlbXBsYXRlIG5hbWU9Ii4uLiI+");
    sb.append("CiAgc2VsZi5UUCA9IGZ1bmN0aW9uIChuYW1lLCBmb28pIHsKICAgIHRlbXBsYXRlc1tuYW1lXSA9IGZv");
    sb.append("bzsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRhZyByeDp0ZW1wbGF0ZT0kbmFtZT4KICBzZWxmLlVUID0g");
    sb.append("ZnVuY3Rpb24gKHBhcmVudCwgc3RhdGUsIG5hbWUsIGNoaWxkX21ha2VyKSB7CiAgICB2YXIgZm9vID0g");
    sb.append("dGVtcGxhdGVzW25hbWVdOwogICAgZm9vKHBhcmVudCwgc3RhdGUsIGNoaWxkX21ha2VyKTsKICB9OwoK");
    sb.append("ICAvLyBSVU5USU1FIHwgPHRhZyByeDpzd2l0Y2g9cGF0aCAuLj4KICBzZWxmLlNXID0gZnVuY3Rpb24g");
    sb.append("KHBhcmVudCwgcHJpb3JTdGF0ZSwgbmFtZSwgY2hpbGRyZW5NYWtlcikgewogICAgdmFyIHN3c3QgPSB7");
    sb.append("IHByaW9yOiBudWxsIH07CiAgICBhZGRfdW5zdWIoc3dzdCk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLnByaW9yKSB7CiAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICB9CiAgICAgIHRoaXMucHJpb3IgPSB2YWx1ZTsKICAgICAgZmlyZV91bnN1Yih0aGlzKTsKICAg");
    sb.append("ICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBj");
    sb.append("aGlsZHJlbk1ha2VyKHBhcmVudCwgc3RhdGUsICIiICsgdmFsdWUpOwogICAgICBzdWJzY3JpYmVfc3Rh");
    sb.append("dGUoc3RhdGUsIHRoaXMpOwoKICAgIH0uYmluZChzd3N0KTsKICAgIHN1YnNjcmliZShwcmlvclN0YXRl");
    sb.append("LCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4Oml0ZXJhdGU9cGF0aCAuLi4+");
    sb.append("CiAgc2VsZi5JVCA9IGZ1bmN0aW9uIChwYXJlbnREb20sIHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBt");
    sb.append("YWtlcikgewogICAgdmFyIGl0X3N0YXRlID0gc2VsZi5wSUUoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcp");
    sb.append("OwogICAgdmFyIGRvbUJ5S2V5ID0ge307CiAgICB2YXIgdmlld1VuU3ViQnlLZXkgPSB7fTsKICAgIHZh");
    sb.append("ciBraWxsID0gZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gdmlld1VuU3ViQnlLZXkp");
    sb.append("IHsKICAgICAgICBmaXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAgICAgIGRlbGV0ZSB2");
    sb.append("aWV3VW5TdWJCeUtleVtrZXldOwogICAgICB9CiAgICAgIGZvciAodmFyIGtleSBpbiBkb21CeUtleSkg");
    sb.append("ewogICAgICAgIGRlbGV0ZSBkb21CeUtleVtrZXldOwogICAgICB9CiAgICB9OwoKICAgIHZhciBzdWIg");
    sb.append("PSB7CiAgICAgICIrIjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciBuZXdfc3RhdGUgPSBmb3Jr");
    sb.append("KHNlbGYucElFKGl0X3N0YXRlLCBrZXksIGV4cGFuZFZpZXcpKTsKICAgICAgICB2YXIgdW5zdWIgPSBt");
    sb.append("YWtlX3Vuc3ViKCk7CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKG5ld19zdGF0ZSk7CiAgICAgICAgZG9t");
    sb.append("QnlLZXlba2V5XSA9IGRvbTsKICAgICAgICB2aWV3VW5TdWJCeUtleVtrZXldID0gdW5zdWI7CiAgICAg");
    sb.append("ICAgcGFyZW50RG9tLmFwcGVuZChkb20pOwogICAgICAgIHZhciBpdGVtX2RlbHRhID0gbmV3X3N0YXRl");
    sb.append("LmRhdGEuZGVsdGE7CiAgICAgICAgbmV3X3N0YXRlLmRhdGEuZGVsdGEgPSB7fTsKICAgICAgICBzdWJz");
    sb.append("Y3JpYmVfc3RhdGUobmV3X3N0YXRlLCB1bnN1Yik7CiAgICAgICAgcmV0dXJuIGl0ZW1fZGVsdGE7CiAg");
    sb.append("ICAgIH0sCiAgICAgICItIjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChrZXkgaW4gZG9tQnlL");
    sb.append("ZXkpIHsKICAgICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb21CeUtleVtrZXldKTsKICAgICAg");
    sb.append("ICAgIGRlbGV0ZSBkb21CeUtleVtrZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa2V5IGluIHZpZXdV");
    sb.append("blN1YkJ5S2V5KSB7CiAgICAgICAgICBmaXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAg");
    sb.append("ICAgICAgZGVsZXRlIHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgICAgfQogICAgICB9LAogICAgICAi");
    sb.append("fiI6IGZ1bmN0aW9uIChvcmQpIHsKICAgICAgICBudWtlKHBhcmVudERvbSk7CiAgICAgICAgaWYgKG9y");
    sb.append("ZCA9PSBudWxsKSB7CiAgICAgICAgICBraWxsKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQog");
    sb.append("ICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb3JkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBwYXJl");
    sb.append("bnREb20uYXBwZW5kKGRvbUJ5S2V5W29yZFtrXV0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAg");
    sb.append("IHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICBzZWxmLlJQID0gZnVuY3Rpb24gKHBh");
    sb.append("cmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUg");
    sb.append("PSBzZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIHZhciBuID0gMDsKICAgICAgdHJ5IHsKICAgICAgICBuID0gdHlwZW9mICh2");
    sb.append("YWx1ZSkgPT0gJ251bWJlcicgPyB2YWx1ZSA6IHBhcnNlSW50KHZhbHVlKTsKICAgICAgfSBjYXRjaCAo");
    sb.append("ZmFpbGVkUGFyc2luZ04pIHsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy5hdCA8IG4gLSAxKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5hdCArKzsKICAgICAgICB0aGlzLnRyYWNrICsrOwogICAgICAgIHZhciBuZXdfc3Rh");
    sb.append("dGUgPSBmb3JrKHNlbGYucElFKGl0X3N0YXRlLCB0aGlzLnRyYWNrICsgIiIsIGV4cGFuZFZpZXcpKTsK");
    sb.append("ICAgICAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKG5l");
    sb.append("d19zdGF0ZSk7CiAgICAgICAgdGhpcy5pdGVtc1t0aGlzLmF0XSA9IHt1bnN1Yjp1bnN1YiwgZG9tOmRv");
    sb.append("bX07CiAgICAgICAgcGFyZW50RG9tLmFwcGVuZChkb20pOwogICAgICAgIHN1YnNjcmliZV9zdGF0ZShu");
    sb.append("ZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy5hdCA+PSBuICYmIHRoaXMu");
    sb.append("YXQgPj0gMCkgewogICAgICAgIGZpcmVfdW5zdWIodGhpcy5pdGVtc1t0aGlzLmF0XS51bnN1Yik7CiAg");
    sb.append("ICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKHRoaXMuaXRlbXNbdGhpcy5hdF0uZG9tKTsKICAgICAg");
    sb.append("ICB0aGlzLml0ZW1zW3RoaXMuYXRdID0gbnVsbDsKICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1t0aGlz");
    sb.append("LmF0XTsKICAgICAgICB0aGlzLmF0LS07CiAgICAgIH0KICAgIH0uYmluZCh7aXRlbXM6W10sIGF0Oi0x");
    sb.append("LCB0cmFjazowfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfQogIHZhciBmaW5k");
    sb.append("ID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoY2hhbm5lbCBp");
    sb.append("biBzdGF0ZVsiZGF0YSJdLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmcpIHsKICAgICAgdmFyIGFyciA9IHN0");
    sb.append("YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXS5vcHRpb25zOwogICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBzID0gYXJyW2td");
    sb.append("OwogICAgICAgIGlmIChrZXkgaW4gcyAmJiBzW2tleV0gPT0gdmFsdWUpIHsKICAgICAgICAgIHJldHVy");
    sb.append("biBzOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("IHJldHVybiBudWxsOwogICAgfQogIH07CgogIHZhciBjdXN0b21zID0ge307CgogIHNlbGYuUFJDVUFD");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9tc1tuYW1lXSA9IGZvbzsKICB9OwoKICBz");
    sb.append("ZWxmLmV4Q0MgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsK");
    sb.append("ICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjdXN0");
    sb.append("b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAgY3VzdG9tc1tjdXN0b21Db21tYW5kTmFt");
    sb.append("ZV0oc3RhdGUsIGRvbSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIGN1c3RvbSBldmVudCBvbiBm");
    sb.append("b3Jtczsgcng6c3VjY2Vzcz0iLi4uIgogIHZhciBmaXJlX3N1Y2Nlc3MgPSBmdW5jdGlvbiAoZG9tKSB7");
    sb.append("CiAgICBkb20uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1Y2Nlc3MiKSk7CiAgfTsKICBzZWxmLmZp");
    sb.append("cmVfc3VjY2VzcyA9IGZpcmVfc3VjY2VzczsKCiAgLy8gY3VzdG9tIGV2ZW50IG9uIGZvcm1zOyByeDpm");
    sb.append("YWlsZWQ9Ii4uLiIKICB2YXIgZmlyZV9mYWlsdXJlID0gZnVuY3Rpb24gKGRvbSwgbXNnKSB7CiAgICB2");
    sb.append("YXIgZSA9IG5ldyBFdmVudCgiZmFpbHVyZSIpOwogICAgZS5tZXNzYWdlID0gbXNnOwogICAgY29uc29s");
    sb.append("ZS5sb2coIkZBSUxVUkU6IiArIG1zZyk7CiAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICB9OwogIHNl");
    sb.append("bGYuZmlyZV9mYWlsdXJlID0gZmlyZV9mYWlsdXJlOwoKICBzZWxmLmFDQyA9IGZ1bmN0aW9uIChmb3Jt");
    sb.append("LCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAobXNn");
    sb.append("KSB7CiAgICAgIGlmIChzaWduYWwgPT0gbnVsbCkgewogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsK");
    sb.append("ICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgbXNnKTsKICAgICAgfQogICAg");
    sb.append("fTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGlmIChjdXN0b21Db21t");
    sb.append("YW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAg");
    sb.append("dmFyIG9iaiA9IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAgICAgICBjdXN0b21zW2N1c3RvbUNvbW1h");
    sb.append("bmROYW1lXShvYmosIHN0YXRlLCBzaWduYWwsIHNlbGYpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3Jt");
    sb.append("KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCB0byBmaW5k");
    sb.append("ICciICsgY3VzdG9tQ29tbWFuZE5hbWUgKyAiJyIpOwogICAgICB9CiAgICB9OwogIH07CgogIHZhciBt");
    sb.append("YWtlX2Nob2ljZV9hcnJheSA9IGZ1bmN0aW9uIChzdGF0ZSwgY2hhbm5lbCkgewogICAgdmFyIGNob2lj");
    sb.append("ZXMgPSBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24uY2hvaWNlczsKICAgIGlmICghKGNoYW5uZWwgaW4gY2hv");
    sb.append("aWNlcykpIHsKICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgfQogICAgdmFyIGNob2ljZSA9");
    sb.append("IGNob2ljZXNbY2hhbm5lbF07CiAgICB2YXIgYXJyID0gW107CiAgICBmb3IgKHZhciBpZCBpbiBjaG9p");
    sb.append("Y2UpIHsKICAgICAgYXJyLnB1c2goY2hvaWNlW2lkXSk7CiAgICB9CiAgICByZXR1cm4gYXJyOwogIH0K");
    sb.append("CiAgc2VsZi5leEZJTiA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBjaGFubmVsKSB7CiAgICBy");
    sb.append("ZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYXJyID0gbWFr");
    sb.append("ZV9jaG9pY2VfYXJyYXkoc3RhdGUsIGNoYW5uZWwpOwogICAgICB2YXIgY2xlYXIgPSBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgICAgZGVsZXRlIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzW2NoYW5uZWxdOwog");
    sb.append("ICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2ljZXMoY2hhbm5lbCwge30pOwogICAgICB9");
    sb.append("OwogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgYXJyLCB7CiAgICAg");
    sb.append("ICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY2xlYXIoKTsKICAgICAgICAg");
    sb.append("IGNvbnNvbGUubG9nKCJmYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfSwKICAgICAgICBzdWNjZXNz");
    sb.append("OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgY2xlYXIoKTsKICAgICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJTdWNjZXNzfCIgKyBwYXlsb2FkLnNlcSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwog");
    sb.append("IH07CgogIHNlbGYuRklOID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgY2hhbm5lbCwgc2hv");
    sb.append("dWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGZpbmFsaXplID0g");
    sb.append("ewogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjogZmFsc2UKICAgIH07CiAgICBhZGRfdW5z");
    sb.append("dWIoZmluYWxpemUpOwoKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJl");
    sb.append("X3Vuc3ViKGZpbmFsaXplKTsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3Jr");
    sb.append("KHByaW9yU3RhdGUpOwogICAgICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRy");
    sb.append("dWUocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQs");
    sb.append("IHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGZpbmFsaXplKTsKICAg");
    sb.append("IH07CgogICAgZmluYWxpemUudXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgb3V0ID0gcHJp");
    sb.append("b3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF07CiAgICAgIGlmICghKG91");
    sb.append("dCkpIHJldHVybjsKICAgICAgdmFyIGFyciA9IG1ha2VfY2hvaWNlX2FycmF5KHByaW9yU3RhdGUsIGNo");
    sb.append("YW5uZWwpOwogICAgICB2YXIgZXZhbCA9ICgnbWluJyBpbiBvdXQgJiYgJ21heCcgaW4gb3V0KSA/IChv");
    sb.append("dXQubWluIDw9IGFyci5sZW5ndGggJiYgYXJyLmxlbmd0aCA8PSBvdXQubWF4KSA6IHRydWU7CiAgICAg");
    sb.append("IGlmIChmaW5hbGl6ZS5ldmFsICE9IGV2YWwpIHsKICAgICAgICBmaW5hbGl6ZS5ldmFsID0gZXZhbDsK");
    sb.append("ICAgICAgICBjaGFuZ2UoZmluYWxpemUuZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0");
    sb.append("ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2ljZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIGZpbmFsaXplLnVwZGF0ZSgpOwogICAgICAvLyBUT0RPOiByZXR1cm4gd2hldGhlciBvciBub3Qg");
    sb.append("dGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsKCiAgLy8g");
    sb.append("Y2hvb3NlCiAgc2VsZi5leENIID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5u");
    sb.append("ZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChz");
    sb.append("dGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRl");
    sb.append("LCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewog");
    sb.append("ICAgICAgIHZhciBjaG9pY2VzID0gc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXM7CiAgICAgICAg");
    sb.append("aWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9");
    sb.append("OwogICAgICAgIH0KICAgICAgICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgICAgICB2");
    sb.append("YXIgdmFsS2V5ID0gcmVzdWx0W2tleV07CiAgICAgICAgaWYgKHZhbEtleSBpbiBjaG9pY2UpIHsKICAg");
    sb.append("ICAgICAgIGRlbGV0ZSBjaG9pY2VbdmFsS2V5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hv");
    sb.append("aWNlW3ZhbEtleV0gPSByZXN1bHQ7CiAgICAgICAgfQogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlv");
    sb.append("bi5vbmNob2ljZXMoY2hhbm5lbCwgY2hvaWNlKTsKICAgICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUo");
    sb.append("c3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsK");
    sb.append("ICAgIH0pOwogIH07CgogIHNlbGYuZXhEID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUs");
    sb.append("IGNoYW5uZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19l");
    sb.append("dmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5k");
    sb.append("KHN0YXRlLCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVs");
    sb.append("bCkgewogICAgICAgIGxldCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIHN0YXRlLmRh");
    sb.append("dGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCByZXN1bHQsIHsKICAgICAgICAgIGZhaWx1cmU6");
    sb.append("IGZ1bmN0aW9uIChyZWFzb24pIHsKCiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rp");
    sb.append("b24gKHBheWxvYWQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQu");
    sb.append("c2VxICsgIjtsYXRlbmN5PSIgKyAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkpOwogICAgICAgICAg");
    sb.append("fQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVu");
    sb.append("Y3Rpb24gKHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAg");
    sb.append("dmFyIHJlZ19ldmVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgZG9tLCB0eXBlLCBydW5uYWJsZSkgewogICAg");
    sb.append("Ly8gVE9ETzogY29ubmVjdGVkL2Rpc2Nvbm5lY3RlZCBhcyBzcGVjaWFsIGV2ZW50cyB0byBjb25zaWRl");
    sb.append("cgogICAgaWYgKHR5cGUgPT0gImxvYWQiKSB7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHJ1bm5hYmxl");
    sb.append("LCAxKTsKICAgICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgiZGVsYXk6IikpIHsKICAgICAgLy8g");
    sb.append("ZGVsYXkgd2lsbCBydW4gYWZ0ZXIgJGRlbGF5VGltZU1TIElGIHRoZSBkb20gZWxlbWVudCBpcyBzdGls");
    sb.append("bCB2aXNpYmxlIHRvIHRoZSBkb2N1bWVudAogICAgICB2YXIgZGVsYXlUaW1lTVMgPSBwYXJzZUludCh0");
    sb.append("eXBlLnN1YnN0cmluZyg2KSk7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAg");
    sb.append("ICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvbSkpIHsKICAgICAgICAgIHJ1bm5hYmxlKCk7");
    sb.append("CiAgICAgICAgfQogICAgICB9LCBkZWxheVRpbWVNUyk7CiAgICB9IGVsc2UgewogICAgICBkb20uYWRk");
    sb.append("RXZlbnRMaXN0ZW5lcih0eXBlLCBydW5uYWJsZSk7CiAgICB9CiAgfQoKICAvLyBSVU5USU1FOiA8dGFn");
    sb.append("IC4uIHJ4OmV2ZW50PSIuLi4gZmlyZTpjaGFubmVsIC4uLiIgLi4uPgogIHNlbGYub25GUiA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0ZSwgZG9tLCB0eXBlLCBjaGFubmVsKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwg");
    sb.append("dHlwZSwgZnVuY3Rpb24gKCkgewogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hh");
    sb.append("bm5lbCwge30sIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xl");
    sb.append("LmxvZygiU0VOVCAnIiArIGNoYW5uZWwgKyAiJyIpOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTog");
    sb.append("ZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5sb2coIkZBSUxFRCBUTyBGSVJFICci");
    sb.append("ICsgY2hhbm5lbCArICInIERVRToiICsgcmVhc29uKTsgJycKICAgICAgICB9CiAgICAgIH0pOwogICAg");
    sb.append("fSk7CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZm9yY2UtYXV0aD1uYW1l");
    sb.append("LHRva2VuIC4uLiI+CiAgc2VsZi5vbkZPUkNFX0FVVEggPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBpZGVu");
    sb.append("dGl0eU5hbWUsIGlkZW50aXR5KSB7CiAgICByZWdfZXZlbnQobnVsbCwgZG9tLCB0eXBlLCBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IGlkZW50aXR5OwogICAgICBsb2Nh");
    sb.append("bFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHNldDpuYW1lPXZhbHVl");
    sb.append("IC4uLiI+CiAgc2VsZi5vblMgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsdWUp");
    sb.append("IHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBv");
    sb.append("YmogPSB7fTsKICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJmdW5jdGlvbiIpIHsKICAgICAgICBv");
    sb.append("YmpbbmFtZV0gPSB2YWx1ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVl");
    sb.append("OwogICAgICB9CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAg");
    sb.append("c3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgfTsKCiAgLy8g");
    sb.append("UlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5hbWUgLi4uIj4KICBzZWxmLm9uVE0gPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgb3gsIG95KSB7CiAgICByZWdfZXZlbnQoc3Rh");
    sb.append("dGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAg");
    sb.append("b2JqW25hbWVdID0gewogICAgICAgIHg6ZXZlbnQuY2xpZW50WCArIHdpbmRvdy5zY3JvbGxYICsgb3gs");
    sb.append("CiAgICAgICAgeTpldmVudC5jbGllbnRZICsgd2luZG93LnNjcm9sbFkgKyBveQogICAgICB9OwogICAg");
    sb.append("ICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1");
    sb.append("cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcg");
    sb.append("Li4gcng6ZXZlbnQ9Ii4uLiB0ZTpuYW1lIC4uLiI+CiAgc2VsZi5vblRFID0gZnVuY3Rpb24gKGRvbSwg");
    sb.append("dHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlv");
    sb.append("biAoZXZlbnQpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBldmVudC5tZXNz");
    sb.append("YWdlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRl");
    sb.append("W3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogIH07CgogIHZhciBmb3Jt");
    sb.append("X29mID0gZnVuY3Rpb24oZG9tKSB7CiAgICB2YXIgbmV4dCA9IGRvbTsKICAgIHdoaWxlIChuZXh0ICE9");
    sb.append("IG51bGwpIHsKICAgICAgaWYgKG5leHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJGT1JNIikgewog");
    sb.append("ICAgICAgIHJldHVybiBuZXh0OwogICAgICB9CiAgICAgIG5leHQgPSBuZXh0LnBhcmVudEVsZW1lbnQ7");
    sb.append("CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9");
    sb.append("Ii4uLiByZXNldCAuLi4iPgogIHNlbGYub1JTVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7");
    sb.append("CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZh");
    sb.append("ciBmID0gZm9ybV9vZihkb20pOwogICAgICBpZiAoZiAhPSBudWxsKSB7CiAgICAgICAgZi5yZXNldCgp");
    sb.append("OwogICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("c3VibWl0IC4uLiI+CiAgc2VsZi5vU0JNVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAg");
    sb.append("ICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBm");
    sb.append("ID0gZm9ybV9vZihkb20pOwogICAgICBpZiAoZiAhPSBudWxsKSB7CiAgICAgICAgZi5vbnN1Ym1pdChu");
    sb.append("ZXcgU3VibWl0RXZlbnQoInN1Ym1pdCIpKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElN");
    sb.append("RTogPHRhZyAuLiByeDpldmVudD0iLi4uIGdvdG86dXJpIC4uLiI+CiAgc2VsZi5vbkdPID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdHlwZSwgc3RhdGUsIHZhbHVlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlw");
    sb.append("ZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXJpID0gKHR5cGVvZiAodmFsdWUpID09ICJmdW5jdGlv");
    sb.append("biIpID8gdmFsdWUoKSA6IHZhbHVlOwogICAgICBzZWxmLmdvdG8odXJpKTsKICAgIH0pOwogIH07Cgog");
    sb.append("IC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0b2dnbGU6bmFtZSAuLi4iPgogIHNlbGYu");
    sb.append("b25UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHZhciBjYXB0dXJlZCA9");
    sb.append("IHsgdmFsdWU6IGZhbHNlIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9ICFjYXB0dXJlZC52YWx1ZTsK");
    sb.append("ICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0");
    sb.append("ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwg");
    sb.append("bmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsdWUgPT0gdHJ1");
    sb.append("ZTsKICAgIH0pOwogIH07CgogIHZhciBvcmRlcl90b2dnbGUgPSBmdW5jdGlvbihwcmlvciwgdmFsKSB7");
    sb.append("CgogICAgdmFyIHBhcnRzID0gcHJpb3Iuc3BsaXQoIiwiKTsKICAgIHZhciBwcmVmaXggPSAnJzsKICAg");
    sb.append("IHZhciBuZXh0ID0gWyIiXTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFydHMubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgaWYgKHBhcnRzW2tdID09ICIiKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gZWxz");
    sb.append("ZSBpZiAodmFsID09IHBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJy0nOwogICAgICB9IGVsc2Ug");
    sb.append("aWYgKCItIiArIHZhbCA9PXBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJyc7CiAgICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgICAgbmV4dC5wdXNoKHBhcnRzW2tdKTsKICAgICAgfQogICAgfQogICAgbmV4dFswXSA9");
    sb.append("IHByZWZpeCArIHZhbDsKICAgIHJldHVybiBuZXh0LmpvaW4oIiwiKTsKICB9CgogIC8vIFJVTlRJTUU6");
    sb.append("IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBvcmRlci10b2dnbGU6bmFtZT12YWwgLi4uIj4KICBzZWxmLm9u");
    sb.append("T1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsKSB7CiAgICB2YXIgY2FwdHVy");
    sb.append("ZWQgPSB7IHZhbHVlOiAiIiB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBvcmRlcl90b2dnbGUoY2Fw");
    sb.append("dHVyZWQudmFsdWUsIHZhbCk7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2Jq");
    sb.append("KTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAg");
    sb.append("ICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJlZC52");
    sb.append("YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0i");
    sb.append("Li4uIGRlbHRhOm5hbWU9ZGlmZiIgLi4uIj4KICBzZWxmLm9uRCA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlLCBuYW1lLCBkaWZmKSB7CiAgICB2YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAwIH07CiAgICBy");
    sb.append("ZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0ge307");
    sb.append("CiAgICAgIG9ialtuYW1lXSA9IGNhcHR1cmVkLnZhbHVlICsgZGlmZjsKICAgICAgdmFyIGRlbHRhID0g");
    sb.append("cGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVw");
    sb.append("ZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZh");
    sb.append("bHVlKSB7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAibnVtYmVyIikgewogICAgICAgIGNhcHR1");
    sb.append("cmVkLnZhbHVlID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZhbCA9IHBhcnNlRmxv");
    sb.append("YXQodmFsdWUpOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgY2FwdHVyZWQudmFs");
    sb.append("dWUgPSB2YWw7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIHNlbGYuQ1NFTiA9IGZ1bmN0");
    sb.append("aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwgY2hhbm5lbCwga2V5LCBuYW1lLCBzaG91");
    sb.append("bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgY2hvc2VuID0gewog");
    sb.append("ICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxzZSwKICAg");
    sb.append("ICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1YihjaG9zZW4pOwogICAgdmFyIGNoYW5nZSA9");
    sb.append("IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoY2hvc2VuKTsKICAgICAgbnVrZShwYXJl");
    sb.append("bnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAoc2hvdyA9PT0g");
    sb.append("c2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVf");
    sb.append("c3RhdGUoc3RhdGUsIGNob3Nlbik7CiAgICB9OwoKICAgIGNob3Nlbi51cGRhdGUgPSBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tj");
    sb.append("aGFubmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwoKICAgICAgdmFyIGNob2ljZXMgPSBwcmlv");
    sb.append("clN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgICBpZiAoIShjaGFubmVsIGluIGNob2lj");
    sb.append("ZXMpKSB7CiAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICB9CiAgICAgIHZhciBjaG9p");
    sb.append("Y2UgPSBjaG9pY2VzW2NoYW5uZWxdOwogICAgICB2YXIgZXZhbCA9IGNob3Nlbi52YWx1ZSBpbiBjaG9p");
    sb.append("Y2U7CiAgICAgIGlmIChjaG9zZW4uZXZhbCAhPSBldmFsKSB7CiAgICAgICAgY2hvc2VuLmV2YWwgPSBl");
    sb.append("dmFsOwogICAgICAgIGNoYW5nZShjaG9zZW4uZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JT");
    sb.append("dGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2ljZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKCiAgICBzdWJz");
    sb.append("Y3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2hvc2VuLnZhbHVl");
    sb.append("ID0gdmFsdWU7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgIH0pOwogIH07CgogIHNlbGYuREUgPSBm");
    sb.append("dW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5uZWwsIGtleSwgbmFtZSwg");
    sb.append("c2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGRlY2lkZSA9");
    sb.append("IHsKICAgICAgdmFsdWU6ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjogZmFsc2Us");
    sb.append("CiAgICAgIGV2YWw6IG51bGwKICAgIH07CiAgICBhZGRfdW5zdWIoZGVjaWRlKTsKICAgIHZhciBjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGRlY2lkZSk7CiAgICAgIG51a2Uo");
    sb.append("cGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHNob3cg");
    sb.append("PT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUpOwogICAgICB9IGVs");
    sb.append("c2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2Ny");
    sb.append("aWJlX3N0YXRlKHN0YXRlLCBkZWNpZGUpOwogICAgfTsKCiAgICBkZWNpZGUudXBkYXRlID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICB2YXIgZXZhbCA9IGZpbmQocHJpb3JTdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNp");
    sb.append("ZGUudmFsdWUpICE9IG51bGw7CiAgICAgIGlmIChkZWNpZGUuZXZhbCAhPSBldmFsKSB7CiAgICAgICAg");
    sb.append("ZGVjaWRlLmV2YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShkZWNpZGUuZXZhbCk7CiAgICAgIH0KICAg");
    sb.append("IH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlKGNoYW5uZWwsIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAgICAvLyBUT0RPOiByZXR1cm4gd2hldGhl");
    sb.append("ciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7Cgog");
    sb.append("ICAgc3Vic2NyaWJlKGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRlY2lk");
    sb.append("ZS52YWx1ZSA9IHZhbHVlOwogICAgICBkZWNpZGUudXBkYXRlKCk7CiAgICB9KTsKICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgcng6aWYgLyByeDppZm5vdCA9ICJwYXRoIgogIHNlbGYuSUYgPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50LCBwcmlvclN0YXRlLCBuYW1lLCBzaG91bGRCZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtl");
    sb.append("ckZhbHNlKSB7CiAgICBzZWxmLklGeChwYXJlbnQsIHByaW9yU3RhdGUsIHByaW9yU3RhdGUsIG5hbWUs");
    sb.append("IHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UpOwogIH07CiAgc2VsZi5J");
    sb.append("RnggPSBmdW5jdGlvbiAocGFyZW50LCBvcmlnaW5hbFN0YXRlLCBwcmlvclN0YXRlLCBuYW1lLCBzaG91");
    sb.append("bGRCZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgdW5zdWIgPSBt");
    sb.append("YWtlX3Vuc3ViKCk7CiAgICB2YXIgc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBzaG93");
    sb.append("ID0gKHZhbHVlID8gdHJ1ZSA6IGZhbHNlKSA9PT0gc2hvdWxkQmU7CiAgICAgIGlmICh0aGlzLnNob3du");
    sb.append("ID09IHNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zaG93biA9IHNob3c7");
    sb.append("CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIHZhciBuZXh0");
    sb.append("ID0gbnVsbDsKICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJvYmplY3QiKSB7CiAgICAgICAgbmV4");
    sb.append("dCA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgICAgbmV4dCA9IHNlbGYucEkobmV4dCwgbmFtZSk7CiAg");
    sb.append("ICAgICAgaWYgKGV4cGFuZFZpZXcpIHsKICAgICAgICAgIG5leHQgPSBzZWxmLnBFVihuZXh0LCBuYW1l");
    sb.append("KTsKICAgICAgICB9CiAgICAgICAgbmV4dC5jdXJyZW50ID0gJ2RhdGEnOwogICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgIG5leHQgPSBmb3JrKG9yaWdpbmFsU3RhdGUpOwogICAgICB9CiAgICAgIC8vIHdlIGRlZmF1");
    sb.append("bHQgYmFjayB0byBkYXRhIGluIHRoZSBJRiBjYXNlCiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgbWFr");
    sb.append("ZXJUcnVlKHBhcmVudCwgbmV4dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJl");
    sb.append("bnQsIG5leHQpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXh0LCB1bnN1Yik7CiAgICB9");
    sb.append("LmJpbmQoeyBzaG93bjogJ25vJyB9KTsKICAgIHN1YnNjcmliZShwcmlvclN0YXRlLCBuYW1lLCBzZXQp");
    sb.append("OwogIH07CgogIC8vLyBSVU5USU1FIHwgcng6YWN0aW9uPWNvcHk6cGF0aAogIHNlbGYuYUNQID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIHN0YXRlLCBuYW1lKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2");
    sb.append("dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIG9iaiA9IGdldF9mb3JtKGZv");
    sb.append("cm0sIGZhbHNlKTsKICAgICAgaWYgKG5hbWUgIT0gIi4iICYmIG5hbWUgIT0gIiIpIHsKICAgICAgICB2");
    sb.append("YXIgbm8gPSB7fTsKICAgICAgICBub1tuYW1lXSA9IG9iajsKICAgICAgICBvYmogPSBubzsKICAgICAg");
    sb.append("fQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlLnZp");
    sb.append("ZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICB9OwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8aW5wdXQgLi4uIHJ4OnN5bmM9cGF0aCAuLi4+CiAgc2VsZi5TWSA9IGZ1");
    sb.append("bmN0aW9uIChlbCwgc3RhdGUsIG5hbWUsIG1zKSB7CiAgICB2YXIgdHlwZSA9ICgidHlwZSIgaW4gZWwp");
    sb.append("ID8gZWwudHlwZS50b1VwcGVyQ2FzZSgpIDogInRleHQiOwogICAgdmFyIHNpZ25hbCA9IGZ1bmN0aW9u");
    sb.append("ICh2YWx1ZSkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IGVsLnZhbHVlOwog");
    sb.append("ICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS51cGRhdGUoZGVsdGEpOwogICAgfTsKICAgIGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAg");
    sb.append("ICAgZWwub25jaGFuZ2UgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHNpZ25h");
    sb.append("bChlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHR5cGUg");
    sb.append("PT0gIlJBRElPIikgewogICAgICBlbC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5jdGlvbiAoZXZ0");
    sb.append("KSB7CiAgICAgICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIHNpZ25hbChlbC52YWx1ZSk7CiAg");
    sb.append("ICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGVsLm9uY2hhbmdlID0gZGVib3VuY2Uo");
    sb.append("bXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICB9KTsKICAg");
    sb.append("ICAgZWwub25rZXl1cCA9IGVsLm9uY2hhbmdlOwogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgc2lnbmFsKGVsLnZhbHVlKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfTsKCiAg");
    sb.append("dmFyIGZpcnN0T2NjdXIgPSBmdW5jdGlvbihhLCBiKSB7CiAgICBpZiAoYSA+IDAgJiYgYiA+IDApIHsK");
    sb.append("ICAgICAgcmV0dXJuIE1hdGgubWluKGEsIGIpOwogICAgfQogICAgaWYgKGEgPiAwKSB7CiAgICAgIHJl");
    sb.append("dHVybiBhOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGI7CiAgICB9CiAgfTsKICAvLyBIRUxQRVIg");
    sb.append("fCBleHRyYWN0IGFsbCB0aGUgaW5wdXRzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGJ1aWxkIGFu");
    sb.append("IG9iamVjdAogIHZhciBidWlsZF9vYmogPSBmdW5jdGlvbiAoZWwsIG9ialRvSW5zZXJ0SW50bywgYWxs");
    sb.append("b3dfcGFzc3dvcmRzKSB7CiAgICB2YXIganVzdFNldCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9");
    sb.append("PSAiVEVYVEFSRUEiIHx8IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiU0VMRUNUIjsKICAgIHZh");
    sb.append("ciBpc0lucHV0Qm94ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCI7CiAgICB2YXIg");
    sb.append("aXNGaWVsZFNldCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRklFTERTRVQiOwogICAgdmFy");
    sb.append("IGhhc05hbWUgPSAibmFtZSIgaW4gZWw7CiAgICB2YXIgaW5zZXJ0QXQgPSBvYmpUb0luc2VydEludG87");
    sb.append("CiAgICAvLyB0aGUgYXBwbHkgZnVuY3Rpb24gaXMgaG93IHdlIGluamVjdCB0aGUgdmFsdWUgaW50byB0");
    sb.append("aGUgb2JqZWN0CiAgICB2YXIgYXBwbHkgPSBmdW5jdGlvbiAodmFsKSB7IH07CgogICAgaWYgKGhhc05h");
    sb.append("bWUgJiYgKGp1c3RTZXQgfHwgaXNJbnB1dEJveCB8fCBpc0ZpZWxkU2V0KSkgewogICAgICB2YXIgbmFt");
    sb.append("ZSA9ICIiOwogICAgICBuYW1lID0gZWwubmFtZTsKICAgICAgaWYgKG5hbWUgPT0gIiIpIHsgLy8gdGhp");
    sb.append("cyBpcyBhIHNwZWNpYWwgbmFtZSBmb3IgdGhpbmdzIHRoYXQgZG9uJ3QgZ2V0IHBpY2tlZCB1cAogICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUu");
    sb.append("aW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdoaWxlIChrRG90T3JTbGFzaCA+");
    sb.append("IDApIHsKICAgICAgICB2YXIgcGFyID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9yU2xhc2gpOwogICAg");
    sb.append("ICAgIGlmICghKHBhciBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgIGluc2VydEF0W3Bhcl0gPSB7fTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgaW5zZXJ0QXQgPSBpbnNlcnRBdFtwYXJdOwogICAgICAgIG5hbWUgPSBu");
    sb.append("YW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGtEb3RPclNsYXNoID0gZmlyc3RP");
    sb.append("Y2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB9CgogICAgICBp");
    sb.append("ZiAobmFtZS5lbmRzV2l0aCgiKyIpKSB7CiAgICAgICAgLy8gaGVyZSwgd2UgcHVzaCB0aGUgdmFsdWUg");
    sb.append("aW50byB0aGUgYXJyYXkKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGgg");
    sb.append("LSAxKTsKICAgICAgICBhcHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBpZiAoIShuYW1lIGlu");
    sb.append("IGluc2VydEF0KSkgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXSA9IFt2XTsKICAgICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICAgIGluc2VydEF0W25hbWVdLnB1c2godik7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBoZXJlIHdlIHNldCB0aGUgb2JqZWN0CiAgICAg");
    sb.append("ICAgYXBwbHkgPSBmdW5jdGlvbiAodikgewogICAgICAgICAgaW5zZXJ0QXRbbmFtZV0gPSB2OwogICAg");
    sb.append("ICAgIH07CiAgICAgIH0KICAgIH0KCiAgICBpZiAoanVzdFNldCkgewogICAgICBhcHBseShlbC52YWx1");
    sb.append("ZSk7CiAgICB9IGVsc2UgaWYgKGlzRmllbGRTZXQpIHsKICAgICAgdmFyIG5leHRPYmplY3QgPSB7fTsK");
    sb.append("ICAgICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47");
    sb.append("CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsg");
    sb.append("aysrKSB7CiAgICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICAgIGJ1aWxkX29i");
    sb.append("aihjaCwgbmV4dE9iamVjdCwgYWxsb3dfcGFzc3dvcmRzKTsKICAgICAgICB9CiAgICAgIH0KICAgICAg");
    sb.append("YXBwbHkobmV4dE9iamVjdCk7CiAgICB9IGVsc2UgaWYgKGlzSW5wdXRCb3gpIHsKICAgICAgdmFyIHR5");
    sb.append("cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBlckNhc2UoKSA6ICJURVhUIjsKICAgICAg");
    sb.append("aWYgKHR5cGUgPT0gIlNVQk1JVCIgfHwgdHlwZSA9PSAiUkVTRVQiKSByZXR1cm47CiAgICAgIGlmICh0");
    sb.append("eXBlID09ICJQQVNTV09SRCIgJiYgIWFsbG93X3Bhc3N3b3JkcykgewogICAgICAgIHJldHVybjsKICAg");
    sb.append("ICAgfQogICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgYXBwbHkoZWwuY2hlY2tl");
    sb.append("ZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAg");
    sb.append("ICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgICB9CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsK");
    sb.append("ICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBr");
    sb.append("KyspIHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgICAgYnVpbGRfb2Jq");
    sb.append("KGNoLCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3b3Jkcyk7CiAgICAgICAgfQogICAgICB9CiAg");
    sb.append("ICB9CiAgfTsKCiAgc2VsZi5CdWlsZEZvcm1PYmplY3QgPSBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwgb2JqLCBmYWxzZSk7CiAgICByZXR1cm4gb2JqOwog");
    sb.append("IH07CgogIC8vIEhFTFBFUiB8IHJldHVybiBhbiBvYmplY3Qgb2YgYWxsIHRoZSBpbnB1dHMgb2YgdGhl");
    sb.append("IGdpdmVuIGZvcm0gZWxlbWVudAogIHZhciBnZXRfZm9ybSA9IGZ1bmN0aW9uIChmb3JtLCBhbGxvd19w");
    sb.append("YXNzd29yZHMpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIGJ1aWxkX29iaihmb3JtLCBvYmosIGFsbG93");
    sb.append("X3Bhc3N3b3Jkcyk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIEhFTFBFUiB8IHJldHVybiBhIHBh");
    sb.append("c3N3b3JkIGZyb20gdGhlIGdpdmVuIGZvcm0KICB2YXIgZ2V0X3Bhc3N3b3JkID0gZnVuY3Rpb24gKGVs");
    sb.append("KSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIgJiYgZWwudHlwZS50");
    sb.append("b1VwcGVyQ2FzZSgpID09ICJQQVNTV09SRCIpIHsKICAgICAgcmV0dXJuIFtlbC5uYW1lLCBlbC52YWx1");
    sb.append("ZV07CiAgICB9CiAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIgYXJyID0gZWwuY2hp");
    sb.append("bGRyZW47CiAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBu");
    sb.append("OyBrKyspIHsKICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICB2YXIgcmVzdWx0");
    sb.append("ID0gZ2V0X3Bhc3N3b3JkKGNoKTsKICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7CiAgICAgICAg");
    sb.append("ICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7CiAg");
    sb.append("fTsKCiAgdmFyIHdyYXBwZXJzID0ge307CiAgdmFyIHdyYXBwZXJzX29ubG9hZCA9IHt9OwogIHNlbGYu");
    sb.append("UFJXUCA9IGZ1bmN0aW9uIChuYW1lLCBmb28pIHsKICAgIHdyYXBwZXJzW25hbWVdID0gZm9vOwogICAg");
    sb.append("aWYgKG5hbWUgaW4gd3JhcHBlcnNfb25sb2FkKSB7CiAgICAgIHZhciB0b2xvYWQgPSB3cmFwcGVyc19v");
    sb.append("bmxvYWRbbmFtZV07CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdG9sb2FkLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgdG9sb2FkW2tdKCk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyA8Li4uIHJ4OndyYXA9");
    sb.append("Y29uc3QgPgogIHNlbGYuV1AgPSBmdW5jdGlvbiAoZG9tLCBzdGF0ZSwgbmFtZSwgcnhvYmosIGNoaWxk");
    sb.append("TWFrZXJXaXRoQ2FzZSkgewogICAgaWYgKG5hbWUgaW4gd3JhcHBlcnMpIHsKICAgICAgd3JhcHBlcnNb");
    sb.append("bmFtZV0oZG9tLCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwgc2VsZik7CiAgICB9IGVs");
    sb.append("c2UgewogICAgICB2YXIgbG9hZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdyYXBwZXJzW25hbWVd");
    sb.append("KGRvbSwgc3RhdGUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UsIHNlbGYpOwogICAgICB9OwogICAg");
    sb.append("ICBpZiAobmFtZSBpbiB3cmFwcGVyc19vbmxvYWQpIHsKICAgICAgICB3cmFwcGVyc19vbmxvYWRbbmFt");
    sb.append("ZV0ucHVzaChsb2FkZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIHdyYXBwZXJzX29ubG9hZFtuYW1l");
    sb.append("XSA9IFtsb2FkZXJdOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJlZ2lzdGVyIHRo");
    sb.append("ZSBwYWdlIGZvciB0aGUgdXJpIHRvIHRoZSBnaXZlbiBmb28oKS4KICBzZWxmLlBHID0gZnVuY3Rpb24g");
    sb.append("KHVyaSwgZm9vKSB7CiAgICB2YXIgaGVhZCA9IHJvdXRlcjsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("dXJpLmxlbmd0aDsgaysrKSB7CiAgICAgIHZhciBwYXJ0ID0gdXJpW2tdOwogICAgICBpZiAoIShwYXJ0");
    sb.append("IGluIGhlYWQpKSB7CiAgICAgICAgaGVhZFtwYXJ0XSA9IHt9OwogICAgICB9CiAgICAgIGhlYWQgPSBo");
    sb.append("ZWFkW3BhcnRdOwogICAgfQogICAgaGVhZFsiQCJdID0gZm9vOwogIH07CgogIHZhciByb3V0ZSA9IGZ1");
    sb.append("bmN0aW9uIChwYXJ0cywgYXQsIGhlYWQsIHZpZXcpIHsKICAgIGlmIChhdCA8IHBhcnRzLmxlbmd0aCkg");
    sb.append("ewogICAgICBpZiAoIm51bWJlciIgaW4gaGVhZCkgewogICAgICAgIHZhciBuZWNrID0gaGVhZFsibnVt");
    sb.append("YmVyIl07CiAgICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQocGFydHNbYXRdKTsKICAgICAgICBpZiAo");
    sb.append("IWlzTmFOKHZhbCkpIHsKICAgICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZpZXdbYnJhbmNoXSA9IHZhbDsKICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBh");
    sb.append("cnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7CiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUg");
    sb.append("IT09IG51bGwpIHsKICAgICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgIGRlbGV0ZSB2aWV3W2JyYW5jaF07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAg");
    sb.append("fQogICAgICBpZiAoInRleHQiIGluIGhlYWQpIHsKICAgICAgICB2YXIgbmVjayA9IGhlYWRbInRleHQi");
    sb.append("XTsKICAgICAgICB2YXIgdmFsID0gcGFydHNbYXRdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBu");
    sb.append("ZWNrKSB7CiAgICAgICAgICB2aWV3W2JyYW5jaF0gPSB2YWw7CiAgICAgICAgICB2YXIgY2FuZGlkYXRl");
    sb.append("ID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAgIGlmIChj");
    sb.append("YW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIGRlbGV0ZSB2aWV3W2JyYW5jaF07CiAgICAgICAgfQogICAgICB9CiAgICAgIGlm");
    sb.append("ICgiZml4ZWQiIGluIGhlYWQpIHsKICAgICAgICB2YXIgbmVjayA9IGhlYWRbImZpeGVkIl07CiAgICAg");
    sb.append("ICAgZm9yICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgIGlmIChicmFuY2ggPT0gcGFydHNb");
    sb.append("YXRdKSB7CiAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAxLCBuZWNr");
    sb.append("W2JyYW5jaF0sIHZpZXcpOwogICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAg");
    sb.append("ICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAg");
    sb.append("IH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJAIiBpbiBoZWFkKSB7CiAgICAgICAgcmV0");
    sb.append("dXJuIGhlYWRbIkAiXTsKICAgICAgfQogICAgfQogIH07CgogIHNlbGYuZ290byA9IGZ1bmN0aW9uICh1");
    sb.append("cmkpIHsKICAgIGNvbnNvbGUubG9nKCJnb2luZyB0bzoiICsgdXJpKTsKICAgIHdpbmRvdy5zZXRUaW1l");
    sb.append("b3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHVyaS5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgICBz");
    sb.append("ZWxmLnJ1bihkb2N1bWVudC5ib2R5LCB1cmksIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHdp");
    sb.append("bmRvdy5sb2NhdGlvbi5ocmVmID0gZml4SHJlZih1cmkpOwogICAgICB9CiAgICB9LCAxMCk7CiAgfTsK");
    sb.append("CiAgc2VsZi5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4");
    sb.append("UGF0aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNl");
    sb.append("KTsKICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgICBzZWxmLnJ1bihkb2N1");
    sb.append("bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlv");
    sb.append("bi5oYXNoKSwgZmFsc2UpOwogICAgfTsKICB9OwoKICAvLyBBUEkgfCBSdW4gdGhlIHBhZ2UgaW4gdGhl");
    sb.append("IGdpdmVuIHBsYWNlCiAgc2VsZi5ydW4gPSBmdW5jdGlvbiAod2hlcmUsIHJhd1BhdGgsIHB1c2gpIHsK");
    sb.append("ICAgIHZhciBwYXRoID0gcmF3UGF0aDsKICAgIHdoaWxlIChwYXRoLmVuZHNXaXRoKCIvIikgJiYgcGF0");
    sb.append("aCAhPSAiLyIpIHsKICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoIC0gMSk7");
    sb.append("CiAgICB9CiAgICBmb3IgKGNvbktleSBpbiBjb25uZWN0aW9ucykgewogICAgICBjb25uZWN0aW9uc1tj");
    sb.append("b25LZXldLnRyZWUubnVrZSgpOwogICAgICBjb25uZWN0aW9uc1tjb25LZXldLm51a2UoKTsKICAgIH0K");
    sb.append("ICAgIHZhciBwYXJ0cyA9IChwYXRoLnN0YXJ0c1dpdGgoIi8iKSA/IHBhdGguc3Vic3RyaW5nKDEpIDog");
    sb.append("cGF0aCkuc3BsaXQoIi8iKTsKICAgIHZhciBpbml0ID0ge307CiAgICB0cnkgewogICAgICBpbml0LnZp");
    sb.append("ZXdlcl90aW1lem9uZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1l");
    sb.append("Wm9uZTsKICAgICAgaW5pdC52aWV3ZXJfbGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7CiAgICB9");
    sb.append("IGNhdGNoIChicm93c2VyQmFkKSB7CiAgICAgIC8vIHdlIGp1c3QgZG9uJ3Qgc2VlIHRoZSB2aWV3c3Rh");
    sb.append("dGUgaWYgd2UgZG9uJ3QgaGF2ZSB0aGVzZSBhdmFpbGFibGUKICAgIH0KICAgIHZhciBmb28gPSByb3V0");
    sb.append("ZShwYXJ0cywgMCwgcm91dGVyLCBpbml0KTsKICAgIG51a2Uod2hlcmUpOwogICAgaWYgKGZvbyAhPSBu");
    sb.append("dWxsKSB7CiAgICAgIHZhciBzdGF0ZSA9IHsgc2VydmljZTogY29ubmVjdGlvbiwgZGF0YTogbnVsbCwg");
    sb.append("dmlldzogZnJlc2god2hlcmUpLCBjdXJyZW50OiAidmlldyIgfTsKICAgICAgc3RhdGUudmlldy5pbml0");
    sb.append("ID0gaW5pdDsKICAgICAgZm9vKHdoZXJlLCBzdGF0ZSk7CiAgICAgIHN0YXRlLnZpZXcudHJlZS5zdWJz");
    sb.append("Y3JpYmUoc3RhdGUudmlldy5kZWx0YSk7CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoaW5pdCk7");
    sb.append("CiAgICAgIGlmIChwdXNoKSB7CiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAiIiwg");
    sb.append("Zml4SHJlZihwYXRoKSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChwYXRoICE9ICIvNDA0");
    sb.append("IikgewogICAgICAgIHNlbGYucnVuKHdoZXJlLCAiLzQwNCIpOwogICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("IC8vIGRlZmF1bHQgNDA0CiAgICAgIH0KICAgIH0KICAgIHdoZXJlLmFwcGVuZENoaWxkKGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tKTsKICB9OwoKICB2YXIgaWRlbnRpdGllcyA9IHt9OwoKICBzZWxmLlNJR05PVVQg");
    sb.append("PSBmdW5jdGlvbiAoKSB7CiAgICBpZGVudGl0aWVzID0ge307CiAgICBsb2NhbFN0b3JhZ2UucmVtb3Zl");
    sb.append("SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIpOwogICAgdmFyIGF4ZSA9IFtdOwogICAgZm9yICh2YXIgY2lk");
    sb.append("IGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHZhciBjbyA9IGNvbm5lY3Rpb25zW2NpZF07CiAgICAgIGlm");
    sb.append("IChjby5wdHIgIT0gbnVsbCkgewogICAgICAgIGNvLnB0ci5lbmQoeyBzdWNjZXNzOiBmdW5jdGlvbiAo");
    sb.append("KSB7IH0sIGZhaWx1cmU6IGZ1bmN0aW9uICgpIHsgfSB9KTsKICAgICAgfQogICAgICBheGUucHVzaChj");
    sb.append("aWQpOwogICAgfQogICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAg");
    sb.append("ZGVsZXRlIGNvbm5lY3Rpb25zW2F4ZVtrXV07CiAgICB9CgogICAgc2VsZi5nb3RvKCIvIik7CiAgfTsK");
    sb.append("CiAgc2VsZi5HT09HTEVfU0lHTl9PTiA9IGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikgewogICAgY29ubmVj");
    sb.append("dGlvbi5Jbml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHsKICAgICAgc3VjY2VzczogZnVu");
    sb.append("Y3Rpb24gKHBheWxvYWQpIHsKICAgICAgICBpZGVudGl0aWVzWyJkZWZhdWx0Il0gPSBwYXlsb2FkLmlk");
    sb.append("ZW50aXR5OwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV9kZWZhdWx0IiwgcGF5");
    sb.append("bG9hZC5pZGVudGl0eSk7CiAgICAgICAgc2VsZi5nb3RvKCIvIik7CiAgICAgIH0sCiAgICAgIGZhaWx1");
    sb.append("cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBjb25zb2xlLmxvZygiR29vZ2xlIGZhaWx1cmU6");
    sb.append("ICIgKyByZWFzb24pOwogICAgICB9CiAgICB9KTsKICB9OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0");
    sb.append("IHRvIGEgcGFnZSB3aXRoIHN0YXRlICovCiAgc2VsZi5hUkRwID0gZnVuY3Rpb24gKHN0YXRlLCBwdWxs");
    sb.append("ZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1cmkgPSBwdWxsZXIoc3RhdGUu");
    sb.append("dmlldy5pbml0KTsKICAgICAgcmV0dXJuIHVyaTsKICAgIH07CiAgfTsKCiAgLyoqIFJVTlRJTUUgfCBy");
    sb.append("ZWRpcmVjdCB0byBhIHN0YXRpYyBwYWdlICovCiAgc2VsZi5hUkR6ID0gZnVuY3Rpb24gKHJhdykgewog");
    sb.append("ICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJhdzsKICAgIH0KICB9OwoKICAvKiog");
    sb.append("Zm9yIGN1c3RvbSBlbGVtZW50cyB0byBsZWFybiBvZiB0aGUgaWRlbnRpdHkgKi8KICBzZWxmLklEID0g");
    sb.append("ZnVuY3Rpb24gKGlkZW50aXR5TmFtZSwgcmVkaXJlY3RUb0Z1bmMpIHsKICAgIGlmIChpZGVudGl0eU5h");
    sb.append("bWUgPT09IHRydWUpIHsKICAgICAgaWRlbnRpdHlOYW1lID0gImRlZmF1bHQiOwogICAgfQogICAgLy8g");
    sb.append("SUYgaWRlbnRpdHkgY29udGFpbnMgZG90cwogICAgdmFyIGlkZW50aXR5ID0gbnVsbDsKICAgIHZhciBj");
    sb.append("bGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgfTsKCiAgICB2YXIgdmFsID0gbG9jYWxTdG9yYWdlLmdl");
    sb.append("dEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgaWYgKHZhbCkgewogICAgICBpZGVu");
    sb.append("dGl0aWVzW2lkZW50aXR5TmFtZV0gPSB2YWw7CiAgICB9CgogICAgaWYgKGlkZW50aXR5TmFtZS5zdGFy");
    sb.append("dHNXaXRoKCJkaXJlY3Q6IikpIHsKICAgICAgLy8gVXNlLCBhcyBpcwogICAgICBpZGVudGl0eSA9IGlk");
    sb.append("ZW50aXR5TmFtZS5zdWJzdHJpbmcoNyk7CiAgICB9IGVsc2UgaWYgKGlkZW50aXR5TmFtZSBpbiBpZGVu");
    sb.append("dGl0aWVzKSB7CiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdOwogICAgICBj");
    sb.append("bGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0ZSBpZGVudGl0aWVzW2lkZW50aXR5TmFt");
    sb.append("ZV07CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5h");
    sb.append("bWUpOwogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygpKTsKICAgICAgfTsKICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgIC8vIHdoYXRldmVyIHBhZ2Ugd2UgYXJlLCBuZWVkcyB0byBkaWUgd2hpY2ggbWVhbnMg");
    sb.append("d2UgbmVlZCB0byBudWtlIGV2ZXJ5dGhpbmchCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgICBzZWxmLmdvdG8ocmVkaXJlY3RUb0Z1bmMoKSk7CiAgICAgIH0sIDEwKTsKICAg");
    sb.append("ICAgcmV0dXJuIHsgYWJvcnQ6IHRydWUgfTsKICAgIH0KCiAgICByZXR1cm4geyBhYm9ydDogZmFsc2Us");
    sb.append("IGNsZWFudXA6IGNsZWFudXAsIGlkZW50aXR5OiBpZGVudGl0eSB9OwogIH07CgogIC8qIEZvciBjdXN0");
    sb.append("b20gY2FsbGJhY2tzIHRvIHJlZGlyZWN0IGFuZCBpbnZhbGlkYXRlIElEIGZhaWx1cmVzICovCiAgc2Vs");
    sb.append("Zi5GSURDTCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbG9va3VwKSB7CiAgICByZXR1cm4gewogICAgICBz");
    sb.append("dWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY2FsbGJhY2suc3VjY2VzcyhyZXN1bHQp");
    sb.append("OwogICAgICB9LAogICAgICBuZXh0OiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGNhbGxiYWNrLm5l");
    sb.append("eHQoaXRlbSk7CiAgICAgIH0sCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2Fs");
    sb.append("bGJhY2suY29tcGxldGUoKTsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikg");
    sb.append("ewogICAgICAgIGNhbGxiYWNrLmZhaWx1cmUocmVhc29uKTsKICAgICAgICBpZiAocmVhc29uID09IDQw");
    sb.append("MzQwMyB8fCByZWFzb24gPT0gNDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAgIGxv");
    sb.append("b2t1cC5jbGVhbnVwKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH07CgogIHZhciBjdXN0b21E");
    sb.append("YXRhU291cmNlcyA9IHt9OwoKICAvKiogcHJvdmlkZSBjdXN0b20gZGF0YSAqLwogIHNlbGYuUFJDVURB");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9tRGF0YVNvdXJjZXNbbmFtZV0gPSBmb287");
    sb.append("CiAgfTsKCiAgLy8gPGN1c3RvbWRhdGEgc3JjPXNyYyAocGFyYW1ldGVyOng9eSkqID4KICBzZWxmLkNV");
    sb.append("REEgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBzcmMsIHJ4b2JqLCByZWRpcmVjdFRvLCBj");
    sb.append("aGlsZE1ha2VyKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeG9iai5fXyA9IGRl");
    sb.append("Ym91bmNlKDEwLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICBudWtl");
    sb.append("KHBhcmVudCk7CiAgICAgIHZhciBjdXN0b21UcmVlID0gZmFsc2U7CiAgICAgIGlmIChzcmMgaW4gY3Vz");
    sb.append("dG9tRGF0YVNvdXJjZXMpIHsKICAgICAgICB2YXIgY29ucyA9IGN1c3RvbURhdGFTb3VyY2VzW3NyY107");
    sb.append("CiAgICAgICAgaWYgKHR5cGVvZiAoY29ucykgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY3VzdG9t");
    sb.append("VHJlZSA9IGNvbnMocnhvYmosIHByaW9yU3RhdGUsIHJlZGlyZWN0VG8sIHNlbGYpOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgICBpZiAoIWN1c3RvbVRyZWUpIHsKICAgICAgICBjdXN0b21UcmVlID0gbmV3IEFk");
    sb.append("YW1hVHJlZSgpOwogICAgICB9CiAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICBzZXJ2aWNlOiBwcmlv");
    sb.append("clN0YXRlLnNlcnZpY2UsCiAgICAgICAgZGF0YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5l");
    sb.append("Y3Rpb24sIHRyZWU6IGN1c3RvbVRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxs");
    sb.append("IH0sCiAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgICBj");
    sb.append("dXJyZW50OiAiZGF0YSIKICAgICAgfTsKICAgICAgY2hpbGRNYWtlcihzdGF0ZSk7CiAgICAgIHN1YnNj");
    sb.append("cmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgfSk7CiAgfTsKCiAgLy8gPHRpdGxlIHZhbHVlPSIu");
    sb.append("Li4iIC8+CiAgc2VsZi5TVCA9IGZ1bmN0aW9uIChyeG9iaikgewogICAgZG9jdW1lbnQudGl0bGUgPSBy");
    sb.append("eG9iai52YWx1ZTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoMSwgZnVuY3Rpb24gKCkgewogICAgICBk");
    sb.append("b2N1bWVudC50aXRsZSA9IHJ4b2JqLnZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5jPgog");
    sb.append("IHNlbGYuVlN5ID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWlsKSB7");
    sb.append("CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlv");
    sb.append("bi5zdWJzY3JpYmVfc3luYyhmdW5jdGlvbiAoc3luY2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsKICAg");
    sb.append("ICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAg");
    sb.append("ICAgIGlmIChzeW5jZWQpIHsKICAgICAgICBhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNl");
    sb.append("IHsKICAgICAgICBub3RhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVf");
    sb.append("c3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAg");
    sb.append("ICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsKCiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVuY3Rp");
    sb.append("b24gKGNvLCBzdGF0ZSwgY2xlYW51cCwgcmV0cnlfc20pIHsKICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRf");
    sb.append("ZXJyb3JzID0gMDsKICAgIHJldHJ5X3NtLmJhY2tvZmYgPSAxOwogICAgcmV0dXJuIHsKICAgICAgbmV4");
    sb.append("dDogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICBjby5kZWJ1Z2dlcihwYXlsb2FkKTsKICAgICAg");
    sb.append("ICBjby5zZXRfY29ubmVjdGVkKHRydWUpOwogICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3Jz");
    sb.append("ID0gMDsKICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gMTsKICAgICAgICBpZiAoImRhdGEiIGluIHBh");
    sb.append("eWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNvLnRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0YSk7");
    sb.append("CiAgICAgICAgfQogICAgICAgIGlmICgib3V0c3RhbmRpbmciIGluIHBheWxvYWQuZGVsdGEpIHsKICAg");
    sb.append("ICAgICAgIGNvLm9uZGVjaWRlKHBheWxvYWQuZGVsdGEub3V0c3RhbmRpbmcpOwogICAgICAgIH0KICAg");
    sb.append("ICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc3RhdGUudmll");
    sb.append("dy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIGlm");
    sb.append("ICgnbG9nJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2FkLmRl");
    sb.append("bHRhLmxvZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3BvcnQnIGluIHBheWxvYWQuZGVsdGEg");
    sb.append("JiYgJ21lc3NhZ2UnIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBh");
    sb.append("eWxvYWQuZGVsdGEudmlld3BvcnQ7CiAgICAgICAgICBpZiAodmlld3BvcnQgaW4gY28uaGFuZGxlcnMp");
    sb.append("IHsKICAgICAgICAgICAgY28uaGFuZGxlcnNbdmlld3BvcnRdKHBheWxvYWQuZGVsdGEubWVzc2FnZSwg");
    sb.append("Y28pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVyJyBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICB2YXIgZmlsdGVyID0ge307CiAgICAgICAgICB2YXIg");
    sb.append("a2V5cyA9IHBheWxvYWQuZGVsdGFbJ3ZpZXctc3RhdGUtZmlsdGVyJ107CiAgICAgICAgICBmb3IgKHZh");
    sb.append("ciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgZmlsdGVyW2tleXNba11d");
    sb.append("ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGNvLmZpbHRlciA9IGZpbHRlcjsKICAgICAgICAg");
    sb.append("IGNvLmhhc19maWx0ZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoJ2dvdG8nIGluIHBheWxv");
    sb.append("YWQuZGVsdGEpIHsKICAgICAgICAgIHNlbGYuZ290byhwYXlsb2FkLmRlbHRhLmdvdG8pOwogICAgICAg");
    sb.append("IH0KICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBzaG91bGRu");
    sb.append("J3QgcmVhbGlzdGljYWxseSBoYXBwZW4gVE9ETzogdmFsaWRhdGUgPC0gdHJ1dGgKICAgICAgICBjby5z");
    sb.append("ZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBjby5wdHIgPSBudWxsOwogICAgICB9LAogICAgICBm");
    sb.append("YWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGZhaWx1cmUK");
    sb.append("ICAgICAgICBjby5zZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBjby5wdHIgPSBudWxsOwogICAg");
    sb.append("ICAgIGlmIChyZWFzb24gPT0gNDAzNDAzIHx8IHJlYXNvbiA9PSA0MDM1MDAgfHwgcmVhc29uID09IDE4");
    sb.append("NDMzMykgewogICAgICAgICAgY2xlYW51cCgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAg");
    sb.append("ICAgICAvLyBpcyBpdCBhbiBleHBlY3RlZCBlcnJvciB0aGF0IHdpbGwgaGFwcGVuIGEgYnVuY2g/CiAg");
    sb.append("ICAgICAgdmFyIGV4cGVjdGVkX2Vycm9yID0gcmVhc29uID09IDk5OTsKICAgICAgICAvLyBkbyB3ZSBu");
    sb.append("b3Qga25vdyBhYm91dCBhbiBlcnJvciB0aGF0IGhhcHBlbnMgYSBidW5jaD8gaWYgc28sIHRoZW4gbGV0");
    sb.append("J3MgYXQgbGVhc3QgdHJ5IGFnYWluIGEgbnVtYmVyIG9mIGZpbml0ZSB0aW1lcy4KICAgICAgICB2YXIg");
    sb.append("YmxpbmRfcmV0cnkgPSByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA8IDEwOwogICAgICAgIGlmIChi");
    sb.append("bGluZF9yZXRyeSkgewogICAgICAgICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMrKzsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgLy8gcmV0cnkgb24gZWl0aGVyIGNhc2UKICAgICAgICBpZiAoZXhwZWN0ZWRfZXJy");
    sb.append("b3IgfHwgYmxpbmRfcmV0cnkpIHsKICAgICAgICAgIHJldHJ5X3NtLmJhY2tvZmYgPSBNYXRoLmNlaWwo");
    sb.append("TWF0aC5taW4ocmV0cnlfc20uYmFja29mZiArIE1hdGgucmFuZG9tKCkgKiByZXRyeV9zbS5iYWNrb2Zm");
    sb.append("ICsgKGJsaW5kX3JldHJ5ID8gMTAwIDogMSksIDEwMDApKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJj");
    sb.append("b25uZWN0LWZhaWx1cmV8cmV0cnlpbmcuLi4gKCIgKyByZXRyeV9zbS5iYWNrb2ZmICsgIik7IHJlYXNv");
    sb.append("bj0iICsgcmVhc29uICsgKGJsaW5kX3JldHJ5ID8gIiBbYmxpbmRdIiA6ICIiKSk7CiAgICAgICAgICAv");
    sb.append("LyBUT0RPOiBuZWVkIGEgZGlmZmVyZW50IGZlZWRiYWNrIG1lY2hhbmlzbSAobWF5YmUgYSBudW1iZXIg");
    sb.append("dW5kZXIgdGhlIHdpZmkgaWNvbj8pCiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigp");
    sb.append("IHsKICAgICAgICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgICAgIH0sIHJldHJ5X3NtLmJhY2tvZmYp");
    sb.append("OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ2F2ZSB1cCBjb25uZWN0aW9u");
    sb.append("OyIgKyBjby5sYWJlbCArICI7IHJlYXNvbj0iICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0KICAg");
    sb.append("IH0KICB9OwoKICB2YXIgc2V0dXBfY28gPSBmdW5jdGlvbihkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRl");
    sb.append("KSB7CiAgICB2YXIgc3luY190cmVlID0gZnVuY3Rpb24gKCkgewogICAgICAvLyBsZXQncyBjb3B5IG91");
    sb.append("dCB0aGUgdHJlZSBmcm9tIHRoZSB2aWV3c3RhdGUKICAgICAgdmFyIG5ld190cmVlID0gc2FmZV9maWx0");
    sb.append("ZXIoc3RhdGUudmlldy50cmVlLmNvcHkoKSk7CgogICAgICAvLyBpZiB3ZSBoYXZlIGdvdCBhIGZpbHRl");
    sb.append("ciBmcm9tIHRoZSBzZXJ2ZXIsIHRoZW4gbGV0J3MgZmlsdGVyCiAgICAgIGlmIChjby5oYXNfZmlsdGVy");
    sb.append("KSB7CiAgICAgICAgLy8gcmVjb25zdHJ1Y3QgdGhlIG5ldyB2aWV3IGJhc2VkIG9uIHRoZSBpbnRlcnNl");
    sb.append("Y3Rpb24gb2YgdGhlIGZpbHRlciBhbmQgdGhlIG5ldyBzdGF0ZQogICAgICAgIHZhciBmaWx0ZXJlZCA9");
    sb.append("IHt9OwogICAgICAgIGZvciAodmFyIGsgaW4gbmV3X3RyZWUpIHsKICAgICAgICAgIGlmIChjby5maWx0");
    sb.append("ZXJba10pIHsKICAgICAgICAgICAgZmlsdGVyZWRba10gPSBuZXdfdHJlZVtrXTsKICAgICAgICAgIH0K");
    sb.append("ICAgICAgICB9CiAgICAgICAgLy8gYXNzdW1lIHRoZSBuZXcgdHJlZQogICAgICAgIG5ld190cmVlID0g");
    sb.append("ZmlsdGVyZWQ7CiAgICAgIH0KICAgICAgLy8gaWYgdGhlIGNsb25lIChpLmUuIHN0cmluZ2lmaWVkIHZl");
    sb.append("cnNpb24pIGlzIHRoZSBzYW1lIGFzIHdoYXQgd2UgbGFzdCBzZW50LCB0aGVuIGRvbid0IHNlbmQgYW55");
    sb.append("dGhpbmcKICAgICAgdmFyIHByaW9yX2Nsb25lID0gSlNPTi5zdHJpbmdpZnkobmV3X3RyZWUpOwogICAg");
    sb.append("ICBpZiAocHJpb3JfY2xvbmUgPT0gY28udmlld3N0YXRlX2Nsb25lKSB7CiAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICB9CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gZmFsc2U7CiAgICAgIGNvLnZzc2VxKys7CiAg");
    sb.append("ICAgIGNvLnN5bmMoKTsKICAgICAgdmFyIHN5bmNlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAo");
    sb.append("Y28udnNzZXEgPT0gdGhpcy5ib3VuZCkgewogICAgICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVl");
    sb.append("OwogICAgICAgICAgY28uc3luYygpOwogICAgICAgIH0KICAgICAgfS5iaW5kKHsgYm91bmQ6IGNvLnZz");
    sb.append("c2VxIH0pOwogICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSBKU09OLnN0cmluZ2lmeShuZXdfdHJlZSk7");
    sb.append("CiAgICAgIGNvLnB0ci51cGRhdGUobmV3X3RyZWUsIHsgc3VjY2Vzczogc3luY2VkLCBmYWlsdXJlOiBz");
    sb.append("eW5jZWQgfSk7CiAgICB9OwogICAgdmFyIGJpbmQgPSBmdW5jdGlvbiAoc2VuZE5vdykgewogICAgICB1");
    sb.append("bnN1Yi52aWV3ID0gc3RhdGUudmlldy50cmVlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("aWYgKGNvLnB0ciA9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHN5");
    sb.append("bmNfdHJlZSgpOwogICAgICB9KTsKICAgICAgaWYgKHNlbmROb3cpIHsKICAgICAgICBzeW5jX3RyZWUo");
    sb.append("KTsKICAgICAgfQogICAgfTsKICAgIGlmIChjby5wdHIgIT0gbnVsbCAmJiBjby5ib3VuZCA9PSBkZXNp");
    sb.append("cmVkKSB7CiAgICAgIGJpbmQodHJ1ZSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGlmIChj");
    sb.append("by5wdHIgIT0gbnVsbCkgewogICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkgeyB9");
    sb.append("LCBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIGNvLnB0ciA9IG51bGw7CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gYmluZDsKICB9OwoKICAvLyA8Y29ubmVjdGlvbiBiaWxsaW5nIC4uLj4KICBzZWxmLkJD");
    sb.append("T05ORUNUID0gZnVuY3Rpb24gKHN0YXRlLCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2");
    sb.append("aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUs");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4b2JqKSkgewogICAgICAgIHJldHVy");
    sb.append("bjsKICAgICAgfQogICAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5j");
    sb.append("dGlvbiAoKSB7IHJldHVybiByeG9iai5yZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9y");
    sb.append("dCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9v");
    sb.append("YmoocnhvYmoubmFtZSk7CiAgICAgIHZhciBkZXNpcmVkID0gIjpiaWxsaW5nOiIgKyBpZExvb2t1cC5p");
    sb.append("ZGVudGl0eTsKICAgICAgdmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRl");
    sb.append("KTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAg");
    sb.append("IGNvLmJvdW5kID0gZGVzaXJlZDsKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7");
    sb.append("CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwog");
    sb.append("ICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAgICBj");
    sb.append("by52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkJpbGxpbmcgWyAiICsgcnhv");
    sb.append("YmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2JpbGxpbmcgPSB0cnVlOwogICAgICBjby52aWFfZG9t");
    sb.append("YWluID0gZmFsc2U7CiAgICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25k");
    sb.append("ZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgc3RhdGUsIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0");
    sb.append("cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAg");
    sb.append("ICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXRyeV9zbS5yZXNwb25kZXIpOwogICAgICB9");
    sb.append("OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVlLnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQo");
    sb.append("ZmFsc2UpOwogICAgfSk7CiAgfTsKCgogIC8vIDxjb25uZWN0aW9uIHVzZS1kb21haW4gLi4uPgogIHNl");
    sb.append("bGYuRENPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAg");
    sb.append("ICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3Vu");
    sb.append("Y2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoISgnbmFtZScgaW4gcnhvYmopKSB7CiAgICAgICAg");
    sb.append("cmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQocnhvYmouaWRlbnRpdHks");
    sb.append("IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAgICAgaWYgKGlkTG9va3Vw");
    sb.append("LmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0");
    sb.append("aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRvbWFpbiA9IGxvY2F0aW9uLmhvc3Quc3BsaXQo");
    sb.append("IjoiKVswXTsKICAgICAgdmFyIGRlc2lyZWQgPSBkb21haW4gKyBpZExvb2t1cC5pZGVudGl0eTsKICAg");
    sb.append("ICAgdmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYg");
    sb.append("KGJpbmQgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0g");
    sb.append("ZGVzaXJlZDsKCiAgICAgIHZhciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIg");
    sb.append("Y2xlYW51cCA9IGlkTG9va3VwLmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uaWRl");
    sb.append("bnRpdHkgPSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7fTsKICAgICAgY28udmlld3N0YXRl");
    sb.append("X3NlbnQgPSB0cnVlOwogICAgICBjby5sYWJlbCA9ICJEb21haW46IiArIGRvbWFpbiArICIgWyAiICsg");
    sb.append("cnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9IHRydWU7CiAgICAgIGNvLnZpYV9i");
    sb.append("aWxsaW5nID0gZmFsc2U7CiAgICAgIGNvLmRvbWFpbiA9IGRvbWFpbjsKICAgICAgdmFyIHJldHJ5X3Nt");
    sb.append("ID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVzcG9uZGVyKGNvLCBzdGF0ZSwg");
    sb.append("Y2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9uKCkgewogICAgICAg");
    sb.append("IC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSAie30iOwog");
    sb.append("ICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0");
    sb.append("eSwgZG9tYWluLCBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRyZWUuY29weSgpKSwgcmV0cnlfc20ucmVz");
    sb.append("cG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgY28udHJlZS51cGRhdGUo");
    sb.append("e30pOwogICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07CgogIC8vIDxjb25uZWN0aW9uIC4uLj4K");
    sb.append("ICBzZWxmLkNPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7");
    sb.append("CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVi");
    sb.append("b3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdmFsaWQgPSAna2V5JyBpbiByeG9iaiAmJiAn");
    sb.append("c3BhY2UnIGluIHJ4b2JqICYmICduYW1lJyBpbiByeG9iajsKICAgICAgaWYgKCF2YWxpZCkgewogICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50");
    sb.append("aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExv");
    sb.append("b2t1cC5hYm9ydCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgY28gPSBnZXRfY29u");
    sb.append("bmVjdGlvbl9vYmoocnhvYmoubmFtZSk7CiAgICAgIHZhciBkZXNpcmVkID0gcnhvYmouc3BhY2UgKyAi");
    sb.append("LyIgKyByeG9iai5rZXkgKyAiLyIgKyBpZExvb2t1cC5pZGVudGl0eTsgLy8gVE9ETzogbmVlZCBzb21l");
    sb.append("IGtpbmQgb2YgaGFzaGluZyBmdW5jdGlvbiBoZXJlCiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28oZGVz");
    sb.append("aXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CgogICAgICB2YXIgaWRlbnRp");
    sb.append("dHkgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVhbnVw");
    sb.append("OwogICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLnNwYWNlID0gcnhvYmouc3BhY2U7CiAgICAgIGNv");
    sb.append("LmtleSA9IHJ4b2JqLmtleTsKICAgICAgY28uaWRlbnRpdHkgPSBpZGVudGl0eTsKICAgICAgY28uaGFu");
    sb.append("ZGxlcnMgPSB7fTsKICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICBjby5sYWJlbCA9");
    sb.append("IGNvLnNwYWNlICsgIi8iICsgY28ua2V5ICsgIiBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBj");
    sb.append("by52aWFfZG9tYWluID0gZmFsc2U7CiAgICAgIGNvLnZpYV9iaWxsaW5nID0gZmFsc2U7CiAgICAgIHZh");
    sb.append("ciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25kZXIgPSBiaW5kX3Jlc3BvbmRlcihj");
    sb.append("bywgc3RhdGUsIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5jdGlvbigp");
    sb.append("IHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRlX2Nsb25l");
    sb.append("ID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGUoaWRlbnRp");
    sb.append("dHksIHJ4b2JqLnNwYWNlLCByeG9iai5rZXksIHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJlZS5jb3B5");
    sb.append("KCkpLCByZXRyeV9zbS5yZXNwb25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAg");
    sb.append("ICBjby50cmVlLnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgc2Vs");
    sb.append("Zi5JTlRFUk5BTCA9IGZ1bmN0aW9uIChwcmlvclN0YXRlKSB7CiAgICByZXR1cm4gewogICAgICBzZXJ2");
    sb.append("aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogbnVsbCwgdHJl");
    sb.append("ZTogbmV3IEFkYW1hVHJlZSgpLCBkZWx0YToge30sIHBhcmVudDogbnVsbCwgcGF0aDogbnVsbCB9LAog");
    sb.append("ICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICBjdXJyZW50OiAi");
    sb.append("ZGF0YSIKICAgIH07CiAgfTsKCiAgdmFyIHJlY2FsbF9lbWFpbCA9IGZ1bmN0aW9uIChlbCkgewogICAg");
    sb.append("aWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiSU5QVVQiKSB7CiAgICAgIGlmICgiZW1haWwi");
    sb.append("ID09IGVsLnR5cGUgJiYgImVtYWlsIiA9PSBlbC5uYW1lKSB7CiAgICAgICAgZWwudmFsdWUgPSBsb2Nh");
    sb.append("bFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWxfcmVtZW1iZXIiKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAg");
    sb.append("ICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysr");
    sb.append("KSB7CiAgICAgICAgICByZWNhbGxfZW1haWwoZWwuY2hpbGRyZW5ba10pOwogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIHNlbGYuYVVQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5h");
    sb.append("bWUsIHJ4b2JqKSB7CiAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwgZnVuY3Rp");
    sb.append("b24gKCkgeyByZXR1cm4gcnhvYmoucnhfZm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2YXIKICAg");
    sb.append("IGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFjdGlvbiA9");
    sb.append("ICJodHRwczovL2F3cy11cy1lYXN0LTIuYWRhbWEtcGxhdGZvcm0uY29tL351cGxvYWQiOwogICAgZm9y");
    sb.append("bS5tZXRob2QgPSAicG9zdCI7CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7");
    sb.append("CiAgICB2YXIgaWRlbnRpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAg");
    sb.append("ICBpZGVudGl0eUlucHV0LnR5cGUgPSAiaGlkZGVuIjsKICAgIGlkZW50aXR5SW5wdXQubmFtZSA9ICJp");
    sb.append("ZGVudGl0eSI7CiAgICBpZGVudGl0eUlucHV0LnZhbHVlID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICBm");
    sb.append("b3JtLmFwcGVuZENoaWxkKGlkZW50aXR5SW5wdXQpOwogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FE");
    sb.append("XyIgKyBNYXRoLnJhbmRvbSgpOwogICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1l");
    sb.append("VGFyZ2V0LmhlaWdodCA9ICIxIjsKCiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZVRhcmdldCk7CiAg");
    sb.append("ICBmb3JtLnRhcmdldCA9IGlmcmFtZVRhcmdldC5uYW1lOwogIH07CgogIHNlbGYuYURVUCA9IGZ1bmN0");
    sb.append("aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlkTG9va3VwID0g");
    sb.append("c2VsZi5JRChpZGVudGl0eU5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4X2ZvcndhcmQ7");
    sb.append("IH0pOyAvLyBUT0RPOiBtYWtlIHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgcmV0");
    sb.append("dXJuOwogICAgfQogICAgZm9ybS5hY3Rpb24gPSAiaHR0cHM6Ly9hd3MtdXMtZWFzdC0yLmFkYW1hLXBs");
    sb.append("YXRmb3JtLmNvbS9+dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5lbmN0");
    sb.append("eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwogICAgdmFyIGlkZW50aXR5SW5wdXQgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRlbiI7");
    sb.append("CiAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgaWRlbnRpdHlJbnB1dC52YWx1");
    sb.append("ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsK");
    sb.append("ICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAg");
    sb.append("IGlkZW50aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgaWRlbnRpdHlJbnB1dC5uYW1lID0gImRv");
    sb.append("bWFpbiI7CiAgICBpZGVudGl0eUlucHV0LnZhbHVlID0gbG9jYXRpb24uaG9zdC5zcGxpdCgiOiIpWzBd");
    sb.append("OwogICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIHZhciBpZnJhbWVUYXJnZXQg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgIGlmcmFtZVRhcmdldC5uYW1lID0g");
    sb.append("IlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFtZVRhcmdldC53aWR0aCA9ICIxIjsKICAg");
    sb.append("IGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZVRhcmdl");
    sb.append("dCk7CiAgICBmb3JtLnRhcmdldCA9IGlmcmFtZVRhcmdldC5uYW1lOwogIH07CgogIHNlbGYuYURVUCA9");
    sb.append("IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlkTG9v");
    sb.append("a3VwID0gc2VsZi5JRChpZGVudGl0eU5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4X2Zv");
    sb.append("cndhcmQ7IH0pOyAvLyBUT0RPOiBtYWtlIHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAg");
    sb.append("ICAgcmV0dXJuOwogICAgfQogICAgZm9ybS5hY3Rpb24gPSAiaHR0cHM6Ly9hd3MtdXMtZWFzdC0yLmFk");
    sb.append("YW1hLXBsYXRmb3JtLmNvbS9+dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9y");
    sb.append("bS5lbmN0eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwogICAgewogICAgICB2YXIgaWRlbnRpdHlJ");
    sb.append("bnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGlkZW50aXR5SW5wdXQu");
    sb.append("dHlwZSA9ICJoaWRkZW4iOwogICAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAg");
    sb.append("ICBpZGVudGl0eUlucHV0LnZhbHVlID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIGZvcm0uYXBwZW5k");
    sb.append("Q2hpbGQoaWRlbnRpdHlJbnB1dCk7CiAgICB9CiAgICB7CiAgICAgIHZhciBkb21haW5JbnB1dCA9IGRv");
    sb.append("Y3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGRvbWFpbklucHV0LnR5cGUgPSAiaGlk");
    sb.append("ZGVuIjsKICAgICAgZG9tYWluSW5wdXQubmFtZSA9ICJkb21haW4iOwogICAgICBkb21haW5JbnB1dC52");
    sb.append("YWx1ZSA9IGxvY2F0aW9uLmhvc3RuYW1lOwogICAgICBmb3JtLmFwcGVuZENoaWxkKGRvbWFpbklucHV0");
    sb.append("KTsKICAgIH0KICAgIHZhciBpZnJhbWVUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJh");
    sb.append("bWUiKTsKICAgIGlmcmFtZVRhcmdldC5uYW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAg");
    sb.append("IGlmcmFtZVRhcmdldC53aWR0aCA9ICIxIjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CiAg");
    sb.append("ICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZVRhcmdldCk7CiAgICBmb3JtLnRhcmdldCA9IGlmcmFtZVRh");
    sb.append("cmdldC5uYW1lOwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9tYWluOnNpZ24taW4KICBz");
    sb.append("ZWxmLmFkRFNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAg");
    sb.append("ICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAo");
    sb.append("ZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0o");
    sb.append("Zm9ybSwgdHJ1ZSk7CiAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemVEb21haW4obG9jYXRp");
    sb.append("b24uaG9zdG5hbWUsIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3VjY2Vzczog");
    sb.append("ZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBh");
    sb.append("eWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiAr");
    sb.append("IGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3");
    sb.append("YXkgY29ubmVjdGlvbnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAg");
    sb.append("ICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("IChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50");
    sb.append("byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9CgogIC8v");
    sb.append("IFJVTlRJTUUgfCByeDphY3Rpb249ZG9jdW1lbnQ6c2lnbi1pbgogIHNlbGYuYURTTyA9IGZ1bmN0aW9u");
    sb.append("IChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlv");
    sb.append("biAoKSB7IH07CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJl");
    sb.append("dmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBj");
    sb.append("b25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplKHJlcS5zcGFjZSwgcmVxLmtleSwgcmVxLnVzZXJuYW1l");
    sb.append("LCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAg");
    sb.append("ICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAg");
    sb.append("IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlk");
    sb.append("ZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAg");
    sb.append("c2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQpOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwog");
    sb.append("ICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmly");
    sb.append("ZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2lnbmluZyBpbnRvIGRvY3VtZW50OiIgKyByZWFzb24pOwog");
    sb.append("ICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRv");
    sb.append("bWFpbjpzaWduLWluLXJlc2V0CiAgc2VsZi5hZERTT3IgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlk");
    sb.append("ZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9y");
    sb.append("bS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAg");
    sb.append("ICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVu");
    sb.append("dEF1dGhvcml6ZURvbWFpbldpdGhSZXNldChsb2NhdGlvbi5ob3N0bmFtZSwgcmVxLnVzZXJuYW1lLCBy");
    sb.append("ZXEucGFzc3dvcmQsIHJlcS5uZXdfcGFzc3dvcmQsewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChw");
    sb.append("YXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50");
    sb.append("aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5h");
    sb.append("bWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgLy8gVE9ETzogYmxvdyBhd2F5IGNvbm5lY3Rp");
    sb.append("b25zCiAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCk7CiAgICAgICAgICBmaXJlX3N1");
    sb.append("Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7");
    sb.append("CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6");
    sb.append("IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfQoKICAvLyBSVU5USU1FIHwg");
    sb.append("cng6YWN0aW9uPWRvY3VtZW50OnNpZ24taW4tcmVzZXQKICBzZWxmLmFEU09yID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50");
    sb.append("RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24uRG9jdW1lbnRBdXRob3JpemVXaXRoUmVzZXQocmVxLnNwYWNlLCByZXEua2V5LCByZXEudXNl");
    sb.append("cm5hbWUsIHJlcS5wYXNzd29yZCwgcmVxLm5ld19wYXNzd29yZCx7CiAgICAgICAgc3VjY2VzczogZnVu");
    sb.append("Y3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxv");
    sb.append("YWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlk");
    sb.append("ZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkg");
    sb.append("Y29ubmVjdGlvbnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAg");
    sb.append("IGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChy");
    sb.append("ZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBk");
    sb.append("b2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwoKICB2YXIg");
    sb.append("dHJhbnNmb3JtcyA9IHt9OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBhbC5hZ2VudCddID0gZnVuY3Rpb24o");
    sb.append("eCkgeyByZXR1cm4geC5hZ2VudDsgfTsKICB0cmFuc2Zvcm1zWydwcmluY2lwYWwuYXV0aG9yaXR5J10g");
    sb.append("PSBmdW5jdGlvbih4KSB7IHJldHVybiB4LmF1dGhvcml0eTsgfTsKICB0cmFuc2Zvcm1zWyd0cmltJ10g");
    sb.append("PSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycgKyB4KS50cmltKCk7IH07CiAgdHJhbnNmb3Jtc1sndXBw");
    sb.append("ZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRvVXBwZXJDYXNlKCk7IH07CiAgdHJh");
    sb.append("bnNmb3Jtc1snbG93ZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRvTG93ZXJDYXNl");
    sb.append("KCk7IH07CiAgdHJhbnNmb3Jtc1snaXNfZW1wdHlfc3RyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4");
    sb.append("ID09ICIiOyB9OwogIHRyYW5zZm9ybXNbJ2lzX25vdF9lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsg");
    sb.append("cmV0dXJuIHggIT0gIiI7IH07CiAgdHJhbnNmb3Jtc1snanNvbmlmeSddID0gZnVuY3Rpb24oeCkgeyBy");
    sb.append("ZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7IH07CiAgdHJhbnNmb3Jtc1sndGltZV9ub3cnXSA9IGZ1bmN0");
    sb.append("aW9uKHgpIHsgcmV0dXJuIERhdGUubm93KCkgKyAiIjsgfTsKICB0cmFuc2Zvcm1zWyd2dWxnYXJfZnJh");
    sb.append("Y3Rpb24nXSA9IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4wOwogICAgaWYgKHR5cGVvZih4");
    sb.append("cmF3KSA9PSAnbnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0gZWxzZSB7CiAgICAgIHRyeSB7");
    sb.append("CiAgICAgICAgeCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0Y2ggKGV4KSB7CgogICAgICB9");
    sb.append("CiAgICB9CiAgICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICB2YXIgY2hhbmdlID0geCAtIGl2");
    sb.append("YWw7CiAgICB2YXIgc3VmZml4ID0gIiI7CiAgICBpZiAoY2hhbmdlIDw9IDAuMDYyNSkgewogICAgICAv");
    sb.append("LyAwCiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjE4NzUpIHsKICAgICAgc3VmZml4ID0gIuKFmyI7");
    sb.append("CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjMxMjUpIHsKICAgICAgc3VmZml4ID0gIsK8IjsKICAg");
    sb.append("IH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuNDM3NSkgewogICAgICBzdWZmaXggPSAi4oWcIjsKICAgIH0g");
    sb.append("ZWxzZSBpZiAoY2hhbmdlIDw9IDAuNTYyNSkgewogICAgICBzdWZmaXggPSAiwr0iOwogICAgfSBlbHNl");
    sb.append("IGlmIChjaGFuZ2UgPD0gMC42ODc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ0iOwogICAgfSBlbHNlIGlm");
    sb.append("IChjaGFuZ2UgPD0gMC44MTI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCviI7IC8vIDMvNAogICAgfSBlbHNl");
    sb.append("IGlmIChjaGFuZ2UgPD0gMC45Mzc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ4iOwogICAgfSAvLyBlbHNl");
    sb.append("IDEKICAgIHJldHVybiBpdmFsICsgc3VmZml4OwogIH0KICB0cmFuc2Zvcm1zWyd0aW1lX2FnbyddID0g");
    sb.append("ZnVuY3Rpb24oZHQpIHsKICAgIC8vIG9ubHkgdHJhbnNmb3JtIHN0cmluZ3MKICAgIGlmICh0eXBlb2Yg");
    sb.append("KGR0KSA9PSAic3RyaW5nIikgewogICAgICAvLyBsZXQncyBzdHJpcCBvdXQgZXZlcnl0aGluZyBhZnRl");
    sb.append("ciB0aGUgYnJhY2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAgICAgdmFyIGsgPSBzLmluZGV4T2YoJ1sn");
    sb.append("KTsKICAgICAgaWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBrKTsKICAgICAg");
    sb.append("fQogICAgICB2YXIgZCA9IERhdGUucGFyc2Uocyk7CiAgICAgIGlmIChOdW1iZXIuaXNOYU4oZCkpIHsK");
    sb.append("ICAgICAgICAvLyBpdCBpc24ndCBhIG51bWJlciwgc28gd2UgZGlkbid0IGdldCBhIGRhdGUgc3RhbXA7");
    sb.append("IGRlZmF1bHQgdG8gdGhlIGlucHV0CiAgICAgICAgcmV0dXJuIGR0OwogICAgICB9CiAgICAgIC8vIHdl");
    sb.append("IGFyZSBpbnRlcmVzdGVkIGluIHByb2R1Y2luZyBhIHN0cmluZyBsaWtlICJYIG1pbnV0ZXMgYWdvIiwg");
    sb.append("c28gc3RhcnQgd2l0aCBzZWNvbmRzCiAgICAgIHZhciBkZWx0YSA9IChEYXRlLm5vdygpIC0gZCkvMTAw");
    sb.append("MDsgLy8gc2Vjb25kczsKICAgICAgaWYgKGRlbHRhIDwgNjApIHsKICAgICAgICByZXR1cm4gTWF0aC5m");
    sb.append("bG9vcihkZWx0YSkgKyAiIHNlY29uZHMgYWdvIjsKICAgICAgfQogICAgICAvLyBpdCB3YXNuJ3QgOTAg");
    sb.append("c2Vjb25kcyBhZ28gb3IgbGVzcywgc28gbGV0J3MgcmVmaW5lIHRvd2FyZHMgbWludXRlcwogICAgICBk");
    sb.append("ZWx0YSAvPSA2MDsgLy8gbm93IGl0IGlzIG1pbnV0ZXMKICAgICAgaWYgKGRlbHRhIDwgNjApIHsKICAg");
    sb.append("ICAgICByZXR1cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIG1pbnV0ZXMgYWdvIjsKICAgICAgfQogICAg");
    sb.append("ICAvLyBpdCB3YXNuJ3QgOTAgbWludXRlcyBhZ28sIHNvIGxldCdzIGp1c3QgcHV0IHRoZSB0aW1lIHN0");
    sb.append("YW1wIHVwCiAgICAgIHZhciBkdGhlbiA9IG5ldyBEYXRlKGQpOwogICAgICB2YXIgZG5vdyA9IG5ldyBE");
    sb.append("YXRlKCk7CiAgICAgIGlmIChkdGhlbi50b0xvY2FsZURhdGVTdHJpbmcoKSAhPSBkbm93LnRvTG9jYWxl");
    sb.append("RGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuIGR0aGVuLnRvTG9jYWxlRGF0ZVN0cmluZygpICsg");
    sb.append("IiAiICsgZHRoZW4udG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGR0aGVu");
    sb.append("LnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgfSBlbHNlIHsKICAgICAgLy8gZG8gbm90aGluZwogICAg");
    sb.append("ICByZXR1cm4gZHQ7CiAgICB9CiAgfTsKCiAgc2VsZi5SVFIgPSBmdW5jdGlvbihuYW1lLCB0cmFuc2Zv");
    sb.append("cm0pIHsKICAgIHRyYW5zZm9ybXNbbmFtZV0gPSB0cmFuc2Zvcm07CiAgfTsKICBzZWxmLnJlZ2lzdGVy");
    sb.append("VHJhbnNmb3JtID0gc2VsZi5SVFI7CgogIC8vIHtibGFofG5hbWV9CiAgc2VsZi5UUiA9IGZ1bmN0aW9u");
    sb.append("KG5hbWUpIHsKICAgIGlmIChuYW1lIGluIHRyYW5zZm9ybXMpIHsKICAgICAgcmV0dXJuIHRyYW5zZm9y");
    sb.append("bXNbbmFtZV07CiAgICB9CiAgICByZXR1cm4gZnVuY3Rpb24oeCkgeyByZXR1cm4geDsgfTsKICB9OwoK");
    sb.append("ICAvLyBUT0RPCiAgdmFyIHZhbGlkYXRvcnMgPSB7fTsKICBzZWxmLlJWID0gZnVuY3Rpb24obmFtZSwg");
    sb.append("dmFsaWRhdG9yKSB7CiAgICB2YWxpZGF0b3JzW25hbWVdID0gdmFsaWRhdG9yOwogIH07CiAgc2VsZi5y");
    sb.append("ZWdpc3RlclZhbGlkYXRvciA9IHNlbGYuUlY7CgogIHZhciBjb21tb25QdXQgPSBmdW5jdGlvbiAoZm9y");
    sb.append("bSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIHVybGZhY3RvcnkpIHsKICAgIC8vIFdJUAogICAg");
    sb.append("cnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2");
    sb.append("dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZv");
    sb.append("cm0sIGZhbHNlKTsKICAgICAgLy8gVE9ETzogdGhpcyBhc3N1bWVzIGV4YWN0bHkgb25lIHBhc3N3b3Jk");
    sb.append("IGluIHRoZSByb290IG1lc3NhZ2UKICAgICAgdmFyIHB3cyA9IGdldF9wYXNzd29yZChmb3JtKTsKCiAg");
    sb.append("ICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1cmwgPSB1cmxmYWN0b3J5KHJ4");
    sb.append("b2JqKTsKICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICB4aHR0");
    sb.append("cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAodGhpcy5yZWFk");
    sb.append("eVN0YXRlID09IDQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAg");
    sb.append("ICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIik7CiAg");
    sb.append("ICAgICAgICAgICAgaWYgKHR5cGUgPT0gInRleHQvZXJyb3IiKSB7CiAgICAgICAgICAgICAgICBmaXJl");
    sb.append("X2ZhaWx1cmUoZm9ybSwgdGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiYXBwbGljYXRpb24vanNvbiIpIHsKICAgICAg");
    sb.append("ICAgICAgICAgIHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAg");
    sb.append("ICAgICAgICAgICBpZiAoJ2lkZW50aXR5JyBpbiBwYXlsb2FkKSB7CiAgICAgICAgICAgICAgICAgIGlk");
    sb.append("ZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlk");
    sb.append("ZW50aXR5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc2Vs");
    sb.append("Zi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQpOwogICAgICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsK");
    sb.append("ICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxl");
    sb.append("ZCB0byBjb21tdW5pY2F0ZSB0byBzZXJ2ZXIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAg");
    sb.append("ICAgIH07CiAgICAgICAgeGh0dHAub3BlbigiUFVUIiwgdXJsLCB0cnVlKTsKICAgICAgICB4aHR0cC53");
    sb.append("aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgIHhodHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVx");
    sb.append("KSk7CiAgICAgIH07CgogICAgICBpZiAocHdzICE9PSBudWxsKSB7CiAgICAgICAgY29ubmVjdGlvbi5E");
    sb.append("b2N1bWVudHNIYXNoUGFzc3dvcmQocHdzWzFdLCB7CiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAo");
    sb.append("aGFzaGVkX3B3KSB7CiAgICAgICAgICAgIHJlcVtwd3NbMF1dID0gaGFzaGVkX3B3LnBhc3N3b3JkSGFz");
    sb.append("aDsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWxlZDogZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCB0byBoYXNoIHBhc3N3");
    sb.append("b3JkIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCgp");
    sb.append("OwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46cHV0CiAg");
    sb.append("c2VsZi5hZERQVVQgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsK");
    sb.append("ICAgIGNvbW1vblB1dChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgZnVuY3Rpb24gKHJ4");
    sb.append("b2JqKSB7IHJldHVybiBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgIi8i");
    sb.append("ICsgcnhvYmoucGF0aDsgfSkKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvY3VtZW50OnB1");
    sb.append("dAogIHNlbGYuYURQVVQgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmop");
    sb.append("IHsKICAgIGNvbW1vblB1dChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgZnVuY3Rpb24g");
    sb.append("KHJ4b2JqKSB7IHJldHVybiAiaHR0cHM6Ly8iICsgY29ubmVjdGlvbi5ob3N0ICsgIi8iICsgcnhvYmou");
    sb.append("c3BhY2UgKyAiLyIgKyByeG9iai5rZXkgKyAiLyIgKyByeG9iai5wYXRoOyB9KQogIH07CgogIC8vIFJV");
    sb.append("TlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2lnbi1pbgogIHNlbGYuYVNPID0gZnVuY3Rpb24gKGZvcm0s");
    sb.append("IHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsg");
    sb.append("fTsKICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmVjYWxsX2VtYWlsKGZv");
    sb.append("cm0pOwogICAgfSwgMSk7CiAgICAvLyBUT0RPOiBwdWxsIGVtYWlsIG91dCBvZiB0aGluIGFpcgogICAg");
    sb.append("Zm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7");
    sb.append("CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgaWYgKHJlcS5yZW1lbWJl");
    sb.append("cikgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsIHJlcS5lbWFp");
    sb.append("bCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVt");
    sb.append("YmVyIiwgIiIpOwogICAgICB9CiAgICAgIGNvbm5lY3Rpb24uQWNjb3VudExvZ2luKHJlcS5lbWFpbCwg");
    sb.append("cmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAg");
    sb.append("ICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBs");
    sb.append("b2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVu");
    sb.append("dGl0eSk7CiAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCk7CiAgICAgICAgICBmaXJl");
    sb.append("X3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29u");
    sb.append("KSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkFjY291bnRMb2dpbiBGYWlsZWQ6IiArIHJl");
    sb.append("YXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFj");
    sb.append("dGlvbj1hZGFtYTpzaWduLXVwCiAgc2VsZi5hU1UgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndh");
    sb.append("cmRUbykgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZl");
    sb.append("bnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtKTsKICAgICAgY29ubmVjdGlv");
    sb.append("bi5Jbml0U2V0dXBBY2NvdW50KHJlcS5lbWFpbCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgv");
    sb.append("KiBwYXlsb2FkICovKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWwiLCByZXEu");
    sb.append("ZW1haWwpOwogICAgICAgICAgc2VsZi5nb3RvKGZvcndhcmRUbyk7CiAgICAgICAgICBmaXJlX3N1Y2Nl");
    sb.append("c3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAg");
    sb.append("ICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkluaXRTZXR1cEFjY291bnQgRmFpbGVkOiIgKyByZWFz");
    sb.append("b24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rp");
    sb.append("b249YWRhbWE6c2V0LXBhc3N3b3JkCiAgc2VsZi5hU1AgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZv");
    sb.append("cndhcmRUbykgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnBy");
    sb.append("ZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAg");
    sb.append("aWYgKCEoImVtYWlsIiBpbiByZXEpKSB7CiAgICAgICAgcmVxLmVtYWlsID0gbG9jYWxTdG9yYWdlLmdl");
    sb.append("dEl0ZW0oImVtYWlsIik7CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5Jbml0Q29tcGxldGVBY2NvdW50");
    sb.append("KHJlcS5lbWFpbCwgZmFsc2UsIHJlcS5jb2RlLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGlu");
    sb.append("aXQpIHsKICAgICAgICAgIHZhciBpZGVudGl0eSA9IGluaXQuaWRlbnRpdHk7CiAgICAgICAgICBjb25u");
    sb.append("ZWN0aW9uLkFjY291bnRTZXRQYXNzd29yZChpbml0LmlkZW50aXR5LCByZXEucGFzc3dvcmQsIHsKICAg");
    sb.append("ICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5z");
    sb.append("ZXRJdGVtKCJpZGVudGl0eV9kZWZhdWx0IiwgaWRlbnRpdHkpOwogICAgICAgICAgICAgIHNlbGYuZ290");
    sb.append("byhmb3J3YXJkVG8pOwogICAgICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICAgICAg");
    sb.append("fSwKICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIEFjY291bnRTZXRQYXNzd29yZDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlv");
    sb.append("biAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBJbml0Q29tcGxl");
    sb.append("dGVBY2NvdW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgoKICB2");
    sb.append("YXIgaHlkcmF0ZV9mb3JtID0gZnVuY3Rpb24oZWwsIGlucHV0KSB7CiAgICB2YXIgdGFnID0gZWwudGFn");
    sb.append("TmFtZS50b1VwcGVyQ2FzZSgpOwogICAgdmFyIGlzU2V0dGFibGUgPSB0YWcgPT0gIlNFTEVDVCIgfHwg");
    sb.append("dGFnID09ICJJTlBVVCIgfHwgdGFnID09ICJISURERU4iOwogICAgaWYgKCduYW1lJyBpbiBlbCAmJiBp");
    sb.append("c1NldHRhYmxlKSB7CiAgICAgIHZhciBuYW1lID0gZWwubmFtZTsKICAgICAgdmFyIHBheWxvYWQgPSBp");
    sb.append("bnB1dDsKICAgICAgdmFyIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwg");
    sb.append("bmFtZS5pbmRleE9mKCcvJykpOwogICAgICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAg");
    sb.append("dmFyIGl0ZW0gPSBuYW1lLnN1YnN0cmluZygwLCBrRG90T3JTbGFzaCk7CiAgICAgICAgbmFtZSA9IG5h");
    sb.append("bWUuc3Vic3RyaW5nKGtEb3RPclNsYXNoICsgMSk7CiAgICAgICAgaWYgKGl0ZW0gaW4gcGF5bG9hZCkg");
    sb.append("ewogICAgICAgICAgcGF5bG9hZCA9IHBheWxvYWRbaXRlbV07CiAgICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUu");
    sb.append("aW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIH0KICAgICAgaWYgKG5hbWUgaW4g");
    sb.append("cGF5bG9hZCkgewogICAgICAgIHZhciB0eXBlID0gZWwudHlwZS50b1VwcGVyQ2FzZSgpOwogICAgICAg");
    sb.append("IGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAgICAgICAgIGVsLmNoZWNrZWQgPSBwYXlsb2FkW25h");
    sb.append("bWVdID09ICJ0cnVlIiB8fCBwYXlsb2FkW25hbWVdID09PSB0cnVlID8gdHJ1ZSA6IGZhbHNlOwogICAg");
    sb.append("ICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAgICAgICBpZiAocGF5bG9hZFtuYW1l");
    sb.append("XSA9PSBlbC52YWx1ZSkgewogICAgICAgICAgICBlbC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgIH0K");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWwudmFsdWUgPSBwYXlsb2FkW25hbWVdOwogICAgICAg");
    sb.append("IH0KICAgICAgfQogICAgfQogICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgdmFyIGFyciA9");
    sb.append("IGVsLmNoaWxkcmVuOwogICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgIGZvciAodmFyIGsgPSAw");
    sb.append("OyBrIDwgbjsgaysrKSB7CiAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgaHlk");
    sb.append("cmF0ZV9mb3JtKGNoLCBpbnB1dCk7CiAgICAgIH0KICAgIH0KICB9CgoKICAvLyBSVU5USU1FIHwgcng6");
    sb.append("YWN0aW9uOmNvcHktZm9ybTokdGFyZ2V0LWlkCiAgc2VsZi5hQ0YgPSBmdW5jdGlvbihmb3JtLCB0YXJn");
    sb.append("ZXRGb3JtSWQpIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbihldnQpIHsKICAgICAgZXZ0LnBy");
    sb.append("ZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBpbnB1dCA9IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAg");
    sb.append("ICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldEZvcm1JZCk7CiAgICAg");
    sb.append("IGlmICh0YXJnZXQpIHsKICAgICAgICBoeWRyYXRlX2Zvcm0odGFyZ2V0LCBpbnB1dCk7CiAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0s");
    sb.append("ICJmYWlsZWQgdG8gZmluZCBmb3JtIGJ5IGlkICciICsgdGFyZ2V0Rm9ybUlkICsgIiciKTsKICAgICAg");
    sb.append("fQogICAgfTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPXNlbmQ6JGNoYW5uZWwKICBzZWxm");
    sb.append("LmFTRCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgY2hhbm5lbCkgewogICAgZm9ybS5vbnN1Ym1pdCA9");
    sb.append("IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBtc2cg");
    sb.append("PSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIC8vIFRPRE86IHBhc3MgdGhyb3VnaCB0aGUgZGVi");
    sb.append("dWdnZXIKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIG1zZywgewog");
    sb.append("ICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgvKiBwYXlsb2FkICovKSB7CiAgICAgICAgICBmaXJlX3N1");
    sb.append("Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7");
    sb.append("CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIlNlbmQgZmFpbGVkOiIgKyByZWFzb24pOwogICAg");
    sb.append("ICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CiAgLy8gPHRvZG90YXNrPmRlc2NyaXB0aW9uPC90b2Rv");
    sb.append("dGFzaz4KICBzZWxmLlRBU0sgPSBmdW5jdGlvbihwZG9tLCBpZCwgc2VjdGlvbiwgZGVzY3JpcHRpb24p");
    sb.append("IHsKICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBlbGVt");
    sb.append("ZW50LmlubmVySFRNTCA9ICImIzk3NDQ7ICIgKyBkZXNjcmlwdGlvbiArICIgKCAiICsgc2VjdGlvbiAr");
    sb.append("ICIpIDxiciAvPiI7CiAgICBwZG9tLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogIH07CiAgLy8gUlVOVElN");
    sb.append("RTogcHJlLWNvbXByZXNzaW9uIGZvciBzZXR0aW5nIGFuIGF0dHJpYnV0ZQogIC8vICJkLnNldEF0dHJp");
    sb.append("YnV0ZShhLHYpOyIgLS0+CiAgLy8gJC5TQShkLGEsdik7IgogIHNlbGYuU0EgPSBmdW5jdGlvbihkb20s");
    sb.append("IGF0dHIsIHZhbHVlKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsKICB9OwogIC8v");
    sb.append("IFJVTlRJTUUgfCA8Li4uIGhyZWY9IiIgLi4uPgogIHNlbGYuSFJFRiA9IGZ1bmN0aW9uIChkb20sIGhy");
    sb.append("ZWYpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoImhyZWYiLCBmaXhIcmVmKGhyZWYpKTsKICAgIGRvbS5v");
    sb.append("bmNsaWNrID0gZnVuY3Rpb24gKGV2dCkgewogICAgICB2YXIgcGFydHMgPSAoaHJlZi5zdGFydHNXaXRo");
    sb.append("KCIvIikgPyBocmVmLnN1YnN0cmluZygxKSA6IGhyZWYpLnNwbGl0KCIvIik7CiAgICAgIGlmIChyb3V0");
    sb.append("ZShwYXJ0cywgMCwgcm91dGVyLCB7fSkpIHsKICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAg");
    sb.append("ICAgICBzZWxmLnJ1bihkb2N1bWVudC5ib2R5LCBocmVmLCB0cnVlKTsKICAgICAgICByZXR1cm4gZmFs");
    sb.append("c2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogIH07CiAgLy8gUlVOVElNRSB8IDwu");
    sb.append("Li4gY2xhc3M9IiIgLi4uPgogIHNlbGYuQUNMQVNTID0gZnVuY3Rpb24gKGRvbSwgdmFsdWUpIHsKICAg");
    sb.append("IGRvbS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgdmFsdWUpOwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4g");
    sb.append("c3JjPSIiIC4uLj4KICBzZWxmLkFTUkMgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAgZG9tLnNl");
    sb.append("dEF0dHJpYnV0ZSgic3JjIiwgdmFsdWUpOwogIH07CiAgd2luZG93LnJ4aHRtbCA9IHNlbGY7CiAgcmV0");
    sb.append("dXJuIHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm4g");
    sb.append("ZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwog");
    sb.append("ICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwogIGFzeW5jIHdhaXRfY29u");
    sb.append("bmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlz");
    sb.append("ZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgIH0pOwogICAgfSBlbHNl");
    sb.append("IHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0aGlzLm9uc3RhdHVzY2hh");
    sb.append("bmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAgICAgICBzZWxm");
    sb.append("Lm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAgICAgcHJpb3Ioc3RhdHVz");
    sb.append("KTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0cnVlKTsKICAgICAgICAg");
    sb.append("ICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAg");
    sb.append("IH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25yZWNvbm5lY3QuZm9yRWFj");
    sb.append("aChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAgIH0pOwogIH0KCiAgLyoq");
    sb.append("IGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8K");
    sb.append("ICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHNtLmZpcnN0ID0gdHJ1");
    sb.append("ZTsKICAgIGlmIChzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAg");
    sb.append("ICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAgc20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZh");
    sb.append("aWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRl");
    sb.append("cikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3Bv");
    sb.append("bmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRl");
    sb.append("KHNtLmlkKTsKICAgIH0pKSB7CiAgICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAg");
    sb.append("ICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoc20p");
    sb.append("OwogICAgICB9OwogICAgICByZXR1cm4gc207CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8q");
    sb.append("KiBleGVjdXRlIGEgc3RyZWFtIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gc3RhdGUgbWFjaGluZSAqLwog");
    sb.append("IF9fZXhlY3V0ZV9zdHJlYW0oc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGlmIChzZWxmLl93");
    sb.append("cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBp");
    sb.append("biByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAg");
    sb.append("ICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAg");
    sb.append("ICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0");
    sb.append("ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9");
    sb.append("KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNldChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuX19leGVjdXRlX3N0cmVhbShzbSk7CiAgICAgIH07");
    sb.append("CiAgICAgIHJldHVybiBzbTsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgX19pZCgpIHsKICAg");
    sb.append("IHRoaXMubmV4dElkKys7CiAgICByZXR1cm4gdGhpcy5uZXh0SWQ7CiAgfQoKICAvKipbQkVHSU4tSU5W");
    sb.append("T0tFXSoqLwogIEluaXRTZXR1cEFjY291bnQoZW1haWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvc2V0dXAtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6");
    sb.append("IGVtYWlsfQogICAgfSk7CiAgfQogIEluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NUb2tlbiwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb252ZXJ0LWdvb2ds");
    sb.append("ZS11c2VyIiwgImlkIjpwYXJJZCwgImFjY2Vzcy10b2tlbiI6IGFjY2Vzc1Rva2VufQogICAgfSk7CiAg");
    sb.append("fQogIEluaXRDb21wbGV0ZUFjY291bnQoZW1haWwsIHJldm9rZSwgY29kZSwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb21wbGV0ZS1hY2NvdW50IiwgImlkIjpw");
    sb.append("YXJJZCwgImVtYWlsIjogZW1haWwsICJyZXZva2UiOiByZXZva2UsICJjb2RlIjogY29kZX0KICAgIH0p");
    sb.append("OwogIH0KICBEZWluaXQoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRlaW5pdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7");
    sb.append("CiAgfQogIEFjY291bnRTZXRQYXNzd29yZChpZGVudGl0eSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvc2V0LXBhc3N3b3JkIiwgImlkIjpw");
    sb.append("YXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAg");
    sb.append("fQogIEFjY291bnRHZXRQYXltZW50UGxhbihpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9nZXQtcGF5bWVudC1wbGFuIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQWNjb3VudExvZ2luKGVtYWlsLCBwYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9s");
    sb.append("b2dpbiIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAg");
    sb.append("IH0pOwogIH0KICBQcm9iZShpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoicHJvYmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0p");
    sb.append("OwogIH0KICBBdXRob3JpdHlDcmVhdGUoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlTZXQoaWRlbnRpdHksIGF1dGhvcml0eSwg");
    sb.append("a2V5U3RvcmUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhv");
    sb.append("cml0eS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1");
    sb.append("dGhvcml0eSwgImtleS1zdG9yZSI6IGtleVN0b3JlfQogICAgfSk7CiAgfQogIEF1dGhvcml0eUdldChp");
    sb.append("ZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRo");
    sb.append("b3JpdHkiOiBhdXRob3JpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5TGlzdChpZGVudGl0eSwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9saXN0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5");
    sb.append("RGVzdHJveShpZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvZGVzdHJveSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIFNwYWNlQ3JlYXRlKGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwgdGVtcGxhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("c3BhY2UiOiBzcGFjZSwgInRlbXBsYXRlIjogdGVtcGxhdGV9CiAgICB9KTsKICB9CiAgU3BhY2VHZW5l");
    sb.append("cmF0ZUtleShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2dlbmVyYXRlLWtleSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZUdldChpZGVudGl0eSwgc3BhY2Us");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2dldCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0K");
    sb.append("ICBTcGFjZVNldChpZGVudGl0eSwgc3BhY2UsIHBsYW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3NldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgInBsYW4iOiBwbGFufQogICAgfSk7CiAgfQogIFNwYWNlUmVkZXBs");
    sb.append("b3lLaWNrKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoic3BhY2UvcmVkZXBsb3kta2ljayIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVNldFJ4aHRtbChpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHJ4aHRtbCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2Uvc2V0LXJ4aHRtbCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgInJ4aHRtbCI6IHJ4aHRtbH0KICAgIH0pOwogIH0KICBTcGFjZUdldFJ4aHRtbChpZGVu");
    sb.append("dGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNw");
    sb.append("YWNlL2dldC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRQb2xpY3koaWRlbnRpdHksIHNwYWNlLCBhY2Nlc3NQ");
    sb.append("b2xpY3ksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJhY2Nlc3MtcG9saWN5IjogYWNjZXNzUG9saWN5fQogICAgfSk7CiAgfQogIFNwYWNlR2V0UG9saWN5");
    sb.append("KGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIg");
    sb.append("cGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvZ2V0LXBvbGljeSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3Bh");
    sb.append("Y2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZU1ldHJpY3MoaWRlbnRpdHksIHNwYWNlLCBwcmVm");
    sb.append("aXgsIG1ldHJpY1F1ZXJ5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9tZXRyaWNzIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6");
    sb.append("IHNwYWNlLCAicHJlZml4IjogcHJlZml4LCAibWV0cmljLXF1ZXJ5IjogbWV0cmljUXVlcnl9CiAgICB9");
    sb.append("KTsKICB9CiAgU3BhY2VEZWxldGUoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAg");
    sb.append("ICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9kZWxldGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSb2xlKGlkZW50");
    sb.append("aXR5LCBzcGFjZSwgZW1haWwsIHJvbGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL3NldC1yb2xlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAiZW1haWwiOiBlbWFpbCwgInJvbGUiOiByb2xlfQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlTGlzdERldmVsb3BlcnMoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvbGlzdC1kZXZlbG9wZXJzIiwgImlkIjpwYXJJ");
    sb.append("ZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNl");
    sb.append("UmVmbGVjdChpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvcmVmbGVjdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleX0KICAgIH0pOwogIH0KICBTcGFjZUxpc3QoaWRl");
    sb.append("bnRpdHksIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJt");
    sb.append("YXJrZXIiOiBtYXJrZXIsICJsaW1pdCI6IGxpbWl0fQogICAgfSk7CiAgfQogIERvbWFpbk1hcChpZGVu");
    sb.append("dGl0eSwgZG9tYWluLCBzcGFjZSwgY2VydGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVu");
    sb.append("dGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJjZXJ0aWZpY2F0ZSI6IGNlcnRp");
    sb.append("ZmljYXRlfQogICAgfSk7CiAgfQogIERvbWFpblJlZmxlY3QoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVy");
    sb.append("OiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3JlZmxlY3QiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0K");
    sb.append("ICBEb21haW5NYXBEb2N1bWVudChpZGVudGl0eSwgZG9tYWluLCBzcGFjZSwga2V5LCByb3V0ZSwgY2Vy");
    sb.append("dGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFp");
    sb.append("bi9tYXAtZG9jdW1lbnQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6");
    sb.append("IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJyb3V0ZSI6IHJvdXRlLCAiY2VydGlm");
    sb.append("aWNhdGUiOiBjZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0KGlkZW50aXR5LCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2xpc3QiLCAi");
    sb.append("aWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0QnlT");
    sb.append("cGFjZShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJkb21haW4vbGlzdC1ieS1zcGFjZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBEb21haW5Vbm1hcChpZGVudGl0eSwg");
    sb.append("ZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4v");
    sb.append("dW5tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0K");
    sb.append("ICAgIH0pOwogIH0KICBEb21haW5HZXQoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2");
    sb.append("YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9y");
    sb.append("aXplKHNwYWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJZCwgInNwYWNl");
    sb.append("Ijogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNz");
    sb.append("d29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4sIHVzZXJuYW1l");
    sb.append("LCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9j");
    sb.append("dW1lbnQvYXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2Vy");
    sb.append("bmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVu");
    sb.append("dEF1dGhvcml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQv");
    sb.append("YXV0aG9yaXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtl");
    sb.append("eSwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3Jk");
    sb.append("IjogbmV3X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJl");
    sb.append("c2V0KGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4td2l0");
    sb.append("aC1yZXNldCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6IHVzZXJuYW1l");
    sb.append("LCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0p");
    sb.append("OwogIH0KICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9weSwgYXJnLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9jcmVhdGUi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJlbnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBEb2N1bWVudERl");
    sb.append("bGV0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3VtZW50TGlzdChp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("c3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1pdH0K");
    sb.append("ICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtleSwgY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVz");
    sb.append("c2FnZS9kaXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFjZSwga2V5LCBk");
    sb.append("ZWR1cGUsIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6");
    sb.append("IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRlZHVwZSwgImNo");
    sb.append("YW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3Bv");
    sb.append("bmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFy");
    sb.append("SWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInZpZXdl");
    sb.append("ci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2aWV3ZXJTdGF0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5lY3Rp");
    sb.append("b24vY3JlYXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRv");
    sb.append("bWFpbiI6IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVu");
    sb.append("Y3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hh");
    sb.append("bm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAg");
    sb.append("ICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJS");
    sb.append("ZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJl");
    sb.append("c3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25j");
    sb.append("ZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1");
    sb.append("cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAg");
    sb.append("Y2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAg");
    sb.append("ICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9k");
    sb.append("OiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUs");
    sb.append("IGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAi");
    sb.append("Y29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1l");
    sb.append("LCAiY29udGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBk");
    sb.append("aWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAg");
    sb.append("ICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("ICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAg");
    sb.append("IHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0");
    sb.append("aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAg");
    sb.append("IH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3JkLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudHMvaGFzaC1w");
    sb.append("YXNzd29yZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIEJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIsICJpZCI6cGFy");
    sb.append("SWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBmaWxl");
    sb.append("bmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQt");
    sb.append("dHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0");
    sb.append("Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50");
    sb.append("L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwg");
    sb.append("ImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5p");
    sb.append("c2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAg");
    sb.append("IHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRh");
    sb.append("Y2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBm");
    sb.append("aWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRl");
    sb.append("bnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFz");
    sb.append("ZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2ht");
    sb.append("ZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01k");
    sb.append("NSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBm");
    sb.append("aW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJh");
    sb.append("dHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFtYSA9IHsKICBQ");
    sb.append("cm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIENvbm5lY3Rpb246");
    sb.append("IFdlYlNvY2tldEFkYW1hQ29ubmVjdGlvbgp9Owo=");
    return sb.toString();
  }
}
