/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cykgewogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7");
    sb.append("IC8vIGZvciBlYWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIj");
    sb.append("IiArIGtleTsgLy8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("cmVlW2tleV07IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIg");
    sb.append("bmV4dCA9IGRlbHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJl");
    sb.append("bnQga2V5CiAgICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgog");
    sb.append("ICAgICAgIC8vIHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBz");
    sb.append("cGVjaWFsIHRoaW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBy");
    sb.append("aW9yKSkgeyAvLyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAg");
    sb.append("ZGVsKHN1YihzLCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFs");
    sb.append("bCB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8v");
    sb.append("IGRlbGV0ZSB0aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBl");
    sb.append("b2YgKG5leHQpID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBk");
    sb.append("ZWx0YSBpcyBhbiBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8");
    sb.append("fCAiQG8iIGluIG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2Ug");
    sb.append("YXJyYXkgbG9naWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJh");
    sb.append("eQogICAgICAgICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0");
    sb.append("cmVlIGhhcyBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJl");
    sb.append("IHRoZSBzZWNyZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7");
    sb.append("fTsKICAgICAgICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBv");
    sb.append("ZiBrZXlzLCB0aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRh");
    sb.append("CiAgICAgICAgICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVt");
    sb.append("IHdpdGggdGhlIGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRy");
    sb.append("ZWVbZUtleV07IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBp");
    sb.append("biBxdWVzdGlvbgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUg");
    sb.append("c3Vic2NyaXB0aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8g");
    sb.append("ZGV0ZWN0aW9uIG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAg");
    sb.append("ICAgICAgICAgIHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91");
    sb.append("dCBfX2tleQogICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBz");
    sb.append("dWNoIHRoYXQgdGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMg");
    sb.append("dG8gd29yawogICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmll");
    sb.append("bGQgd2l0aGluIHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07");
    sb.append("CiAgICAgICAgICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3Jk");
    sb.append("ZXJpbmcgb2YgdGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh2YWwgPT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlm");
    sb.append("IChhS2V5IGluIGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAg");
    sb.append("ICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICAgIGRlbChzdWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZGVsZXRlIGVCYXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVs");
    sb.append("X2tleShlU3ViLCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICAgICAgICAgIGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAg");
    sb.append("ICAgaWYgKCEoYUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJl");
    sb.append("IGFuIGFkZGl0aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBm");
    sb.append("aXJlX2FkZChlU3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBu");
    sb.append("VmFsID0gbmV4dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0");
    sb.append("eXBlb2YgKG5WYWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0");
    sb.append("CiAgICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJl");
    sb.append("IHRoZSBuZXcgaXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZUJhc2VbYUtleV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFL");
    sb.append("ZXk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5j");
    sb.append("dGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIo");
    sb.append("ZVN1YiwgeCksIGV2ZW50cyk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVbal0pIHsKICAgICAgICAgICAgICAgICAgICAg");
    sb.append("IGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZyb20gdGhlIHByZXZpb3VzIGNvcHkK");
    sb.append("ICAgICAgICAgICAgICAgICAgICAgIG1zZy5wdXNoKGJlZm9yZVtqXS5fX2tleSk7IC8vIGFuZCBhbm5v");
    sb.append("dGF0ZSB0aGUga2V5cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2go");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVu");
    sb.append("dHMpOyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAg");
    sb.append("ICAgIH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2Ug");
    sb.append("aWYgKHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5");
    sb.append("cyBpcyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBr");
    sb.append("KyspIHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJh");
    sb.append("c2VbIiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg");
    sb.append("ICBmaXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBh");
    sb.append("Ym91dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtr");
    sb.append("ZXldID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7");
    sb.append("CiAgICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAg");
    sb.append("ZGVsYXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtr");
    sb.append("ZXldLCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5");
    sb.append("XSkgIT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tl");
    sb.append("eV0sIG5leHQsIGUsIGV2ZW50cyk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXldLCBldmVudHMp");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNvIGl0IGlzIGEg");
    sb.append("dmFsdWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcgdmFsdWUKICAg");
    sb.append("ICAgICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxsIGV2ZXJ5b25l");
    sb.append("IGFib3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUsIGV2ZW50cyk7");
    sb.append("CiAgfTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7CiAgICB9CiAg");
    sb.append("fTsKCiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZSA9IGZ1bmN0");
    sb.append("aW9uIChkZWx0YSkgewogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSB0cnVlOwogICAgdmFyIGFy");
    sb.append("ciA9IFtdOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb25zIGludG8gYW4gYXJyYXkKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gYWxsX3N1YnNjcmlwdGlvbnMpIHsKICAgICAgYXJyLnB1c2goYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNba10pOwogICAgfQogICAgdmFyIGV2ZW50cyA9IFtdOwogICAgbWVyZ2Uocm9vdCwgZGVsdGEsIGFy");
    sb.append("ciwgZXZlbnRzKTsgLy8gZXhlY3V0ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICBmaXJlX2V2");
    sb.append("ZW50cyhldmVudHMpOwogICAgd2hpbGUgKHRoaXMuc3Vic2NyaWJlX2RlbGF5Lmxlbmd0aCA+IDApIHsK");
    sb.append("ICAgICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZV9kZWxheTsKICAgICAgdGhpcy5zdWJzY3JpYmVf");
    sb.append("ZGVsYXkgPSBbXTsKICAgICAgdmFyIGZsYXQgPSBbXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBj");
    sb.append("b3B5Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKCFjb3B5W2tdLmFib3J0ZWQpIHsKICAgICAgICAg");
    sb.append("IGZsYXQucHVzaChjb3B5W2tdLnN1Yik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGV2ZW50cyA9IFtd");
    sb.append("OwogICAgICBtZXJnZSh7fSwgbWFrZV9kZWx0YShyb290KSwgZmxhdCwgZXZlbnRzKTsgLy8gZXhlY3V0");
    sb.append("ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB9");
    sb.append("CiAgICB0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlOwogIH07CgogIC8vIGZpeCB0aGUgY2Fs");
    sb.append("bGJhY2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIncyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0");
    sb.append("aGUgZm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlm");
    sb.append("IHRoZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhlbiBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBu");
    sb.append("ZXcgb2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAg");
    sb.append("IH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRo");
    sb.append("ZSBjYWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAgZm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8v");
    sb.append("IGl0ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0");
    sb.append("aGUgZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVyCiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tf");
    sb.append("aW50b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsKICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxv");
    sb.append("dwogICAgICAgICAgaWYgKCEoa2V5IGluIHN1YikpIHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5k");
    sb.append("IG1ha2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tl");
    sb.append("eV0gPSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1Yihj");
    sb.append("YWxsYmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJlY3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0");
    sb.append("aGUgbmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2Yg");
    sb.append("KGNhbGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8vIGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgi");
    sb.append("QGUiIGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJlIHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAg");
    sb.append("ICBzdWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3Qg");
    sb.append("YWRkIGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsK");
    sb.append("CiAgLy8gY29udmVydCB0aGUgdHJlZSB0byBhIGRlbHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBo");
    sb.append("YXZlIGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIgbWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewog");
    sb.append("ICAgdmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsg");
    sb.append("aW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09");
    sb.append("ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQog");
    sb.append("ICAgICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1");
    sb.append("bHQgaXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYgPSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9");
    sb.append("IHt9OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3Jk");
    sb.append("ZXJpbmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFyIG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGog");
    sb.append("PSAwOyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBjb3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJh");
    sb.append("eQogICAgICAgICAgICB2YXIgdmogPSB2W2pdOwogICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2Vf");
    sb.append("ZGVsdGEodmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAg");
    sb.append("ICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAbyJdID0gbzsK");
    sb.append("ICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2U7IHJlY29yZCB0aGUgc2l6ZSBhcyB3ZSByZWN1cnNl");
    sb.append("CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAg");
    sb.append("ZFsiIiArIGpdID0gbWFrZV9kZWx0YShwdltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJd");
    sb.append("ID0gdi5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgfSBlbHNlIGlm");
    sb.append("ICh0eXBlb2YgKHYpID09ICJvYmplY3QiKSB7IC8vIGl0J3MganVzdCBhbiBvYmplY3QsIHNvIHJlY3Vy");
    sb.append("c2UgZGlyZWN0bHkKICAgICAgICBkZWx0YVtrXSA9IG1ha2VfZGVsdGEodik7CiAgICAgIH0gZWxzZSB7");
    sb.append("IC8vIGZpbmFsbHksIGl0IGlzIGEgdmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9");
    sb.append("IHY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkZWx0YTsKICB9OwoKICB0aGlzLnN1YnNjcmliZV9k");
    sb.append("ZWxheSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2ZW4gc3RydWN0dXJhbCBjYWxsYmFjawog");
    sb.append("IHRoaXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgc3ViID0ge307CiAg");
    sb.append("ICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0g");
    sb.append("dGhlIGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAgICB2YXIgUyA9ICIiICsgaWQrKzsgLy8g");
    sb.append("Y3JlYXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAgICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9");
    sb.append("IHN1YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAgIGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9n");
    sb.append("cmVzcykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20uc3ViID0gc3ViOwogICAgICBzbS5hYm9y");
    sb.append("dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2RlbGF5LnB1c2goc20pOwogICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9IHRydWU7CiAgICAgICAgZGVsZXRlIGFs");
    sb.append("bF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIGRlbHRhID0g");
    sb.append("bWFrZV9kZWx0YShyb290KTsKICAgICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVs");
    sb.append("dGEsIFtzdWJdLCBldmVudHMpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFj");
    sb.append("ayBvZiBhbGwgZGF0YSB0byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVj");
    sb.append("dAogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyBy");
    sb.append("ZXR1cm4gYSBtZXRob2QgdG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNbU107CiAgICAgIH07CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIC8vIHRoaXMgZXhpc3Rz");
    sb.append("IGlmIHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSB0aGUgZ2xvYmFsIGRvbWFpbiBmb3IgdGhlaXIgc2l0");
    sb.append("ZQogICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIik7CiAgICBy");
    sb.append("b290UmVwbGFjZSA9IFtwYXJ0c1swXSwgcGFydHNbMV0sIHBhcnRzWzJdLCAiIl0uam9pbigiLyIpOwog");
    sb.append("ICAgdmFyIG9mZnNldCA9IHBhcnRzWzBdLmxlbmd0aCArIHBhcnRzWzFdLmxlbmd0aCArIHBhcnRzWzJd");
    sb.append("Lmxlbmd0aCArIDI7CiAgICBmaXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHsKICAgICAgcmV0dXJuIHBh");
    sb.append("dGguc3Vic3RyaW5nKG9mZnNldCk7CiAgICB9OwogIH0KCiAgdmFyIGZpeEhyZWYgPSBmdW5jdGlvbiAo");
    sb.append("aHJlZikgewogICAgaWYgKCFocmVmKSB7CiAgICAgIHJldHVybiAiIyI7CiAgICB9CiAgICBpZiAoaHJl");
    sb.append("Zi5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgcmV0dXJuIHJvb3RSZXBsYWNlICsgaHJlZi5zdWJzdHJp");
    sb.append("bmcoMSk7CiAgICB9CiAgICByZXR1cm4gaHJlZjsKICB9OwoKICB2YXIgZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgIGlmIChuYW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHJl");
    sb.append("dHVybiBjb25uZWN0aW9uc1tuYW1lXTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAg");
    sb.append("ICAgbmFtZTogbmFtZSwKICAgICAgICBwdHI6IG51bGwsCiAgICAgICAgdHJlZTogbmV3IEFkYW1hVHJl");
    sb.append("ZSgpLAogICAgICAgIG91dHN0YW5kaW5nOiB7fSwKICAgICAgICBkZWNpc2lvbnM6IHt9LAogICAgICAg");
    sb.append("IGNob2ljZV9zdWJzOiB7fSwKICAgICAgICByZXNldHM6IHt9LAogICAgICAgIGNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzOiB7fSwKICAgICAgICBzeW5jX2V2ZW50czoge30sCiAgICAgICAgaWQ6IDAsCiAgICAgICAgY29u");
    sb.append("bmVjdGlvbl9zdGF0ZTogZmFsc2UsCiAgICAgICAgY2hvaWNlczoge30sCiAgICAgICAgYm91bmQ6ICIi");
    sb.append("LAogICAgICAgIHZpZXdzdGF0ZV9zZW50OiB0cnVlLAogICAgICAgIHZpZXdzdGF0ZV9jbG9uZTogIiIs");
    sb.append("CiAgICAgICAgaGFzX2ZpbHRlcjogZmFsc2UsCiAgICAgICAgc3luY2VkOiBmYWxzZSwKICAgICAgICBm");
    sb.append("aWx0ZXI6IHt9LAogICAgICAgIHZzc2VxOiAwLAogICAgICAgIGRlYnVnZ2VyOiBmdW5jdGlvbiAoZGVs");
    sb.append("dGEpIHsgfSwKICAgICAgICByYXc6IGNvbm5lY3Rpb24KICAgICAgfTsKICAgICAgb2JqLm51a2UgPSBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX2V2ZW50cyA9IHt9OwogICAgICAgIHRo");
    sb.append("aXMuc3luY19ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLmNob2ljZV9zdWJzID0ge307CiAgICAgIH0u");
    sb.append("YmluZChvYmopOwogICAgICBpZiAoQWRhbWEuRGVidWdnZXIpIHsKICAgICAgICBvYmouZGVidWdnZXIg");
    sb.append("PSBBZGFtYS5EZWJ1Z2dlci5yZWdpc3RlcihvYmopOwogICAgICB9CiAgICAgIG9iai5zeW5jID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHZhciBzeW5jZWQgPSB0aGlzLmNvbm5lY3Rpb25fc3RhdGUgJiYgdGhp");
    sb.append("cy52aWV3c3RhdGVfc2VudDsKICAgICAgICBpZiAodGhpcy5zeW5jZWQgPT0gc3luY2VkKSB7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuc3luY2VkID0gc3luY2VkOwogICAgICAg");
    sb.append("IHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLnN5bmNfZXZlbnRzKSB7CiAg");
    sb.append("ICAgICAgICBpZiAoIShvYmouc3luY19ldmVudHNbc3ViXShzeW5jZWQpKSkgewogICAgICAgICAgICBh");
    sb.append("eGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5zeW5jX2V2ZW50c1theGVb");
    sb.append("a11dOwogICAgICAgIH0KICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfc3luYyA9");
    sb.append("IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAg");
    sb.append("ICAgICB0aGlzLnN5bmNfZXZlbnRzW3NdID0gY2FsbGJhY2s7CiAgICAgICAgY2FsbGJhY2sodGhpcy5z");
    sb.append("eW5jZWQpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5z");
    sb.append("eW5jX2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH07CiAgICAgIG9iai5zZXRf");
    sb.append("Y29ubmVjdGVkID0gZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbl9zdGF0");
    sb.append("ZSA9PSBjcykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbm5lY3Rp");
    sb.append("b25fc3RhdGUgPSBjczsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGlu");
    sb.append("IG9iai5jb25uZWN0aW9uX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLmNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzW3N1Yl0oY3MpKSkgewogICAgICAgICAgICBheGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAg");
    sb.append("ICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgZGVsZXRlIG9iai5jb25uZWN0aW9uX2V2ZW50c1theGVba11dOwogICAgICAgIH0KICAgICAgICB0");
    sb.append("aGlzLnN5bmMoKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5jb25uZWN0ZWQgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhp");
    sb.append("cy5jb25uZWN0aW9uX2V2ZW50c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuY29u");
    sb.append("bmVjdGlvbl9zdGF0ZSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0");
    sb.append("ZSB0aGlzLmNvbm5lY3Rpb25fZXZlbnRzW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfYW55ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFy");
    sb.append("IHMgPSBjaGFubmVsICsgInwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlX3Jlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGRy");
    sb.append("ID0gInJlc2V0fCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5yZXNldHNbZHJdID0gY2FsbGJhY2s7");
    sb.append("CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc2V0c1tk");
    sb.append("cl07CiAgICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNj");
    sb.append("cmliZV9jaG9pY2UgPSBmdW5jdGlvbiAoY2hhbm5lbCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9");
    sb.append("IGNoYW5uZWwgKyAifCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5jaG9pY2Vfc3Vic1tzXSA9IGNh");
    sb.append("bGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5j");
    sb.append("aG9pY2Vfc3Vic1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmoub25jaG9pY2VzID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNob2ljZSkgewogICAgICAgIHZhciBh");
    sb.append("eGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLmNob2ljZV9zdWJzKSB7CiAgICAgICAg");
    sb.append("ICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2hhbm5lbCArICJ8IikpIHsKICAgICAgICAgICAgaWYgKCFvYmou");
    sb.append("Y2hvaWNlX3N1YnNbc3ViXShjaG9pY2UpKSB7CiAgICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5jaG9pY2Vfc3Vic1theGVba11d");
    sb.append("OwogICAgICAgIH0KICAgICAgfTsKICAgICAgb2JqLm9uZGVjaWRlID0gZnVuY3Rpb24gKG91dHN0YW5k");
    sb.append("aW5nKSB7CiAgICAgICAgdmFyIGF4ZVJlc2V0ID0gW107CiAgICAgICAgZm9yICh2YXIgZHIgaW4gb2Jq");
    sb.append("LnJlc2V0cykgewogICAgICAgICAgdmFyIHIgPSBvYmoucmVzZXRzW2RyXTsKICAgICAgICAgIGlmICgh");
    sb.append("KHIoKSkpIHsKICAgICAgICAgICAgYXhlUmVzZXQucHVzaChkcik7CiAgICAgICAgICB9CiAgICAgICAg");
    sb.append("fQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlUmVzZXQubGVuZ3RoOyBrKyspIHsKICAgICAg");
    sb.append("ICAgIGRlbGV0ZSBvYmoucmVzZXRzW2F4ZVJlc2V0W2tdXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2");
    sb.append("YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICBvYmoub3V0c3RhbmRpbmdbY2hdID0g");
    sb.append("eyBvcHRpb25zOiBbXSB9OwogICAgICAgIH0KICAgICAgICB2YXIgbiA9IG91dHN0YW5kaW5nLmxlbmd0");
    sb.append("aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIG8gPSBv");
    sb.append("dXRzdGFuZGluZ1trXTsKICAgICAgICAgIG9iai5vdXRzdGFuZGluZ1tvLmNoYW5uZWxdID0gbzsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgZm9yICh2YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICB2");
    sb.append("YXIgb3V0ID0gb2JqLm91dHN0YW5kaW5nW2NoXTsKICAgICAgICAgIHZhciBheGUgPSBbXTsKICAgICAg");
    sb.append("ICAgIGZvciAodmFyIHN1YiBpbiBvYmouZGVjaXNpb25zKSB7CiAgICAgICAgICAgIGlmIChzdWIuc3Rh");
    sb.append("cnRzV2l0aChjaCArICJ8IikgfHwgc3ViLnN0YXJ0c1dpdGgoIi18IikpIHsKICAgICAgICAgICAgICBp");
    sb.append("ZiAoIW9iai5kZWNpc2lvbnNbc3ViXShvdXQsIGNoKSkgewogICAgICAgICAgICAgICAgYXhlLnB1c2go");
    sb.append("c3ViKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvYmou");
    sb.append("ZGVjaXNpb25zW2F4ZVtrXV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25u");
    sb.append("ZWN0aW9uc1tuYW1lXSA9IG9iajsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYuZ2V0");
    sb.append("Q29ubmVjdGlvbkJ5TmFtZSA9IGdldF9jb25uZWN0aW9uX29iajsKCiAgc2VsZi5tYWtlID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgcmV0dXJuIG5ldyBBZGFtYVRyZWUoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJz");
    sb.append("Y3JpYmUgdGhlIGdpdmVuICdzdWInIHRvIGNoYW5nZXMgd2l0aGluIHN0YXRlIGZvciB0aGUgZ2l2ZW4g");
    sb.append("ZmllbGQgbmFtZWQgbmFtZQogIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHN1");
    sb.append("YikgewogICAgdmFyIHNzID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAgICB2YXIgcyA9IHNzW3NzLmN1");
    sb.append("cnJlbnRdOwogICAgaWYgKCJAZSIgaW4gcy5kZWx0YSkgewogICAgICBzLmRlbHRhWyJAZSJdLnB1c2go");
    sb.append("c3ViKTsKICAgIH0gZWxzZSB7CiAgICAgIHMuZGVsdGFbIkBlIl0gPSBbc3ViXTsKICAgIH0KICB9Owog");
    sb.append("IHNlbGYuc3Vic2NyaWJlID0gc3Vic2NyaWJlOwoKICAvLyBIRUxQRVIgfCBjcmVhdGUgZnJlc2ggc3Rh");
    sb.append("dGUKICB2YXIgZnJlc2ggPSBmdW5jdGlvbiAod2hlcmUpIHsKICAgIHJldHVybiB7CiAgICAgIHRyZWU6");
    sb.append("IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgZGVsdGE6IHt9LAogICAgICBwYXJlbnQ6IG51bGwsCiAgICAg");
    sb.append("IHBhdGg6IG51bGwsCiAgICAgIHdoZXJlOiB3aGVyZQogICAgfTsKICB9OwogIHNlbGYuZnJlc2ggPSBm");
    sb.append("cmVzaDsKCiAgLy8gSEVMUEVSOiByZW1vdmUgcG90ZW50aWFsbHkgc2Vuc2l0aXZlIGluZm9ybWF0aW9u");
    sb.append("IGZyb20gYW4gb2JqZWN0CiAgdmFyIHNhZmVfZmlsdGVyID0gZnVuY3Rpb24obykgewogICAgaWYgKCdw");
    sb.append("YXNzd29yZCcgaW4gbykgewogICAgICBkZWxldGUgb1sncGFzc3dvcmQnXTsKICAgIH0KICAgIGlmICgn");
    sb.append("b25lX3RpbWVfcGFzc3dvcmQnIGluIG8pIHsKICAgICAgZGVsZXRlIG9bJ29uZV90aW1lX3Bhc3N3b3Jk");
    sb.append("J107CiAgICB9CiAgICByZXR1cm4gbzsKICB9CgogIC8vIEhFTFBFUiB8IGNyZWF0ZSBhIG5ldyBkZWx0");
    sb.append("YSBjb3B5IGZyb20gdGhlIGdpdmVuIHNwZWNpZmljIHN0YXRlIChpLmUuIGVpdGhlciBkYXRhIG9yIHZp");
    sb.append("ZXcpCiAgdmFyIG5ld19kZWx0YV9jb3B5ID0gZnVuY3Rpb24gKHNzKSB7CiAgICBpZiAoc3MgPT0gbnVs");
    sb.append("bCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBwYXJlbnQgPSBudWxsOwogICAgaWYg");
    sb.append("KHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudCA9IG5ld19kZWx0YV9jb3B5KHNzLnBhcmVu");
    sb.append("dCk7CiAgICB9CiAgICB2YXIgbmV3X2RlbHRhID0ge307CiAgICBpZiAocGFyZW50ICE9IG51bGwpIHsK");
    sb.append("ICAgICAgcGFyZW50LmRlbHRhW3NzLnBhdGhdID0gbmV3X2RlbHRhOwogICAgfQogICAgcmV0dXJuIHsg");
    sb.append("dHJlZTogc3MudHJlZSwgcGFyZW50OiBwYXJlbnQsIGRlbHRhOiBuZXdfZGVsdGEsIHBhdGg6IHNzLnBh");
    sb.append("dGggfTsKICB9OwogIHNlbGYubWFrZURlbHRhQ29weSA9IG5ld19kZWx0YV9jb3B5OwoKICAvLyBIRUxQ");
    sb.append("RVIgfCBjb25zdHJ1Y3QgYSBwYXRoIHRvCiAgdmFyIHBhdGhfdG8gPSBmdW5jdGlvbiAoc3MsIG9iaikg");
    sb.append("ewogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHZhciBwZWVsID0ge307CiAgICAgIHBl");
    sb.append("ZWxbc3MucGF0aF0gPSBvYmo7CiAgICAgIHJldHVybiBwYXRoX3RvKHNzLnBhcmVudCwgcGVlbCk7CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICByZXR1cm4gb2JqOwogICAgfQogIH07CiAgc2VsZi5wYXRoVG8gPSBwYXRo");
    sb.append("X3RvOwoKICAvLyBIRUxQRVIgfCBnZXQgdGhlIHJvb3Qgb2YgdGhlIHNwZWNpZmljIHN0YXRlIChpLmUu");
    sb.append("IGVpdGhlciB0aGUgZGF0YSdzIHJvb3Qgb3IgdGhlIHZpZXcncyByb290KQogIHZhciByb290X29mID0g");
    sb.append("ZnVuY3Rpb24gKHNzKSB7CiAgICB2YXIgeCA9IHNzOwogICAgd2hpbGUgKHgucGFyZW50ICE9IG51bGwp");
    sb.append("IHsKICAgICAgeCA9IHgucGFyZW50OwogICAgfQogICAgcmV0dXJuIHg7CiAgfTsKICBzZWxmLnJvb3RP");
    sb.append("ZiA9IHJvb3Rfb2Y7CgogIC8vIEhFTFBFUiB8IHJlbW92ZSBhbGwgdGhlIGNoaWxkcmVuIGZyb20gdGhl");
    sb.append("IGdpdmVuIERPTSBub2RlCiAgdmFyIG51a2UgPSBmdW5jdGlvbiAocGFyZW50KSB7CiAgICB2YXIgbGFz");
    sb.append("dCA9IHBhcmVudC5sYXN0Q2hpbGQ7CiAgICB3aGlsZSAobGFzdCkgewogICAgICBwYXJlbnQucmVtb3Zl");
    sb.append("Q2hpbGQobGFzdCk7CiAgICAgIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAgfQogIH07CiAgc2Vs");
    sb.append("Zi5udWtlID0gbnVrZTsKCiAgLy8gSEVMUEVSOiBkZWJvdW5jZSB0aGUgZ2l2ZW4gZnVuY3Rpb25hbCB3");
    sb.append("aGVuIHJhcGlkIGZ1bmN0aW9uIHNwcmVhZCBpcyBleHBlY3RlZAogIHZhciBkZWJvdW5jZSA9IGZ1bmN0");
    sb.append("aW9uIChtcywgZm9vKSB7CiAgICB2YXIgc3RhdHVzID0geyBpbmZsaWdodDogZmFsc2UsIHRpbWVvdXQ6");
    sb.append("IG51bGwgfTsKICAgIHN0YXR1cy5pbmZsaWdodCA9IGZhbHNlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgaWYgKCFzdGF0dXMuaW5mbGlnaHQpIHsKICAgICAgICBzdGF0dXMuaW5mbGlnaHQgPSB0");
    sb.append("cnVlOwogICAgICAgIHN0YXR1cy50aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gZmFsc2U7CiAgICAgICAgICBzdGF0dXMudGltZW91");
    sb.append("dCA9IG51bGw7CiAgICAgICAgICBmb28oKTsKICAgICAgICB9LCBtcyAvKiBtcyAqLyk7IC8vIGRlYm91");
    sb.append("bmNlIHRoZSBwYXJhbWV0ZXJzCiAgICAgIH0KICAgIH07CiAgfTsKICBzZWxmLmRlYm91bmNlID0gZGVi");
    sb.append("b3VuY2U7CgogIC8vIEhFTFBFUiB8IHByZXBhcmUgYSBmcmVlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZh");
    sb.append("ciBtYWtlX3Vuc3ViID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgX19kYXRhOiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIH0sIF9fdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogIH07");
    sb.append("CgogIC8vIEhFTFBFUiB8IGF1Z21lbnQgYW4gZXhpc3Rpbmcgb2JqZWN0IHdpdGggdW5zdWJzY3JpYmUg");
    sb.append("ZGF0YQogIHZhciBhZGRfdW5zdWIgPSBmdW5jdGlvbiAob2JqKSB7CiAgICBvYmouX19kYXRhID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgfTsKICAgIG9iai5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwogIH07");
    sb.append("CgogIC8vIEhFTFBFUiB8IGZpcmUgdGhlIHVuc3Vic2NyaWJlIGNhbGxzIHdpdGhpbiBhbiBvYmplY3QK");
    sb.append("ICB2YXIgZmlyZV91bnN1YiA9IGZ1bmN0aW9uICh1bnN1YikgewogICAgdW5zdWIuX19kYXRhKCk7CiAg");
    sb.append("ICB1bnN1Yi5fX3ZpZXcoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJzY3JpYmUgdG8gc3RhdGUgYW5k");
    sb.append("IHBvcHVsYXRlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZhciBzdWJzY3JpYmVfc3RhdGUgPSBmdW5jdGlv");
    sb.append("biAoc3RhdGUsIHVuc3ViKSB7CiAgICBpZiAoc3RhdGUuZGF0YSAhPSBudWxsKSB7CiAgICAgIHVuc3Vi");
    sb.append("Ll9fZGF0YSA9IHN0YXRlLmRhdGEudHJlZS5zdWJzY3JpYmUocm9vdF9vZihzdGF0ZS5kYXRhKS5kZWx0");
    sb.append("YSk7CiAgICB9IGVsc2UgewogICAgICB1bnN1Yi5fX2RhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgIH07");
    sb.append("CiAgICB9CiAgICBpZiAoc3RhdGUudmlldyAhPSBudWxsKSB7CiAgICAgIHVuc3ViLl9fdmlldyA9IHN0");
    sb.append("YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUocm9vdF9vZihzdGF0ZS52aWV3KS5kZWx0YSk7CiAgICB9IGVs");
    sb.append("c2UgewogICAgICB1bnN1Yi5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICAgIH07CiAgICB9CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgdmlldyBvYmplY3QKICBzZWxmLnBWID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0");
    sb.append("ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAidmlldyIgfTsKICB9OwogIHNlbGYubmV3");
    sb.append("U3RhdGVWaWV3T2YgPSBzZWxmLnBWOwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRoZSBkYXRhIG9i");
    sb.append("amVjdAogIHNlbGYucEQgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiB7IHNlcnZpY2U6IHN0");
    sb.append("YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6ICJk");
    sb.append("YXRhIiB9OwogIH07CiAgc2VsZi5uZXdTdGF0ZURhdGFPZiA9IHNlbGYucEQ7CgogIC8vIFJVTlRJTUUg");
    sb.append("fCBTd2l0Y2ggdG8gdGhlIHJvb3Qgb2JqZWN0IC8gKFJvb3QpCiAgc2VsZi5wUiA9IGZ1bmN0aW9uIChz");
    sb.append("dGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRl");
    sb.append("LmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIHZhciBw");
    sb.append("cmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICB3aGlsZSAocHJpb3IgIT0gbnVsbCkgewogICAg");
    sb.append("ICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gcHJpb3I7CiAgICAgIHByaW9yID0gcHJpb3IucGFyZW50Owog");
    sb.append("ICAgfQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRlUm9vdE9mID0gc2VsZi5wUjsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IC4uLyAoVXApCiAgc2VsZi5wVSA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAg");
    sb.append("dmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6");
    sb.append("IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRb");
    sb.append("c3RhdGUuY3VycmVudF07CiAgICBpZiAocHJpb3IucGFyZW50ICE9IG51bGwpIHsKICAgICAgbmV4dFtz");
    sb.append("dGF0ZS5jdXJyZW50XSA9IHByaW9yOwogICAgfQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5l");
    sb.append("d1N0YXRlUGFyZW50T2YgPSBzZWxmLnBVOwoKICAvLyBSVU5USU1FIHwgZGl2ZSBvbmUgbGV2ZWwgSW50");
    sb.append("byBwYXRoMS9wYXRoMi8uLi4uL3BhdGhOCiAgc2VsZi5wSSA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkg");
    sb.append("ewogICAgdmFyIHByaW9yID0gc3RhdGVbc3RhdGUuY3VycmVudF07CiAgICBpZiAoIShuYW1lIGluIHBy");
    sb.append("aW9yLmRlbHRhKSkgewogICAgICBwcmlvci5kZWx0YVtuYW1lXSA9IHt9OwogICAgfQogICAgdmFyIG5l");
    sb.append("eHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRl");
    sb.append("LnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSB7");
    sb.append("CiAgICAgIHRyZWU6IHByaW9yLnRyZWUsCiAgICAgIGRlbHRhOiBwcmlvci5kZWx0YVtuYW1lXSwKICAg");
    sb.append("ICAgcGFyZW50OiBwcmlvciwKICAgICAgcGF0aDogbmFtZQogICAgfTsKICAgIGlmIChuZXh0LmN1cnJl");
    sb.append("bnQgPT0gImRhdGEiKSB7CiAgICAgIG5leHQuZGF0YS5jb25uZWN0aW9uID0gcHJpb3IuY29ubmVjdGlv");
    sb.append("bjsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZURpdmVJbnRvID0gc2Vs");
    sb.append("Zi5wSTsKCiAgLy8gUlVOVElNRSB8IGV4dGVuZCB0aGUgZ2l2ZW4gc3RhdGUgd2l0aCB0aGUgdmlldyBo");
    sb.append("YXZpbmcgYSBzZXBhcmF0ZSBjaGlsZAogIHNlbGYucEVWID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lKSB7");
    sb.append("CiAgICBpZiAoIShuYW1lIGluIHN0YXRlLnZpZXcuZGVsdGEpKSB7CiAgICAgIHN0YXRlLnZpZXcuZGVs");
    sb.append("dGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHNlcnZpY2U6IHN0YXRlLnNlcnZp");
    sb.append("Y2UsCiAgICAgIGRhdGE6IHN0YXRlLmRhdGEsCiAgICAgIHZpZXc6IHsKICAgICAgICB0cmVlOiBzdGF0");
    sb.append("ZS52aWV3LnRyZWUsCiAgICAgICAgZGVsdGE6IHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0sCiAgICAgICAg");
    sb.append("cGFyZW50OiBzdGF0ZS52aWV3LAogICAgICAgIHBhdGg6IG5hbWUKICAgICAgfSwKICAgICAgY3VycmVu");
    sb.append("dDogc3RhdGUuY3VycmVudAogICAgfTsKICB9OwogIHNlbGYubmV3U3RhdGVDcmVhdGVWaWV3Q2hpbGQg");
    sb.append("PSBzZWxmLnBFVjsKCiAgc2VsZi5wSUUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcp");
    sb.append("IHsKICAgIHZhciBuZXh0ID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAgICBpZiAoZXhwYW5kVmlldykg");
    sb.append("ewogICAgICByZXR1cm4gc2VsZi5wRVYobmV4dCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICByZXR1");
    sb.append("cm4gbmV4dDsKICAgIH0KICB9OwoKICB2YXIgZm9yayA9IGZ1bmN0aW9uIChwcmlvclN0YXRlKSB7CiAg");
    sb.append("ICB2YXIgc3RhdGUgPSB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0");
    sb.append("YTogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS5kYXRhKSwKICAgICAgdmlldzogbmV3X2RlbHRhX2Nv");
    sb.append("cHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDogcHJpb3JTdGF0ZS5jdXJyZW50CiAgICB9");
    sb.append("OwogICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24g");
    sb.append("PSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBzdGF0ZTsKICB9OwoK");
    sb.append("ICAvLyBSVU5USU1FIHwgc3Vic2NyaWJlIGJldHdlZW4gdGhlIHN0YXRlIGFuZCB0aGUgb2JqZWN0Lgog");
    sb.append("IC8vIFdoZW4gdGhlIG1lbWJlciBmaWVsZCB3aXRoaW4gc3RhdGUgb2YgbmFtZSBjaGFuZ2VzLCBjb3B5");
    sb.append("IHRoYXQgdmFsdWUgaW50byB0aGUgb2JqIGFuZCBydW4gcmVjb21wdXRlKCkKICBzZWxmLlkgPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUsIG9iaiwgbmFtZSwgcmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAgICByZWNvbXB1dGUoKTsKICAgIH07");
    sb.append("CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgc2VsZi5ZMiA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0ZSwgciwga2V5LCBuYW1lLCByZWNvbXB1dGUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAo");
    sb.append("dmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHIuX1trZXldOwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsK");
    sb.append("ICAgICAgcmVjb21wdXRlKG9iaik7CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsKICAgIHN1YnNjcmli");
    sb.append("ZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FOiBidWlsZCBhbiByeG9iagogIHNl");
    sb.append("bGYuUlggPSBmdW5jdGlvbiAodmFycykgewogICAgdmFyIG8gPSB7fTsKICAgIG8uXyA9IHt9OwogICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCB2YXJzLmxlbmd0aDsgaysrKSB7CiAgICAgIG8uX1t2YXJzW2tdXSA9");
    sb.append("IHt9OwogICAgfQogICAgby5fXyA9IGZ1bmN0aW9uKCkge307CiAgICByZXR1cm4gbzsKICB9OwoKICAv");
    sb.append("LyBSVU5USU1FIHwgSnVzdCBzdWJzY3JpYmVlIHZhbHVlIHRvIHRoZSBvYmplY3QgZmllbGQgb2YgbmFt");
    sb.append("ZSAobm8tcmVjb21wdXRlKQogIHNlbGYuWVMgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSkgewog");
    sb.append("ICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAg");
    sb.append("ICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCAiVGV4dCIKICBzZWxmLlQgPSBmdW5jdGlvbiAodHgpIHsKICAgIHJldHVy");
    sb.append("biBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0eCk7CiAgfTsKCiAgLy8gY29udmVydCBhIHZhbHVlIGlu");
    sb.append("dG8gYSBib29sZWFuCiAgc2VsZi5CID0gZnVuY3Rpb24odmFsKSB7CiAgICBpZiAodmFsID09PSB0cnVl");
    sb.append("KSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHZhbCA9PSAidHJ1ZSI7CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IDx2aWV3LXdyaXRlIG5hbWU9IiIgdmFsdWU9IiI+CiAgc2VsZi5WVyA9IGZ1");
    sb.append("bmN0aW9uKHN0YXRlLCBuYW1lLCByeE9iaikgewogICAgcnhPYmouX18gPSBkZWJvdW5jZSg1MCwgZnVu");
    sb.append("Y3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgdmFyIHZhbHVlID0gcnhPYmoudmFsdWU7");
    sb.append("CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgb2JqW25hbWVd");
    sb.append("ID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAg");
    sb.append("fQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0");
    sb.append("YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUUg");
    sb.append("fCA8bG9va3VwIHBhdGg9Li4uPgogIHNlbGYuTCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAg");
    sb.append("dmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlv");
    sb.append("biAodmFsdWUpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHZhbHVlOwogICAgfTsKICAgIHN1YnNjcmli");
    sb.append("ZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxs");
    sb.append("b29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAvPgogIHNlbGYuTFQgPSBmdW5jdGlv");
    sb.append("biAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRl");
    sb.append("eHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVl");
    sb.append("ICE9IG51bGwpIHsKICAgICAgICBkb20ubm9kZVZhbHVlID0gdHJhbnNmb3JtKHZhbHVlKTsKICAgICAg");
    sb.append("fQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAg");
    sb.append("fTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAv");
    sb.append("PgogIHNlbGYuTFRkVCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSwgdHJhbnNmb3JtLCBmcmVxKSB7CiAg");
    sb.append("ICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwogICAgLy8gY3JlYXRlIHRoZSBu");
    sb.append("ZXh1cyBvYmplY3QKICAgIHZhciBvYmogPSB7fTsKICAgIG9iai5mcmVxID0gZnJlcTsKICAgIG9iai52");
    sb.append("YWx1ZSA9ICIiOwoKICAgIC8vIHVwZGF0ZSB3aWxsIGV4ZWN1dGUgdGhlIHRyYW5zZm9ybSBvbiB0aGUg");
    sb.append("dmFsdWUKICAgIG9iai51cGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRy");
    sb.append("YW5zZm9ybSh0aGlzLnZhbHVlKTsKICAgIH0uYmluZChvYmopOwoKICAgIC8vIHN1YnNjcmlwdGlvbiB3");
    sb.append("aWxsIHN5bmMgdGhlIHZhbHVlCiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlm");
    sb.append("ICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICAgIHRoaXMu");
    sb.append("dXBkYXRlKCk7CiAgICAgIH0KICAgIH0uYmluZChvYmopOwoKICAgIC8vIHJlZnJlc2ggd2lsbCByZS1l");
    sb.append("eGVjdXRlIHRoZSB1cGRhdGUgKGFuZCB0aHVzIHRoZSB0cmFuc2Zvcm0pCiAgICBvYmoucmVmcmVzaCA9");
    sb.append("IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICBpZiAoZG9jdW1lbnQuYm9keS5j");
    sb.append("b250YWlucyhkb20pKSB7IC8vIHdpbGwgcnVuIHNvIGxvbmcgYXMgdGhlIERPTSBjb250YWlucyB0aGUg");
    sb.append("bm9kZSB3ZSBtYW5pcHVsYXRlZAogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucmVmcmVzaCwg");
    sb.append("dGhpcy5mcmVxKTsKICAgICAgfQogICAgfS5iaW5kKG9iaik7CiAgICAvLyBraWNrIG9mZiB0aGUgYXV0");
    sb.append("byB0cmFuc2Zvcm0KICAgIHdpbmRvdy5zZXRUaW1lb3V0KG9iai5yZWZyZXNoLCBmcmVxKTsKICAgIHN1");
    sb.append("YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElN");
    sb.append("RSB8IDx0YWc+CiAgc2VsZi5FID0gZnVuY3Rpb24gKHRhZywgbnMpIHsKICAgIGlmIChucyA9PSB1bmRl");
    sb.append("ZmluZWQgfHwgbnMgPT0gbnVsbCkgewogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0");
    sb.append("YWcpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnRO");
    sb.append("UyhucywgdGFnKTsKICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZSgieG1sbnMiLCBucyk7CiAgICAgIHJl");
    sb.append("dHVybiByZXN1bHQ7CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxwaWNrIG5hbWU9Li4uPgogIHNl");
    sb.append("bGYuUCA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIHJ4T2JqLCBjaGlsZE1ha2VyQ29ubmVj");
    sb.append("dGVkLCBjaGlsZE1ha2VyRGlzY29ubmVjdGVkKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7");
    sb.append("CiAgICByeE9iai5fXyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4T2JqKSkg");
    sb.append("ewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5uYW1lID09IHJ4T2JqLm5hbWUp");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("KHJ4T2JqLm5hbWUpOwogICAgICB0aGlzLm5hbWUgPSByeE9iai5uYW1lOwogICAgICBjby5jb25uZWN0");
    sb.append("ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgbnVrZShwYXJlbnQpOwogICAgICAgIGZpcmVfdW5zdWIo");
    sb.append("dW5zdWIpOwogICAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUu");
    sb.append("c2VydmljZSwKICAgICAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogY28sIHRyZWU6IGNvLnRyZWUsIGRl");
    sb.append("bHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgICB2aWV3OiBuZXdfZGVs");
    sb.append("dGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICAgICAgY3VycmVudDogImRhdGEiCiAgICAgICAg");
    sb.append("fTsKICAgICAgICBpZiAoY3MpIHsKICAgICAgICAgIGNoaWxkTWFrZXJDb25uZWN0ZWQocGFyZW50LCBz");
    sb.append("dGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQocGFy");
    sb.append("ZW50LCBzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIp");
    sb.append("OwogICAgICAgIC8vIFRPRE86IHJldHVybiBmYWxzZSB0byB1bnN1YgogICAgICAgIHJldHVybiB0cnVl");
    sb.append("OwogICAgICB9KTsKICAgIH0uYmluZCh7IG5hbWU6ICIiIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCA8");
    sb.append("dGVtcGxhdGUgbmFtZT0iLi4uIj4KICBzZWxmLlRQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAg");
    sb.append("dGVtcGxhdGVzW25hbWVdID0gZm9vOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnRlbXBsYXRl");
    sb.append("PSRuYW1lPgogIHNlbGYuVVQgPSBmdW5jdGlvbiAocGFyZW50LCBzdGF0ZSwgbmFtZSwgY2hpbGRfbWFr");
    sb.append("ZXIpIHsKICAgIHZhciBmb28gPSB0ZW1wbGF0ZXNbbmFtZV07CiAgICBmb28ocGFyZW50LCBzdGF0ZSwg");
    sb.append("Y2hpbGRfbWFrZXIpOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnN3aXRjaD1wYXRoIC4uPgog");
    sb.append("IHNlbGYuU1cgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBuYW1lLCBjaGlsZHJlbk1ha2Vy");
    sb.append("KSB7CiAgICB2YXIgc3dzdCA9IHsgcHJpb3I6IG51bGwgfTsKICAgIGFkZF91bnN1Yihzd3N0KTsKICAg");
    sb.append("IHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09IHRoaXMucHJpb3Ip");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5wcmlvciA9IHZhbHVlOwogICAgICBm");
    sb.append("aXJlX3Vuc3ViKHRoaXMpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmso");
    sb.append("cHJpb3JTdGF0ZSk7CiAgICAgIGNoaWxkcmVuTWFrZXIocGFyZW50LCBzdGF0ZSwgIiIgKyB2YWx1ZSk7");
    sb.append("CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdGhpcyk7CgogICAgfS5iaW5kKHN3c3QpOwogICAg");
    sb.append("c3Vic2NyaWJlKHByaW9yU3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWcg");
    sb.append("cng6aXRlcmF0ZT1wYXRoIC4uLj4KICBzZWxmLklUID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3RhdGUs");
    sb.append("IG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShzdGF0");
    sb.append("ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2YXIgZG9tQnlLZXkgPSB7fTsKICAgIHZhciB2aWV3VW5T");
    sb.append("dWJCeUtleSA9IHt9OwogICAgdmFyIGtpbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGtl");
    sb.append("eSBpbiB2aWV3VW5TdWJCeUtleSkgewogICAgICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5");
    sb.append("XSk7CiAgICAgICAgZGVsZXRlIHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgIH0KICAgICAgZm9yICh2");
    sb.append("YXIga2V5IGluIGRvbUJ5S2V5KSB7CiAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgIH0K");
    sb.append("ICAgIH07CgogICAgdmFyIHN1YiA9IHsKICAgICAgIisiOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAg");
    sb.append("dmFyIG5ld19zdGF0ZSA9IGZvcmsoc2VsZi5wSUUoaXRfc3RhdGUsIGtleSwgZXhwYW5kVmlldykpOwog");
    sb.append("ICAgICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgICAgICB2YXIgZG9tID0gbWFrZXIobmV3");
    sb.append("X3N0YXRlKTsKICAgICAgICBkb21CeUtleVtrZXldID0gZG9tOwogICAgICAgIHZpZXdVblN1YkJ5S2V5");
    sb.append("W2tleV0gPSB1bnN1YjsKICAgICAgICBwYXJlbnREb20uYXBwZW5kKGRvbSk7CiAgICAgICAgdmFyIGl0");
    sb.append("ZW1fZGVsdGEgPSBuZXdfc3RhdGUuZGF0YS5kZWx0YTsKICAgICAgICBuZXdfc3RhdGUuZGF0YS5kZWx0");
    sb.append("YSA9IHt9OwogICAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgICBy");
    sb.append("ZXR1cm4gaXRlbV9kZWx0YTsKICAgICAgfSwKICAgICAgIi0iOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAg");
    sb.append("ICAgaWYgKGtleSBpbiBkb21CeUtleSkgewogICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRv");
    sb.append("bUJ5S2V5W2tleV0pOwogICAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGlmIChrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsKICAgICAgICAgIGZpcmVfdW5zdWIodmlld1Vu");
    sb.append("U3ViQnlLZXlba2V5XSk7CiAgICAgICAgICBkZWxldGUgdmlld1VuU3ViQnlLZXlba2V5XTsKICAgICAg");
    sb.append("ICB9CiAgICAgIH0sCiAgICAgICJ+IjogZnVuY3Rpb24gKG9yZCkgewogICAgICAgIG51a2UocGFyZW50");
    sb.append("RG9tKTsKICAgICAgICBpZiAob3JkID09IG51bGwpIHsKICAgICAgICAgIGtpbGwoKTsKICAgICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmQubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tQnlLZXlbb3JkW2tdXSk7CiAgICAgICAg");
    sb.append("fQogICAgICB9CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIHNl");
    sb.append("bGYuUlAgPSBmdW5jdGlvbiAocGFyZW50RG9tLCBzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldywgbWFrZXIp");
    sb.append("IHsKICAgIHZhciBpdF9zdGF0ZSA9IHNlbGYucElFKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3KTsKICAg");
    sb.append("IHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG4gPSAwOwogICAgICB0cnkgewog");
    sb.append("ICAgICAgIG4gPSB0eXBlb2YgKHZhbHVlKSA9PSAnbnVtYmVyJyA/IHZhbHVlIDogcGFyc2VJbnQodmFs");
    sb.append("dWUpOwogICAgICB9IGNhdGNoIChmYWlsZWRQYXJzaW5nTikgewogICAgICB9CiAgICAgIHdoaWxlICh0");
    sb.append("aGlzLmF0IDwgbiAtIDEpIHsKICAgICAgICB0aGlzLmF0ICsrOwogICAgICAgIHRoaXMudHJhY2sgKys7");
    sb.append("CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZvcmsoc2VsZi5wSUUoaXRfc3RhdGUsIHRoaXMudHJhY2sg");
    sb.append("KyAiIiwgZXhwYW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgICAg");
    sb.append("ICB2YXIgZG9tID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICB0aGlzLml0ZW1zW3RoaXMuYXRdID0g");
    sb.append("e3Vuc3ViOnVuc3ViLCBkb206ZG9tfTsKICAgICAgICBwYXJlbnREb20uYXBwZW5kKGRvbSk7CiAgICAg");
    sb.append("ICAgc3Vic2NyaWJlX3N0YXRlKG5ld19zdGF0ZSwgdW5zdWIpOwogICAgICB9CiAgICAgIHdoaWxlICh0");
    sb.append("aGlzLmF0ID49IG4gJiYgdGhpcy5hdCA+PSAwKSB7CiAgICAgICAgZmlyZV91bnN1Yih0aGlzLml0ZW1z");
    sb.append("W3RoaXMuYXRdLnVuc3ViKTsKICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQodGhpcy5pdGVtc1t0");
    sb.append("aGlzLmF0XS5kb20pOwogICAgICAgIHRoaXMuaXRlbXNbdGhpcy5hdF0gPSBudWxsOwogICAgICAgIGRl");
    sb.append("bGV0ZSB0aGlzLml0ZW1zW3RoaXMuYXRdOwogICAgICAgIHRoaXMuYXQtLTsKICAgICAgfQogICAgfS5i");
    sb.append("aW5kKHtpdGVtczpbXSwgYXQ6LTEsIHRyYWNrOjB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwg");
    sb.append("c3ViKTsKICB9CiAgdmFyIGZpbmQgPSBmdW5jdGlvbiAoc3RhdGUsIGNoYW5uZWwsIGtleSwgdmFsdWUp");
    sb.append("IHsKICAgIGlmIChjaGFubmVsIGluIHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZykg");
    sb.append("ewogICAgICB2YXIgYXJyID0gc3RhdGVbImRhdGEiXS5jb25uZWN0aW9uLm91dHN0YW5kaW5nW2NoYW5u");
    sb.append("ZWxdLm9wdGlvbnM7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXJyLmxlbmd0aDsgaysrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSBhcnJba107CiAgICAgICAgaWYgKGtleSBpbiBzICYmIHNba2V5XSA9PSB2YWx1");
    sb.append("ZSkgewogICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxs");
    sb.append("OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKCiAgdmFyIGN1c3RvbXMg");
    sb.append("PSB7fTsKCiAgc2VsZi5QUkNVQUMgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICBjdXN0b21zW25h");
    sb.append("bWVdID0gZm9vOwogIH07CgogIHNlbGYuZXhDQyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBj");
    sb.append("dXN0b21Db21tYW5kTmFtZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgaWYgKGN1c3RvbUNvbW1hbmROYW1lIGluIGN1c3RvbXMpIHsKICAgICAgICBjdXN0");
    sb.append("b21zW2N1c3RvbUNvbW1hbmROYW1lXShzdGF0ZSwgZG9tKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAg");
    sb.append("Ly8gY3VzdG9tIGV2ZW50IG9uIGZvcm1zOyByeDpzdWNjZXNzPSIuLi4iCiAgdmFyIGZpcmVfc3VjY2Vz");
    sb.append("cyA9IGZ1bmN0aW9uIChkb20pIHsKICAgIGRvbS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgic3VjY2Vz");
    sb.append("cyIpKTsKICB9OwogIHNlbGYuZmlyZV9zdWNjZXNzID0gZmlyZV9zdWNjZXNzOwoKICAvLyBjdXN0b20g");
    sb.append("ZXZlbnQgb24gZm9ybXM7IHJ4OmZhaWxlZD0iLi4uIgogIHZhciBmaXJlX2ZhaWx1cmUgPSBmdW5jdGlv");
    sb.append("biAoZG9tLCBtc2cpIHsKICAgIHZhciBlID0gbmV3IEV2ZW50KCJmYWlsdXJlIik7CiAgICBlLm1lc3Nh");
    sb.append("Z2UgPSBtc2c7CiAgICBjb25zb2xlLmxvZygiRkFJTFVSRToiICsgbXNnKTsKICAgIGRvbS5kaXNwYXRj");
    sb.append("aEV2ZW50KGUpOwogIH07CiAgc2VsZi5maXJlX2ZhaWx1cmUgPSBmaXJlX2ZhaWx1cmU7CgogIHNlbGYu");
    sb.append("YUNDID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBjdXN0b21Db21tYW5kTmFtZSkgewogICAgdmFyIHNp");
    sb.append("Z25hbCA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgaWYgKHNpZ25hbCA9PSBudWxsKSB7CiAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCBtc2cpOwogICAgICB9CiAgICB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsK");
    sb.append("ICAgICAgaWYgKGN1c3RvbUNvbW1hbmROYW1lIGluIGN1c3RvbXMpIHsKICAgICAgICBldnQucHJldmVu");
    sb.append("dERlZmF1bHQoKTsKICAgICAgICB2YXIgb2JqID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICAg");
    sb.append("IGN1c3RvbXNbY3VzdG9tQ29tbWFuZE5hbWVdKG9iaiwgc3RhdGUsIHNpZ25hbCwgc2VsZik7CiAgICAg");
    sb.append("ICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVfZmFpbHVyZShm");
    sb.append("b3JtLCAiRmFpbGVkIHRvIGZpbmQgJyIgKyBjdXN0b21Db21tYW5kTmFtZSArICInIik7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgfTsKCiAgdmFyIG1ha2VfY2hvaWNlX2FycmF5ID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFu");
    sb.append("bmVsKSB7CiAgICB2YXIgY2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAg");
    sb.append("aWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAg");
    sb.append("ICB9CiAgICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgIHZhciBhcnIgPSBbXTsKICAg");
    sb.append("IGZvciAodmFyIGlkIGluIGNob2ljZSkgewogICAgICBhcnIucHVzaChjaG9pY2VbaWRdKTsKICAgIH0K");
    sb.append("ICAgIHJldHVybiBhcnI7CiAgfQoKICBzZWxmLmV4RklOID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3Rh");
    sb.append("dGUsIGNoYW5uZWwpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIHZhciBhcnIgPSBtYWtlX2Nob2ljZV9hcnJheShzdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZh");
    sb.append("ciBjbGVhciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxldGUgc3RhdGUuZGF0YS5jb25uZWN0aW9u");
    sb.append("LmNob2ljZXNbY2hhbm5lbF07CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNlcyhj");
    sb.append("aGFubmVsLCB7fSk7CiAgICAgIH07CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChj");
    sb.append("aGFubmVsLCBhcnIsIHsKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAg");
    sb.append("ICBjbGVhcigpOwogICAgICAgICAgY29uc29sZS5sb2coImZhaWxlZDoiICsgcmVhc29uKTsKICAgICAg");
    sb.append("ICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBjbGVhcigp");
    sb.append("OwogICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxKTsKICAgICAgICB9");
    sb.append("CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgc2VsZi5GSU4gPSBmdW5jdGlvbiAocGFyZW50LCBwcmlv");
    sb.append("clN0YXRlLCBjaGFubmVsLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7");
    sb.append("CiAgICB2YXIgZmluYWxpemUgPSB7CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxz");
    sb.append("ZQogICAgfTsKICAgIGFkZF91bnN1YihmaW5hbGl6ZSk7CgogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoZmluYWxpemUpOwogICAgICBudWtlKHBhcmVudCk7CiAg");
    sb.append("ICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRC");
    sb.append("ZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShz");
    sb.append("dGF0ZSwgZmluYWxpemUpOwogICAgfTsKCiAgICBmaW5hbGl6ZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFu");
    sb.append("bmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2Vf");
    sb.append("YXJyYXkocHJpb3JTdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciBldmFsID0gKCdtaW4nIGluIG91dCAm");
    sb.append("JiAnbWF4JyBpbiBvdXQpID8gKG91dC5taW4gPD0gYXJyLmxlbmd0aCAmJiBhcnIubGVuZ3RoIDw9IG91");
    sb.append("dC5tYXgpIDogdHJ1ZTsKICAgICAgaWYgKGZpbmFsaXplLmV2YWwgIT0gZXZhbCkgewogICAgICAgIGZp");
    sb.append("bmFsaXplLmV2YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShmaW5hbGl6ZS5ldmFsKTsKICAgICAgfQog");
    sb.append("ICAgfTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNoYW5u");
    sb.append("ZWwsIGZ1bmN0aW9uICgpIHsKICAgICAgZmluYWxpemUudXBkYXRlKCk7CiAgICAgIC8vIFRPRE86IHJl");
    sb.append("dHVybiB3aGV0aGVyIG9yIG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0dXJuIHRydWU7");
    sb.append("CiAgICB9KTsKICB9OwoKICAvLyBjaG9vc2UKICBzZWxmLmV4Q0ggPSBmdW5jdGlvbiAoZG9tLCB0eXBl");
    sb.append("LCBzdGF0ZSwgbmFtZSwgY2hhbm5lbCwga2V5KSB7CiAgICB2YXIgZGVjaWRlID0geyB2YWx1ZTogbnVs");
    sb.append("bCB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFy");
    sb.append("IHJlc3VsdCA9IGZpbmQoc3RhdGUsIGNoYW5uZWwsIGtleSwgZGVjaWRlLnZhbHVlKTsKICAgICAgaWYg");
    sb.append("KHJlc3VsdCAhPSBudWxsKSB7CiAgICAgICAgdmFyIGNob2ljZXMgPSBzdGF0ZS5kYXRhLmNvbm5lY3Rp");
    sb.append("b24uY2hvaWNlczsKICAgICAgICBpZiAoIShjaGFubmVsIGluIGNob2ljZXMpKSB7CiAgICAgICAgICBj");
    sb.append("aG9pY2VzW2NoYW5uZWxdID0ge307CiAgICAgICAgfQogICAgICAgIHZhciBjaG9pY2UgPSBjaG9pY2Vz");
    sb.append("W2NoYW5uZWxdOwogICAgICAgIHZhciB2YWxLZXkgPSByZXN1bHRba2V5XTsKICAgICAgICBpZiAodmFs");
    sb.append("S2V5IGluIGNob2ljZSkgewogICAgICAgICAgZGVsZXRlIGNob2ljZVt2YWxLZXldOwogICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICBjaG9pY2VbdmFsS2V5XSA9IHJlc3VsdDsKICAgICAgICB9CiAgICAgICAg");
    sb.append("c3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNlcyhjaGFubmVsLCBjaG9pY2UpOwogICAgICB9CiAg");
    sb.append("ICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRl");
    sb.append("Y2lkZS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgc2VsZi5leEQgPSBmdW5jdGlvbiAoZG9t");
    sb.append("LCB0eXBlLCBzdGF0ZSwgbmFtZSwgY2hhbm5lbCwga2V5KSB7CiAgICB2YXIgZGVjaWRlID0geyB2YWx1");
    sb.append("ZTogbnVsbCB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IGZpbmQoc3RhdGUsIGNoYW5uZWwsIGtleSwgZGVjaWRlLnZhbHVlKTsKICAg");
    sb.append("ICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7CiAgICAgICAgbGV0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93");
    sb.append("KCk7CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIHJlc3VsdCwg");
    sb.append("ewogICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewoKICAgICAgICAgIH0sCiAgICAg");
    sb.append("ICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygi");
    sb.append("U3VjY2Vzc3wiICsgcGF5bG9hZC5zZXEgKyAiO2xhdGVuY3k9IiArIChwZXJmb3JtYW5jZS5ub3coKSAt");
    sb.append("IHN0YXJ0KSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgc3Vic2Ny");
    sb.append("aWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVlID0gdmFs");
    sb.append("dWU7CiAgICB9KTsKICB9OwoKICB2YXIgcmVnX2V2ZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5");
    sb.append("cGUsIHJ1bm5hYmxlKSB7CiAgICAvLyBUT0RPOiBjb25uZWN0ZWQvZGlzY29ubmVjdGVkIGFzIHNwZWNp");
    sb.append("YWwgZXZlbnRzIHRvIGNvbnNpZGVyCiAgICBpZiAodHlwZSA9PSAibG9hZCIpIHsKICAgICAgd2luZG93");
    sb.append("LnNldFRpbWVvdXQocnVubmFibGUsIDEpOwogICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCJk");
    sb.append("ZWxheToiKSkgewogICAgICAvLyBkZWxheSB3aWxsIHJ1biBhZnRlciAkZGVsYXlUaW1lTVMgSUYgdGhl");
    sb.append("IGRvbSBlbGVtZW50IGlzIHN0aWxsIHZpc2libGUgdG8gdGhlIGRvY3VtZW50CiAgICAgIHZhciBkZWxh");
    sb.append("eVRpbWVNUyA9IHBhcnNlSW50KHR5cGUuc3Vic3RyaW5nKDYpKTsKICAgICAgd2luZG93LnNldFRpbWVv");
    sb.append("dXQoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKSkgewog");
    sb.append("ICAgICAgICAgcnVubmFibGUoKTsKICAgICAgICB9CiAgICAgIH0sIGRlbGF5VGltZU1TKTsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHJ1bm5hYmxlKTsKICAgIH0KICB9");
    sb.append("CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmaXJlOmNoYW5uZWwgLi4uIiAuLi4+");
    sb.append("CiAgc2VsZi5vbkZSID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIGNoYW5uZWwpIHsKICAgIHJl");
    sb.append("Z19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHN0YXRlLmRhdGEuY29u");
    sb.append("bmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCB7fSwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTRU5UICciICsgY2hhbm5lbCArICInIik7CiAgICAgICAg");
    sb.append("fSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmxv");
    sb.append("ZygiRkFJTEVEIFRPIEZJUkUgJyIgKyBjaGFubmVsICsgIicgRFVFOiIgKyByZWFzb24pOyAnJwogICAg");
    sb.append("ICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9");
    sb.append("Ii4uLiBmb3JjZS1hdXRoPW5hbWUsdG9rZW4gLi4uIj4KICBzZWxmLm9uRk9SQ0VfQVVUSCA9IGZ1bmN0");
    sb.append("aW9uIChkb20sIHR5cGUsIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpIHsKICAgIHJlZ19ldmVudChudWxs");
    sb.append("LCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0g");
    sb.append("aWRlbnRpdHk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlO");
    sb.append("YW1lLCBpZGVudGl0eSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50");
    sb.append("PSIuLi4gc2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLm9uUyA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlLCBuYW1lLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gImZ1");
    sb.append("bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0");
    sb.append("ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7");
    sb.append("CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gdGU6bmFtZSAu");
    sb.append("Li4iPgogIHNlbGYub25UTSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBveCwgb3kp");
    sb.append("IHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAg");
    sb.append("dmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB7CiAgICAgICAgeDpldmVudC5jbGllbnRYICsg");
    sb.append("d2luZG93LnNjcm9sbFggKyBveCwKICAgICAgICB5OmV2ZW50LmNsaWVudFkgKyB3aW5kb3cuc2Nyb2xs");
    sb.append("WSArIG95CiAgICAgIH07CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsK");
    sb.append("ICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5hbWUgLi4uIj4KICBzZWxmLm9u");
    sb.append("VEUgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewogICAgcmVnX2V2ZW50KHN0YXRl");
    sb.append("LCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9i");
    sb.append("altuYW1lXSA9IGV2ZW50Lm1lc3NhZ2U7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmll");
    sb.append("dywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgdmFyIGZvcm1fb2YgPSBmdW5jdGlvbihkb20pIHsKICAgIHZhciBuZXh0ID0gZG9t");
    sb.append("OwogICAgd2hpbGUgKG5leHQgIT0gbnVsbCkgewogICAgICBpZiAobmV4dC50YWdOYW1lLnRvVXBwZXJD");
    sb.append("YXNlKCkgPT0gIkZPUk0iKSB7CiAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgIH0KICAgICAgbmV4dCA9");
    sb.append("IG5leHQucGFyZW50RWxlbWVudDsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgLy8gUlVOVElN");
    sb.append("RTogPHRhZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAgc2VsZi5vUlNUID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlv");
    sb.append("biAoZXZlbnQpIHsKICAgICAgdmFyIGYgPSBmb3JtX29mKGRvbSk7CiAgICAgIGlmIChmICE9IG51bGwp");
    sb.append("IHsKICAgICAgICBmLnJlc2V0KCk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0");
    sb.append("YWcgLi4gcng6ZXZlbnQ9Ii4uLiBzdWJtaXQgLi4uIj4KICBzZWxmLm9TQk1UID0gZnVuY3Rpb24gKGRv");
    sb.append("bSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAo");
    sb.append("ZXZlbnQpIHsKICAgICAgdmFyIGYgPSBmb3JtX29mKGRvbSk7CiAgICAgIGlmIChmICE9IG51bGwpIHsK");
    sb.append("ICAgICAgICBmLm9uc3VibWl0KG5ldyBTdWJtaXRFdmVudCgic3VibWl0IikpOwogICAgICB9CiAgICB9");
    sb.append("KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZ290bzp1cmkgLi4uIj4K");
    sb.append("ICBzZWxmLm9uR08gPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgdmFsdWUpIHsKICAgIHJlZ19l");
    sb.append("dmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1cmkgPSAodHlwZW9m");
    sb.append("ICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgPyB2YWx1ZSgpIDogdmFsdWU7CiAgICAgIHNlbGYuZ290byh1");
    sb.append("cmkpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRvZ2ds");
    sb.append("ZTpuYW1lIC4uLiI+CiAgc2VsZi5vblQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkg");
    sb.append("ewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogZmFsc2UgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwg");
    sb.append("ZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVd");
    sb.append("ID0gIWNhcHR1cmVkLnZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9i");
    sb.append("aik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwog");
    sb.append("ICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2FwdHVyZWQu");
    sb.append("dmFsdWUgPSB2YWx1ZSA9PSB0cnVlOwogICAgfSk7CiAgfTsKCiAgdmFyIG9yZGVyX3RvZ2dsZSA9IGZ1");
    sb.append("bmN0aW9uKHByaW9yLCB2YWwpIHsKCiAgICB2YXIgcGFydHMgPSBwcmlvci5zcGxpdCgiLCIpOwogICAg");
    sb.append("dmFyIHByZWZpeCA9ICcnOwogICAgdmFyIG5leHQgPSBbIiJdOwogICAgZm9yICh2YXIgayA9IDA7IGsg");
    sb.append("PCBwYXJ0cy5sZW5ndGg7IGsrKykgewogICAgICBpZiAocGFydHNba10gPT0gIiIpIHsKICAgICAgICBj");
    sb.append("b250aW51ZTsKICAgICAgfSBlbHNlIGlmICh2YWwgPT0gcGFydHNba10pIHsKICAgICAgICBwcmVmaXgg");
    sb.append("PSAnLSc7CiAgICAgIH0gZWxzZSBpZiAoIi0iICsgdmFsID09cGFydHNba10pIHsKICAgICAgICBwcmVm");
    sb.append("aXggPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0LnB1c2gocGFydHNba10pOwogICAgICB9");
    sb.append("CiAgICB9CiAgICBuZXh0WzBdID0gcHJlZml4ICsgdmFsOwogICAgcmV0dXJuIG5leHQuam9pbigiLCIp");
    sb.append("OwogIH0KCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIG9yZGVyLXRvZ2dsZTpuYW1l");
    sb.append("PXZhbCAuLi4iPgogIHNlbGYub25PVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCB2");
    sb.append("YWwpIHsKICAgIHZhciBjYXB0dXJlZCA9IHsgdmFsdWU6ICIiIH07CiAgICByZWdfZXZlbnQoc3RhdGUs");
    sb.append("IGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1l");
    sb.append("XSA9IG9yZGVyX3RvZ2dsZShjYXB0dXJlZC52YWx1ZSwgdmFsKTsKICAgICAgdmFyIGRlbHRhID0gcGF0");
    sb.append("aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0");
    sb.append("ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVl");
    sb.append("KSB7CiAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsdWU7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("OiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZGVsdGE6bmFtZT1kaWZmIiAuLi4iPgogIHNlbGYub25EID0g");
    sb.append("ZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGRpZmYpIHsKICAgIHZhciBjYXB0dXJlZCA9");
    sb.append("IHsgdmFsdWU6IDAgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gY2FwdHVyZWQudmFsdWUgKyBkaWZm");
    sb.append("OwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0");
    sb.append("YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRl");
    sb.append("LCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJudW1i");
    sb.append("ZXIiKSB7CiAgICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICB2YXIgdmFsID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7CiAg");
    sb.append("ICAgICAgICBjYXB0dXJlZC52YWx1ZSA9IHZhbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH07");
    sb.append("CiAgc2VsZi5DU0VOID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgZXZhbFN0YXRlLCBjaGFu");
    sb.append("bmVsLCBrZXksIG5hbWUsIHNob3VsZEJlLCBfZXhwYW5kLCBtYWtlclRydWUsIG1ha2VyRmFsc2UpIHsK");
    sb.append("ICAgIHZhciBjaG9zZW4gPSB7CiAgICAgIHZhbHVlOiAiIiwKICAgICAgb3duZXI6IHBhcmVudCwKICAg");
    sb.append("ICAgc2hvd246IGZhbHNlLAogICAgICBldmFsOiBudWxsCiAgICB9OwogICAgYWRkX3Vuc3ViKGNob3Nl");
    sb.append("bik7CiAgICB2YXIgY2hhbmdlID0gZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihjaG9z");
    sb.append("ZW4pOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7");
    sb.append("CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0");
    sb.append("YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAg");
    sb.append("ICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgY2hvc2VuKTsKICAgIH07CgogICAgY2hvc2Vu");
    sb.append("LnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG91dCA9IHByaW9yU3RhdGUuZGF0YS5jb25u");
    sb.append("ZWN0aW9uLm91dHN0YW5kaW5nW2NoYW5uZWxdOwogICAgICBpZiAoIShvdXQpKSByZXR1cm47CgogICAg");
    sb.append("ICB2YXIgY2hvaWNlcyA9IHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXM7CiAgICAgIGlm");
    sb.append("ICghKGNoYW5uZWwgaW4gY2hvaWNlcykpIHsKICAgICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAg");
    sb.append("ICAgIH0KICAgICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAgICAgIHZhciBldmFsID0g");
    sb.append("Y2hvc2VuLnZhbHVlIGluIGNob2ljZTsKICAgICAgaWYgKGNob3Nlbi5ldmFsICE9IGV2YWwpIHsKICAg");
    sb.append("ICAgICBjaG9zZW4uZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGNob3Nlbi5ldmFsKTsKICAgICAg");
    sb.append("fQogICAgfTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNo");
    sb.append("YW5uZWwsIGZ1bmN0aW9uICgpIHsKICAgICAgY2hvc2VuLnVwZGF0ZSgpOwogICAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICAgIH0pOwoKICAgIHN1YnNjcmliZShldmFsU3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkg");
    sb.append("ewogICAgICBjaG9zZW4udmFsdWUgPSB2YWx1ZTsKICAgICAgY2hvc2VuLnVwZGF0ZSgpOwogICAgfSk7");
    sb.append("CiAgfTsKCiAgc2VsZi5ERSA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwg");
    sb.append("Y2hhbm5lbCwga2V5LCBuYW1lLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNl");
    sb.append("KSB7CiAgICB2YXIgZGVjaWRlID0gewogICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQs");
    sb.append("CiAgICAgIHNob3duOiBmYWxzZSwKICAgICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1Yihk");
    sb.append("ZWNpZGUpOwogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIo");
    sb.append("ZGVjaWRlKTsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3Rh");
    sb.append("dGUpOwogICAgICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50");
    sb.append("LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsK");
    sb.append("ICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGRlY2lkZSk7CiAgICB9OwoKICAgIGRl");
    sb.append("Y2lkZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBldmFsID0gZmluZChwcmlvclN0YXRl");
    sb.append("LCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSkgIT0gbnVsbDsKICAgICAgaWYgKGRlY2lkZS5ldmFs");
    sb.append("ICE9IGV2YWwpIHsKICAgICAgICBkZWNpZGUuZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGRlY2lk");
    sb.append("ZS5ldmFsKTsKICAgICAgfQogICAgfTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJz");
    sb.append("Y3JpYmUoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBkZWNpZGUudXBkYXRlKCk7CiAgICAgIC8v");
    sb.append("IFRPRE86IHJldHVybiB3aGV0aGVyIG9yIG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0");
    sb.append("dXJuIHRydWU7CiAgICB9KTsKCiAgICBzdWJzY3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAo");
    sb.append("dmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVlID0gdmFsdWU7CiAgICAgIGRlY2lkZS51cGRhdGUoKTsK");
    sb.append("ICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCByeDppZiAvIHJ4Omlmbm90ID0gInBhdGgiCiAgc2Vs");
    sb.append("Zi5JRiA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIG5hbWUsIHNob3VsZEJlLCBleHBhbmRW");
    sb.append("aWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHNlbGYuSUZ4KHBhcmVudCwgcHJpb3JTdGF0");
    sb.append("ZSwgcHJpb3JTdGF0ZSwgbmFtZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJG");
    sb.append("YWxzZSk7CiAgfTsKICBzZWxmLklGeCA9IGZ1bmN0aW9uIChwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHBy");
    sb.append("aW9yU3RhdGUsIG5hbWUsIHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2Up");
    sb.append("IHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHZhciBzZXQgPSBmdW5jdGlvbiAodmFs");
    sb.append("dWUpIHsKICAgICAgdmFyIHNob3cgPSAodmFsdWUgPyB0cnVlIDogZmFsc2UpID09PSBzaG91bGRCZTsK");
    sb.append("ICAgICAgaWYgKHRoaXMuc2hvd24gPT0gc2hvdykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAg");
    sb.append("ICB0aGlzLnNob3duID0gc2hvdzsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICBmaXJlX3Vuc3ViKHVu");
    sb.append("c3ViKTsKICAgICAgdmFyIG5leHQgPSBudWxsOwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gIm9i");
    sb.append("amVjdCIpIHsKICAgICAgICBuZXh0ID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgICBuZXh0ID0gc2Vs");
    sb.append("Zi5wSShuZXh0LCBuYW1lKTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewogICAgICAgICAgbmV4dCA9");
    sb.append("IHNlbGYucEVWKG5leHQsIG5hbWUpOwogICAgICAgIH0KICAgICAgICBuZXh0LmN1cnJlbnQgPSAnZGF0");
    sb.append("YSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCA9IGZvcmsob3JpZ2luYWxTdGF0ZSk7CiAgICAg");
    sb.append("IH0KICAgICAgLy8gd2UgZGVmYXVsdCBiYWNrIHRvIGRhdGEgaW4gdGhlIElGIGNhc2UKICAgICAgaWYg");
    sb.append("KHNob3cpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBuZXh0KTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBtYWtlckZhbHNlKHBhcmVudCwgbmV4dCk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRl");
    sb.append("KG5leHQsIHVuc3ViKTsKICAgIH0uYmluZCh7IHNob3duOiAnbm8nIH0pOwogICAgc3Vic2NyaWJlKHBy");
    sb.append("aW9yU3RhdGUsIG5hbWUsIHNldCk7CiAgfTsKCiAgLy8vIFJVTlRJTUUgfCByeDphY3Rpb249Y29weTpw");
    sb.append("YXRoCiAgc2VsZi5hQ1AgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIG5hbWUpIHsKICAgIGZvcm0ub25z");
    sb.append("dWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2");
    sb.append("YXIgb2JqID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICBpZiAobmFtZSAhPSAiLiIgJiYgbmFt");
    sb.append("ZSAhPSAiIikgewogICAgICAgIHZhciBubyA9IHt9OwogICAgICAgIG5vW25hbWVdID0gb2JqOwogICAg");
    sb.append("ICAgIG9iaiA9IG5vOwogICAgICB9CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywg");
    sb.append("b2JqKTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgIGZpcmVfc3VjY2Vz");
    sb.append("cyhmb3JtKTsKICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxpbnB1dCAuLi4gcng6c3luYz1wYXRo");
    sb.append("IC4uLj4KICBzZWxmLlNZID0gZnVuY3Rpb24gKGVsLCBzdGF0ZSwgbmFtZSwgbXMpIHsKICAgIHZhciB0");
    sb.append("eXBlID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJDYXNlKCkgOiAidGV4dCI7CiAgICB2");
    sb.append("YXIgc2lnbmFsID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2Jq");
    sb.append("W25hbWVdID0gZWwudmFsdWU7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2Jq");
    sb.append("KTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9OwogICAgaWYgKHR5cGUg");
    sb.append("PT0gIkNIRUNLQk9YIikgewogICAgICBlbC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5jdGlvbiAo");
    sb.append("ZXZ0KSB7CiAgICAgICAgc2lnbmFsKGVsLmNoZWNrZWQgPyB0cnVlIDogZmFsc2UpOwogICAgICB9KTsK");
    sb.append("ICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAgICAgIGVsLm9uY2hhbmdlID0gZGVib3Vu");
    sb.append("Y2UobXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBpZiAoZWwuY2hlY2tlZCkgewogICAgICAgICAg");
    sb.append("c2lnbmFsKGVsLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgZWwu");
    sb.append("b25jaGFuZ2UgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIHNpZ25hbChlbC52");
    sb.append("YWx1ZSk7CiAgICAgIH0pOwogICAgICBlbC5vbmtleXVwID0gZWwub25jaGFuZ2U7CiAgICAgIHdpbmRv");
    sb.append("dy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICB9");
    sb.append("LCAxKTsKICAgIH0KICB9OwoKICB2YXIgZmlyc3RPY2N1ciA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgIGlm");
    sb.append("IChhID4gMCAmJiBiID4gMCkgewogICAgICByZXR1cm4gTWF0aC5taW4oYSwgYik7CiAgICB9CiAgICBp");
    sb.append("ZiAoYSA+IDApIHsKICAgICAgcmV0dXJuIGE7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gYjsKICAg");
    sb.append("IH0KICB9OwogIC8vIEhFTFBFUiB8IGV4dHJhY3QgYWxsIHRoZSBpbnB1dHMgZnJvbSB0aGUgZ2l2ZW4g");
    sb.append("ZWxlbWVudCBhbmQgYnVpbGQgYW4gb2JqZWN0CiAgdmFyIGJ1aWxkX29iaiA9IGZ1bmN0aW9uIChlbCwg");
    sb.append("b2JqVG9JbnNlcnRJbnRvLCBhbGxvd19wYXNzd29yZHMpIHsKICAgIHZhciBqdXN0U2V0ID0gZWwudGFn");
    sb.append("TmFtZS50b1VwcGVyQ2FzZSgpID09ICJURVhUQVJFQSIgfHwgZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgp");
    sb.append("ID09ICJTRUxFQ1QiOwogICAgdmFyIGlzSW5wdXRCb3ggPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkg");
    sb.append("PT0gIklOUFVUIjsKICAgIHZhciBpc0ZpZWxkU2V0ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09");
    sb.append("ICJGSUVMRFNFVCI7CiAgICB2YXIgaGFzTmFtZSA9ICJuYW1lIiBpbiBlbDsKICAgIHZhciBpbnNlcnRB");
    sb.append("dCA9IG9ialRvSW5zZXJ0SW50bzsKICAgIC8vIHRoZSBhcHBseSBmdW5jdGlvbiBpcyBob3cgd2UgaW5q");
    sb.append("ZWN0IHRoZSB2YWx1ZSBpbnRvIHRoZSBvYmplY3QKICAgIHZhciBhcHBseSA9IGZ1bmN0aW9uICh2YWwp");
    sb.append("IHsgfTsKCiAgICBpZiAoaGFzTmFtZSAmJiAoanVzdFNldCB8fCBpc0lucHV0Qm94IHx8IGlzRmllbGRT");
    sb.append("ZXQpKSB7CiAgICAgIHZhciBuYW1lID0gIiI7CiAgICAgIG5hbWUgPSBlbC5uYW1lOwogICAgICBpZiAo");
    sb.append("bmFtZSA9PSAiIikgeyAvLyB0aGlzIGlzIGEgc3BlY2lhbCBuYW1lIGZvciB0aGluZ3MgdGhhdCBkb24n");
    sb.append("dCBnZXQgcGlja2VkIHVwCiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBrRG90T3JTbGFz");
    sb.append("aCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAg");
    sb.append("d2hpbGUgKGtEb3RPclNsYXNoID4gMCkgewogICAgICAgIHZhciBwYXIgPSBuYW1lLnN1YnN0cmluZygw");
    sb.append("LCBrRG90T3JTbGFzaCk7CiAgICAgICAgaWYgKCEocGFyIGluIGluc2VydEF0KSkgewogICAgICAgICAg");
    sb.append("aW5zZXJ0QXRbcGFyXSA9IHt9OwogICAgICAgIH0KICAgICAgICBpbnNlcnRBdCA9IGluc2VydEF0W3Bh");
    sb.append("cl07CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKGtEb3RPclNsYXNoICsgMSk7CiAgICAgICAg");
    sb.append("a0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8n");
    sb.append("KSk7CiAgICAgIH0KCiAgICAgIGlmIChuYW1lLmVuZHNXaXRoKCIrIikpIHsKICAgICAgICAvLyBoZXJl");
    sb.append("LCB3ZSBwdXNoIHRoZSB2YWx1ZSBpbnRvIHRoZSBhcnJheQogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0");
    sb.append("cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpOwogICAgICAgIGFwcGx5ID0gZnVuY3Rpb24gKHYpIHsKICAg");
    sb.append("ICAgICAgIGlmICghKG5hbWUgaW4gaW5zZXJ0QXQpKSB7CiAgICAgICAgICAgIGluc2VydEF0W25hbWVd");
    sb.append("ID0gW3ZdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5zZXJ0QXRbbmFtZV0ucHVzaCh2");
    sb.append("KTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGhlcmUgd2Ug");
    sb.append("c2V0IHRoZSBvYmplY3QKICAgICAgICBhcHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBpbnNl");
    sb.append("cnRBdFtuYW1lXSA9IHY7CiAgICAgICAgfTsKICAgICAgfQogICAgfQoKICAgIGlmIChqdXN0U2V0KSB7");
    sb.append("CiAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgIH0gZWxzZSBpZiAoaXNGaWVsZFNldCkgewogICAgICB2");
    sb.append("YXIgbmV4dE9iamVjdCA9IHt9OwogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZh");
    sb.append("ciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2td");
    sb.append("OwogICAgICAgICAgYnVpbGRfb2JqKGNoLCBuZXh0T2JqZWN0LCBhbGxvd19wYXNzd29yZHMpOwogICAg");
    sb.append("ICAgIH0KICAgICAgfQogICAgICBhcHBseShuZXh0T2JqZWN0KTsKICAgIH0gZWxzZSBpZiAoaXNJbnB1");
    sb.append("dEJveCkgewogICAgICB2YXIgdHlwZSA9ICgidHlwZSIgaW4gZWwpID8gZWwudHlwZS50b1VwcGVyQ2Fz");
    sb.append("ZSgpIDogIlRFWFQiOwogICAgICBpZiAodHlwZSA9PSAiU1VCTUlUIiB8fCB0eXBlID09ICJSRVNFVCIp");
    sb.append("IHJldHVybjsKICAgICAgaWYgKHR5cGUgPT0gIlBBU1NXT1JEIiAmJiAhYWxsb3dfcGFzc3dvcmRzKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAg");
    sb.append("ICAgICBhcHBseShlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSBlbHNlIGlmICh0eXBl");
    sb.append("ID09ICJSQURJTyIpIHsKICAgICAgICBpZiAoZWwuY2hlY2tlZCkgewogICAgICAgICAgYXBwbHkoZWwu");
    sb.append("dmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBhcHBseShlbC52YWx1ZSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAgdmFy");
    sb.append("IGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107");
    sb.append("CiAgICAgICAgICBidWlsZF9vYmooY2gsIG9ialRvSW5zZXJ0SW50bywgYWxsb3dfcGFzc3dvcmRzKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICBzZWxmLkJ1aWxkRm9ybU9iamVjdCA9IGZ1bmN0");
    sb.append("aW9uKGZvcm0pIHsKICAgIHZhciBvYmogPSB7fTsKICAgIGJ1aWxkX29iaihmb3JtLCBvYmosIGZhbHNl");
    sb.append("KTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gSEVMUEVSIHwgcmV0dXJuIGFuIG9iamVjdCBvZiBh");
    sb.append("bGwgdGhlIGlucHV0cyBvZiB0aGUgZ2l2ZW4gZm9ybSBlbGVtZW50CiAgdmFyIGdldF9mb3JtID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIGFsbG93X3Bhc3N3b3JkcykgewogICAgdmFyIG9iaiA9IHt9OwogICAgYnVpbGRf");
    sb.append("b2JqKGZvcm0sIG9iaiwgYWxsb3dfcGFzc3dvcmRzKTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8g");
    sb.append("SEVMUEVSIHwgcmV0dXJuIGEgcGFzc3dvcmQgZnJvbSB0aGUgZ2l2ZW4gZm9ybQogIHZhciBnZXRfcGFz");
    sb.append("c3dvcmQgPSBmdW5jdGlvbiAoZWwpIHsKICAgIGlmIChlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0g");
    sb.append("IklOUFVUIiAmJiBlbC50eXBlLnRvVXBwZXJDYXNlKCkgPT0gIlBBU1NXT1JEIikgewogICAgICByZXR1");
    sb.append("cm4gW2VsLm5hbWUsIGVsLnZhbHVlXTsKICAgIH0KICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAg");
    sb.append("ICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2td");
    sb.append("OwogICAgICAgIHZhciByZXN1bHQgPSBnZXRfcGFzc3dvcmQoY2gpOwogICAgICAgIGlmIChyZXN1bHQg");
    sb.append("IT09IG51bGwpIHsKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQogICAgICB9CiAgICB9");
    sb.append("CiAgICByZXR1cm4gbnVsbDsKICB9OwoKICB2YXIgd3JhcHBlcnMgPSB7fTsKICB2YXIgd3JhcHBlcnNf");
    sb.append("b25sb2FkID0ge307CiAgc2VsZi5QUldQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgd3JhcHBl");
    sb.append("cnNbbmFtZV0gPSBmb287CiAgICBpZiAobmFtZSBpbiB3cmFwcGVyc19vbmxvYWQpIHsKICAgICAgdmFy");
    sb.append("IHRvbG9hZCA9IHdyYXBwZXJzX29ubG9hZFtuYW1lXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0");
    sb.append("b2xvYWQubGVuZ3RoOyBrKyspIHsKICAgICAgICB0b2xvYWRba10oKTsKICAgICAgfQogICAgfQogIH07");
    sb.append("CgogIC8vIDwuLi4gcng6d3JhcD1jb25zdCA+CiAgc2VsZi5XUCA9IGZ1bmN0aW9uIChkb20sIHN0YXRl");
    sb.append("LCBuYW1lLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNlKSB7CiAgICBpZiAobmFtZSBpbiB3cmFwcGVy");
    sb.append("cykgewogICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9iaiwgY2hpbGRNYWtlcldpdGhD");
    sb.append("YXNlLCBzZWxmKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBsb2FkZXIgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgd3JhcHBlcnNbbmFtZV0oZG9tLCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwg");
    sb.append("c2VsZik7CiAgICAgIH07CiAgICAgIGlmIChuYW1lIGluIHdyYXBwZXJzX29ubG9hZCkgewogICAgICAg");
    sb.append("IHdyYXBwZXJzX29ubG9hZFtuYW1lXS5wdXNoKGxvYWRlcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg");
    sb.append("d3JhcHBlcnNfb25sb2FkW25hbWVdID0gW2xvYWRlcl07CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgcmVnaXN0ZXIgdGhlIHBhZ2UgZm9yIHRoZSB1cmkgdG8gdGhlIGdpdmVuIGZvbygpLgog");
    sb.append("IHNlbGYuUEcgPSBmdW5jdGlvbiAodXJpLCBmb28pIHsKICAgIHZhciBoZWFkID0gcm91dGVyOwogICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCB1cmkubGVuZ3RoOyBrKyspIHsKICAgICAgdmFyIHBhcnQgPSB1cmlb");
    sb.append("a107CiAgICAgIGlmICghKHBhcnQgaW4gaGVhZCkpIHsKICAgICAgICBoZWFkW3BhcnRdID0ge307CiAg");
    sb.append("ICAgIH0KICAgICAgaGVhZCA9IGhlYWRbcGFydF07CiAgICB9CiAgICBoZWFkWyJAIl0gPSBmb287CiAg");
    sb.append("fTsKCiAgdmFyIHJvdXRlID0gZnVuY3Rpb24gKHBhcnRzLCBhdCwgaGVhZCwgdmlldykgewogICAgaWYg");
    sb.append("KGF0IDwgcGFydHMubGVuZ3RoKSB7CiAgICAgIGlmICgibnVtYmVyIiBpbiBoZWFkKSB7CiAgICAgICAg");
    sb.append("dmFyIG5lY2sgPSBoZWFkWyJudW1iZXIiXTsKICAgICAgICB2YXIgdmFsID0gcGFyc2VGbG9hdChwYXJ0");
    sb.append("c1thdF0pOwogICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgZm9yICh2YXIgYnJhbmNo");
    sb.append("IGluIG5lY2spIHsKICAgICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwogICAgICAgICAgICB2YXIg");
    sb.append("Y2FuZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAg");
    sb.append("ICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRh");
    sb.append("dGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVsZXRlIHZpZXdbYnJhbmNoXTsKICAgICAgICAg");
    sb.append("IH0KICAgICAgICB9CgogICAgICB9CiAgICAgIGlmICgidGV4dCIgaW4gaGVhZCkgewogICAgICAgIHZh");
    sb.append("ciBuZWNrID0gaGVhZFsidGV4dCJdOwogICAgICAgIHZhciB2YWwgPSBwYXJ0c1thdF07CiAgICAgICAg");
    sb.append("Zm9yICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgIHZpZXdbYnJhbmNoXSA9IHZhbDsKICAg");
    sb.append("ICAgICAgIHZhciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAxLCBuZWNrW2JyYW5jaF0sIHZp");
    sb.append("ZXcpOwogICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4g");
    sb.append("Y2FuZGlkYXRlOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHZpZXdbYnJhbmNoXTsKICAgICAg");
    sb.append("ICB9CiAgICAgIH0KICAgICAgaWYgKCJmaXhlZCIgaW4gaGVhZCkgewogICAgICAgIHZhciBuZWNrID0g");
    sb.append("aGVhZFsiZml4ZWQiXTsKICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAg");
    sb.append("aWYgKGJyYW5jaCA9PSBwYXJ0c1thdF0pIHsKICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRl");
    sb.append("KHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7CiAgICAgICAgICAgIGlmIChjYW5kaWRh");
    sb.append("dGUgIT09IG51bGwpIHsKICAgICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoIkAiIGlu");
    sb.append("IGhlYWQpIHsKICAgICAgICByZXR1cm4gaGVhZFsiQCJdOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2Vs");
    sb.append("Zi5nb3RvID0gZnVuY3Rpb24gKHVyaSkgewogICAgY29uc29sZS5sb2coImdvaW5nIHRvOiIgKyB1cmkp");
    sb.append("OwogICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpZiAodXJpLnN0YXJ0c1dp");
    sb.append("dGgoIi8iKSkgewogICAgICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIHVyaSwgdHJ1ZSk7CiAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBmaXhIcmVmKHVyaSk7CiAgICAg");
    sb.append("IH0KICAgIH0sIDEwKTsKICB9OwoKICBzZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBzZWxmLnJ1");
    sb.append("bihkb2N1bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5s");
    sb.append("b2NhdGlvbi5oYXNoKSwgZmFsc2UpOwogICAgd2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIGZpeFBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhu");
    sb.append("YW1lICsgd2luZG93LmxvY2F0aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB9OwogIH07CgogIC8vIEFQSSB8");
    sb.append("IFJ1biB0aGUgcGFnZSBpbiB0aGUgZ2l2ZW4gcGxhY2UKICBzZWxmLnJ1biA9IGZ1bmN0aW9uICh3aGVy");
    sb.append("ZSwgcmF3UGF0aCwgcHVzaCkgewogICAgdmFyIHBhdGggPSByYXdQYXRoOwogICAgd2hpbGUgKHBhdGgu");
    sb.append("ZW5kc1dpdGgoIi8iKSAmJiBwYXRoICE9ICIvIikgewogICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmco");
    sb.append("MCwgcGF0aC5sZW5ndGggLSAxKTsKICAgIH0KICAgIGZvciAoY29uS2V5IGluIGNvbm5lY3Rpb25zKSB7");
    sb.append("CiAgICAgIGNvbm5lY3Rpb25zW2NvbktleV0udHJlZS5udWtlKCk7CiAgICAgIGNvbm5lY3Rpb25zW2Nv");
    sb.append("bktleV0ubnVrZSgpOwogICAgfQogICAgdmFyIHBhcnRzID0gKHBhdGguc3RhcnRzV2l0aCgiLyIpID8g");
    sb.append("cGF0aC5zdWJzdHJpbmcoMSkgOiBwYXRoKS5zcGxpdCgiLyIpOwogICAgdmFyIGluaXQgPSB7fTsKICAg");
    sb.append("IHRyeSB7CiAgICAgIGluaXQudmlld2VyX3RpbWV6b25lID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJl");
    sb.append("c29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAgICBpbml0LnZpZXdlcl9sYW5ndWFnZSA9IG5hdmln");
    sb.append("YXRvci5sYW5ndWFnZTsKICAgIH0gY2F0Y2ggKGJyb3dzZXJCYWQpIHsKICAgICAgLy8gd2UganVzdCBk");
    sb.append("b24ndCBzZWUgdGhlIHZpZXdzdGF0ZSBpZiB3ZSBkb24ndCBoYXZlIHRoZXNlIGF2YWlsYWJsZQogICAg");
    sb.append("fQogICAgdmFyIGZvbyA9IHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIGluaXQpOwogICAgbnVrZSh3aGVy");
    sb.append("ZSk7CiAgICBpZiAoZm9vICE9IG51bGwpIHsKICAgICAgdmFyIHN0YXRlID0geyBzZXJ2aWNlOiBjb25u");
    sb.append("ZWN0aW9uLCBkYXRhOiBudWxsLCB2aWV3OiBmcmVzaCh3aGVyZSksIGN1cnJlbnQ6ICJ2aWV3IiB9Owog");
    sb.append("ICAgICBzdGF0ZS52aWV3LmluaXQgPSBpbml0OwogICAgICBmb28od2hlcmUsIHN0YXRlKTsKICAgICAg");
    sb.append("c3RhdGUudmlldy50cmVlLnN1YnNjcmliZShzdGF0ZS52aWV3LmRlbHRhKTsKICAgICAgc3RhdGUudmll");
    sb.append("dy50cmVlLnVwZGF0ZShpbml0KTsKICAgICAgaWYgKHB1c2gpIHsKICAgICAgICB3aW5kb3cuaGlzdG9y");
    sb.append("eS5wdXNoU3RhdGUoe30sICIiLCBmaXhIcmVmKHBhdGgpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgaWYgKHBhdGggIT0gIi80MDQiKSB7CiAgICAgICAgc2VsZi5ydW4od2hlcmUsICIvNDA0Iik7CiAg");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZGVmYXVsdCA0MDQKICAgICAgfQogICAgfQogICAgd2hlcmUu");
    sb.append("YXBwZW5kQ2hpbGQoY29ubmVjdGlvbk1vbml0b3JEb20pOwogIH07CgogIHZhciBpZGVudGl0aWVzID0g");
    sb.append("e307CgogIHNlbGYuU0lHTk9VVCA9IGZ1bmN0aW9uICgpIHsKICAgIGlkZW50aXRpZXMgPSB7fTsKICAg");
    sb.append("IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpZGVudGl0eV9kZWZhdWx0Iik7CiAgICB2YXIgYXhlID0g");
    sb.append("W107CiAgICBmb3IgKHZhciBjaWQgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgdmFyIGNvID0gY29ubmVj");
    sb.append("dGlvbnNbY2lkXTsKICAgICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7CiAgICAgICAgY28ucHRyLmVuZCh7");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAg");
    sb.append("ICB9CiAgICAgIGF4ZS5wdXNoKGNpZCk7CiAgICB9CiAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5s");
    sb.append("ZW5ndGg7IGsrKykgewogICAgICBkZWxldGUgY29ubmVjdGlvbnNbYXhlW2tdXTsKICAgIH0KCiAgICBz");
    sb.append("ZWxmLmdvdG8oIi8iKTsKICB9OwoKICBzZWxmLkdPT0dMRV9TSUdOX09OID0gZnVuY3Rpb24gKGFjY2Vz");
    sb.append("c1Rva2VuKSB7CiAgICBjb25uZWN0aW9uLkluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NUb2tlbiwg");
    sb.append("ewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIGlkZW50aXRpZXNbImRl");
    sb.append("ZmF1bHQiXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlk");
    sb.append("ZW50aXR5X2RlZmF1bHQiLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICBzZWxmLmdvdG8oIi8iKTsK");
    sb.append("ICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJHb29nbGUgZmFpbHVyZTogIiArIHJlYXNvbik7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8q");
    sb.append("KiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBwYWdlIHdpdGggc3RhdGUgKi8KICBzZWxmLmFSRHAgPSBm");
    sb.append("dW5jdGlvbiAoc3RhdGUsIHB1bGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFy");
    sb.append("IHVyaSA9IHB1bGxlcihzdGF0ZS52aWV3LmluaXQpOwogICAgICByZXR1cm4gdXJpOwogICAgfTsKICB9");
    sb.append("OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0IHRvIGEgc3RhdGljIHBhZ2UgKi8KICBzZWxmLmFSRHog");
    sb.append("PSBmdW5jdGlvbiAocmF3KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmF3");
    sb.append("OwogICAgfQogIH07CgogIC8qKiBmb3IgY3VzdG9tIGVsZW1lbnRzIHRvIGxlYXJuIG9mIHRoZSBpZGVu");
    sb.append("dGl0eSAqLwogIHNlbGYuSUQgPSBmdW5jdGlvbiAoaWRlbnRpdHlOYW1lLCByZWRpcmVjdFRvRnVuYykg");
    sb.append("ewogICAgaWYgKGlkZW50aXR5TmFtZSA9PT0gdHJ1ZSkgewogICAgICBpZGVudGl0eU5hbWUgPSAiZGVm");
    sb.append("YXVsdCI7CiAgICB9CiAgICAvLyBJRiBpZGVudGl0eSBjb250YWlucyBkb3RzCiAgICB2YXIgaWRlbnRp");
    sb.append("dHkgPSBudWxsOwogICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwoKICAgIHZhciB2");
    sb.append("YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSk7CiAgICBp");
    sb.append("ZiAodmFsKSB7CiAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHZhbDsKICAgIH0KCiAgICBp");
    sb.append("ZiAoaWRlbnRpdHlOYW1lLnN0YXJ0c1dpdGgoImRpcmVjdDoiKSkgewogICAgICAvLyBVc2UsIGFzIGlz");
    sb.append("CiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdHlOYW1lLnN1YnN0cmluZyg3KTsKICAgIH0gZWxzZSBpZiAo");
    sb.append("aWRlbnRpdHlOYW1lIGluIGlkZW50aXRpZXMpIHsKICAgICAgaWRlbnRpdHkgPSBpZGVudGl0aWVzW2lk");
    sb.append("ZW50aXR5TmFtZV07CiAgICAgIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlIGlk");
    sb.append("ZW50aXRpZXNbaWRlbnRpdHlOYW1lXTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiaWRl");
    sb.append("bnRpdHlfIiArIGlkZW50aXR5TmFtZSk7CiAgICAgICAgc2VsZi5nb3RvKHJlZGlyZWN0VG9GdW5jKCkp");
    sb.append("OwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gd2hhdGV2ZXIgcGFnZSB3ZSBhcmUsIG5lZWRz");
    sb.append("IHRvIGRpZSB3aGljaCBtZWFucyB3ZSBuZWVkIHRvIG51a2UgZXZlcnl0aGluZyEKICAgICAgd2luZG93");
    sb.append("LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygp");
    sb.append("KTsKICAgICAgfSwgMTApOwogICAgICByZXR1cm4geyBhYm9ydDogdHJ1ZSB9OwogICAgfQoKICAgIHJl");
    sb.append("dHVybiB7IGFib3J0OiBmYWxzZSwgY2xlYW51cDogY2xlYW51cCwgaWRlbnRpdHk6IGlkZW50aXR5IH07");
    sb.append("CiAgfTsKCiAgLyogRm9yIGN1c3RvbSBjYWxsYmFja3MgdG8gcmVkaXJlY3QgYW5kIGludmFsaWRhdGUg");
    sb.append("SUQgZmFpbHVyZXMgKi8KICBzZWxmLkZJRENMID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBsb29rdXApIHsK");
    sb.append("ICAgIHJldHVybiB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjYWxs");
    sb.append("YmFjay5zdWNjZXNzKHJlc3VsdCk7CiAgICAgIH0sCiAgICAgIG5leHQ6IGZ1bmN0aW9uIChpdGVtKSB7");
    sb.append("CiAgICAgICAgY2FsbGJhY2submV4dChpdGVtKTsKICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgICBjYWxsYmFjay5jb21wbGV0ZSgpOwogICAgICB9LAogICAgICBmYWlsdXJl");
    sb.append("OiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY2FsbGJhY2suZmFpbHVyZShyZWFzb24pOwogICAg");
    sb.append("ICAgIGlmIChyZWFzb24gPT0gNDAzNDAzIHx8IHJlYXNvbiA9PSA0MDM1MDAgfHwgcmVhc29uID09IDE4");
    sb.append("NDMzMykgewogICAgICAgICAgbG9va3VwLmNsZWFudXAoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07");
    sb.append("CiAgfTsKCiAgdmFyIGN1c3RvbURhdGFTb3VyY2VzID0ge307CgogIC8qKiBwcm92aWRlIGN1c3RvbSBk");
    sb.append("YXRhICovCiAgc2VsZi5QUkNVREEgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICBjdXN0b21EYXRh");
    sb.append("U291cmNlc1tuYW1lXSA9IGZvbzsKICB9OwoKICAvLyA8Y3VzdG9tZGF0YSBzcmM9c3JjIChwYXJhbWV0");
    sb.append("ZXI6eD15KSogPgogIHNlbGYuQ1VEQSA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIHNyYywg");
    sb.append("cnhvYmosIHJlZGlyZWN0VG8sIGNoaWxkTWFrZXIpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIo");
    sb.append("KTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoMTAsIGZ1bmN0aW9uICgpIHsKICAgICAgZmlyZV91bnN1");
    sb.append("Yih1bnN1Yik7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIGN1c3RvbVRyZWUgPSBmYWxzZTsK");
    sb.append("ICAgICAgaWYgKHNyYyBpbiBjdXN0b21EYXRhU291cmNlcykgewogICAgICAgIHZhciBjb25zID0gY3Vz");
    sb.append("dG9tRGF0YVNvdXJjZXNbc3JjXTsKICAgICAgICBpZiAodHlwZW9mIChjb25zKSA9PSAiZnVuY3Rpb24i");
    sb.append("KSB7CiAgICAgICAgICBjdXN0b21UcmVlID0gY29ucyhyeG9iaiwgcHJpb3JTdGF0ZSwgcmVkaXJlY3RU");
    sb.append("bywgc2VsZik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghY3VzdG9tVHJlZSkgewogICAgICAg");
    sb.append("IGN1c3RvbVRyZWUgPSBuZXcgQWRhbWFUcmVlKCk7CiAgICAgIH0KICAgICAgdmFyIHN0YXRlID0gewog");
    sb.append("ICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICBkYXRhOiB7IGNvbm5lY3Rp");
    sb.append("b246IHByaW9yU3RhdGUuY29ubmVjdGlvbiwgdHJlZTogY3VzdG9tVHJlZSwgZGVsdGE6IHt9LCBwYXJl");
    sb.append("bnQ6IG51bGwsIHBhdGg6IG51bGwgfSwKICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0");
    sb.append("YXRlLnZpZXcpLAogICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICB9OwogICAgICBjaGlsZE1ha2Vy");
    sb.append("KHN0YXRlKTsKICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICB9KTsKICB9OwoK");
    sb.append("ICAvLyA8dGl0bGUgdmFsdWU9Ii4uLiIgLz4KICBzZWxmLlNUID0gZnVuY3Rpb24gKHJ4b2JqKSB7CiAg");
    sb.append("ICBkb2N1bWVudC50aXRsZSA9IHJ4b2JqLnZhbHVlOwogICAgcnhvYmouX18gPSBkZWJvdW5jZSgxLCBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gcnhvYmoudmFsdWU7CiAgICB9KTsKICB9");
    sb.append("OwoKICAvLyA8dmlld3N5bmM+CiAgc2VsZi5WU3kgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRl");
    sb.append("LCBhdmFpbCwgbm90YXZhaWwpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHByaW9y");
    sb.append("U3RhdGUuZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZV9zeW5jKGZ1bmN0aW9uIChzeW5jZWQpIHsKICAg");
    sb.append("ICAgbnVrZShwYXJlbnQpOwogICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgdmFyIHN0YXRlID0g");
    sb.append("Zm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHN5bmNlZCkgewogICAgICAgIGF2YWlsKHBhcmVudCwg");
    sb.append("c3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG5vdGF2YWlsKHBhcmVudCwgc3RhdGUpOwogICAg");
    sb.append("ICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAvLyBUT0RPOiByZXR1");
    sb.append("cm4gZmFsc2UgdG8gdW5zdWIKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgYmlu");
    sb.append("ZF9yZXNwb25kZXIgPSBmdW5jdGlvbiAoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRyeV9zbSkgewogICAg");
    sb.append("cmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgcmV0cnlfc20uYmFja29mZiA9IDE7CiAg");
    sb.append("ICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIGNvLmRlYnVn");
    sb.append("Z2VyKHBheWxvYWQpOwogICAgICAgIGNvLnNldF9jb25uZWN0ZWQodHJ1ZSk7CiAgICAgICAgcmV0cnlf");
    sb.append("c20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgICAgIHJldHJ5X3NtLmJhY2tvZmYgPSAxOwogICAg");
    sb.append("ICAgIGlmICgiZGF0YSIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28udHJlZS51cGRhdGUo");
    sb.append("cGF5bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgICB9CiAgICAgICAgaWYgKCJvdXRzdGFuZGluZyIgaW4g");
    sb.append("cGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28ub25kZWNpZGUocGF5bG9hZC5kZWx0YS5vdXRzdGFu");
    sb.append("ZGluZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3N0YXRlJyBpbiBwYXlsb2FkLmRlbHRhKSB7");
    sb.append("CiAgICAgICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEudmlld3N0YXRlKTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgaWYgKCdsb2cnIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNv");
    sb.append("bnNvbGUubG9nKHBheWxvYWQuZGVsdGEubG9nKTsKICAgICAgICB9CiAgICAgICAgaWYgKCd2aWV3cG9y");
    sb.append("dCcgaW4gcGF5bG9hZC5kZWx0YSAmJiAnbWVzc2FnZScgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAg");
    sb.append("ICAgdmFyIHZpZXdwb3J0ID0gcGF5bG9hZC5kZWx0YS52aWV3cG9ydDsKICAgICAgICAgIGlmICh2aWV3");
    sb.append("cG9ydCBpbiBjby5oYW5kbGVycykgewogICAgICAgICAgICBjby5oYW5kbGVyc1t2aWV3cG9ydF0ocGF5");
    sb.append("bG9hZC5kZWx0YS5tZXNzYWdlLCBjbyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICgn");
    sb.append("dmlldy1zdGF0ZS1maWx0ZXInIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZhciBmaWx0ZXIg");
    sb.append("PSB7fTsKICAgICAgICAgIHZhciBrZXlzID0gcGF5bG9hZC5kZWx0YVsndmlldy1zdGF0ZS1maWx0ZXIn");
    sb.append("XTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgICBmaWx0ZXJba2V5c1trXV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgY28uZmlsdGVy");
    sb.append("ID0gZmlsdGVyOwogICAgICAgICAgY28uaGFzX2ZpbHRlciA9IHRydWU7CiAgICAgICAgfQogICAgICAg");
    sb.append("IGlmICgnZ290bycgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc2VsZi5nb3RvKHBheWxvYWQu");
    sb.append("ZGVsdGEuZ290byk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgIC8vIHNob3VsZG4ndCByZWFsaXN0aWNhbGx5IGhhcHBlbiBUT0RPOiB2YWxpZGF0ZSA8");
    sb.append("LSB0cnV0aAogICAgICAgIGNvLnNldF9jb25uZWN0ZWQoZmFsc2UpOwogICAgICAgIGNvLnB0ciA9IG51");
    sb.append("bGw7CiAgICAgIH0sCiAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAvLyBy");
    sb.append("ZWdpc3RlciB0aGUgZmFpbHVyZQogICAgICAgIGNvLnNldF9jb25uZWN0ZWQoZmFsc2UpOwogICAgICAg");
    sb.append("IGNvLnB0ciA9IG51bGw7CiAgICAgICAgaWYgKHJlYXNvbiA9PSA0MDM0MDMgfHwgcmVhc29uID09IDQw");
    sb.append("MzUwMCB8fCByZWFzb24gPT0gMTg0MzMzKSB7CiAgICAgICAgICBjbGVhbnVwKCk7CiAgICAgICAgICBy");
    sb.append("ZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIGlzIGl0IGFuIGV4cGVjdGVkIGVycm9yIHRoYXQgd2ls");
    sb.append("bCBoYXBwZW4gYSBidW5jaD8KICAgICAgICB2YXIgZXhwZWN0ZWRfZXJyb3IgPSByZWFzb24gPT0gOTk5");
    sb.append("OwogICAgICAgIC8vIGRvIHdlIG5vdCBrbm93IGFib3V0IGFuIGVycm9yIHRoYXQgaGFwcGVucyBhIGJ1");
    sb.append("bmNoPyBpZiBzbywgdGhlbiBsZXQncyBhdCBsZWFzdCB0cnkgYWdhaW4gYSBudW1iZXIgb2YgZmluaXRl");
    sb.append("IHRpbWVzLgogICAgICAgIHZhciBibGluZF9yZXRyeSA9IHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3Jz");
    sb.append("IDwgMTA7CiAgICAgICAgaWYgKGJsaW5kX3JldHJ5KSB7CiAgICAgICAgICByZXRyeV9zbS51bmV4cGVj");
    sb.append("dGVkX2Vycm9ycysrOwogICAgICAgIH0KICAgICAgICAvLyByZXRyeSBvbiBlaXRoZXIgY2FzZQogICAg");
    sb.append("ICAgIGlmIChleHBlY3RlZF9lcnJvciB8fCBibGluZF9yZXRyeSkgewogICAgICAgICAgcmV0cnlfc20u");
    sb.append("YmFja29mZiA9IE1hdGguY2VpbChNYXRoLm1pbihyZXRyeV9zbS5iYWNrb2ZmICsgTWF0aC5yYW5kb20o");
    sb.append("KSAqIHJldHJ5X3NtLmJhY2tvZmYgKyAoYmxpbmRfcmV0cnkgPyAxMDAgOiAxKSwgMTAwMCkpOwogICAg");
    sb.append("ICAgICAgY29uc29sZS5sb2coImNvbm5lY3QtZmFpbHVyZXxyZXRyeWluZy4uLiAoIiArIHJldHJ5X3Nt");
    sb.append("LmJhY2tvZmYgKyAiKTsgcmVhc29uPSIgKyByZWFzb24gKyAoYmxpbmRfcmV0cnkgPyAiIFtibGluZF0i");
    sb.append("IDogIiIpKTsKICAgICAgICAgIC8vIFRPRE86IG5lZWQgYSBkaWZmZXJlbnQgZmVlZGJhY2sgbWVjaGFu");
    sb.append("aXNtIChtYXliZSBhIG51bWJlciB1bmRlciB0aGUgd2lmaSBpY29uPykKICAgICAgICAgIHdpbmRvdy5z");
    sb.append("ZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXRyeV9zbS5nbygpOwogICAgICAgICAg");
    sb.append("fSwgcmV0cnlfc20uYmFja29mZik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9n");
    sb.append("KCJnYXZlIHVwIGNvbm5lY3Rpb247IiArIGNvLmxhYmVsICsgIjsgcmVhc29uPSIgKyByZWFzb24pOwog");
    sb.append("ICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciBzZXR1cF9jbyA9IGZ1bmN0aW9uKGRlc2ly");
    sb.append("ZWQsIHVuc3ViLCBjbywgc3RhdGUpIHsKICAgIHZhciBzeW5jX3RyZWUgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIC8vIGxldCdzIGNvcHkgb3V0IHRoZSB0cmVlIGZyb20gdGhlIHZpZXdzdGF0ZQogICAgICB2YXIg");
    sb.append("bmV3X3RyZWUgPSBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRyZWUuY29weSgpKTsKCiAgICAgIC8vIGlm");
    sb.append("IHdlIGhhdmUgZ290IGEgZmlsdGVyIGZyb20gdGhlIHNlcnZlciwgdGhlbiBsZXQncyBmaWx0ZXIKICAg");
    sb.append("ICAgaWYgKGNvLmhhc19maWx0ZXIpIHsKICAgICAgICAvLyByZWNvbnN0cnVjdCB0aGUgbmV3IHZpZXcg");
    sb.append("YmFzZWQgb24gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgZmlsdGVyIGFuZCB0aGUgbmV3IHN0YXRlCiAg");
    sb.append("ICAgICAgdmFyIGZpbHRlcmVkID0ge307CiAgICAgICAgZm9yICh2YXIgayBpbiBuZXdfdHJlZSkgewog");
    sb.append("ICAgICAgICAgaWYgKGNvLmZpbHRlcltrXSkgewogICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG5ld190");
    sb.append("cmVlW2tdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBhc3N1bWUgdGhlIG5ldyB0cmVl");
    sb.append("CiAgICAgICAgbmV3X3RyZWUgPSBmaWx0ZXJlZDsKICAgICAgfQogICAgICAvLyBpZiB0aGUgY2xvbmUg");
    sb.append("KGkuZS4gc3RyaW5naWZpZWQgdmVyc2lvbikgaXMgdGhlIHNhbWUgYXMgd2hhdCB3ZSBsYXN0IHNlbnQs");
    sb.append("IHRoZW4gZG9uJ3Qgc2VuZCBhbnl0aGluZwogICAgICB2YXIgcHJpb3JfY2xvbmUgPSBKU09OLnN0cmlu");
    sb.append("Z2lmeShuZXdfdHJlZSk7CiAgICAgIGlmIChwcmlvcl9jbG9uZSA9PSBjby52aWV3c3RhdGVfY2xvbmUp");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28udmlld3N0YXRlX3NlbnQgPSBmYWxzZTsK");
    sb.append("ICAgICAgY28udnNzZXErKzsKICAgICAgY28uc3luYygpOwogICAgICB2YXIgc3luY2VkID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICAgIGlmIChjby52c3NlcSA9PSB0aGlzLmJvdW5kKSB7CiAgICAgICAgICBjby52");
    sb.append("aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgICAgICBjby5zeW5jKCk7CiAgICAgICAgfQogICAgICB9");
    sb.append("LmJpbmQoeyBib3VuZDogY28udnNzZXEgfSk7CiAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9IEpTT04u");
    sb.append("c3RyaW5naWZ5KG5ld190cmVlKTsKICAgICAgY28ucHRyLnVwZGF0ZShuZXdfdHJlZSwgeyBzdWNjZXNz");
    sb.append("OiBzeW5jZWQsIGZhaWx1cmU6IHN5bmNlZCB9KTsKICAgIH07CiAgICB2YXIgYmluZCA9IGZ1bmN0aW9u");
    sb.append("IChzZW5kTm93KSB7CiAgICAgIHVuc3ViLnZpZXcgPSBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKGZ1");
    sb.append("bmN0aW9uICgpIHsKICAgICAgICBpZiAoY28ucHRyID09IG51bGwpIHsKICAgICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgc3luY190cmVlKCk7CiAgICAgIH0pOwogICAgICBpZiAoc2VuZE5vdykg");
    sb.append("ewogICAgICAgIHN5bmNfdHJlZSgpOwogICAgICB9CiAgICB9OwogICAgaWYgKGNvLnB0ciAhPSBudWxs");
    sb.append("ICYmIGNvLmJvdW5kID09IGRlc2lyZWQpIHsKICAgICAgYmluZCh0cnVlKTsKICAgICAgcmV0dXJuIGZh");
    sb.append("bHNlOwogICAgfQogICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7CiAgICAgIGNvLnB0ci5lbmQoeyBzdWNj");
    sb.append("ZXNzOiBmdW5jdGlvbiAoKSB7IH0sIGZhaWx1cmU6IGZ1bmN0aW9uICgpIHsgfSB9KTsKICAgICAgY28u");
    sb.append("cHRyID0gbnVsbDsKICAgIH0KICAgIHJldHVybiBiaW5kOwogIH07CgogIC8vIDxjb25uZWN0aW9uIGJp");
    sb.append("bGxpbmcgLi4uPgogIHNlbGYuQkNPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2");
    sb.append("YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4");
    sb.append("b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoISgnbmFtZScgaW4gcnhv");
    sb.append("YmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQo");
    sb.append("cnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAg");
    sb.append("ICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBj");
    sb.append("byA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRlc2lyZWQgPSAiOmJp");
    sb.append("bGxpbmc6IiArIGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2ly");
    sb.append("ZWQsIHVuc3ViLCBjbywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICBy");
    sb.append("ZXR1cm47CiAgICAgIH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVkOwogICAgICB2YXIgaWRlbnRpdHkg");
    sb.append("PSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVhbnVwOwog");
    sb.append("ICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgIGNvLmhh");
    sb.append("bmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28ubGFiZWwg");
    sb.append("PSAiQmlsbGluZyBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfYmlsbGluZyA9IHRy");
    sb.append("dWU7CiAgICAgIGNvLnZpYV9kb21haW4gPSBmYWxzZTsKICAgICAgdmFyIHJldHJ5X3NtID0ge307CiAg");
    sb.append("ICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVzcG9uZGVyKGNvLCBzdGF0ZSwgY2xlYW51cCwg");
    sb.append("cmV0cnlfc20pOwogICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMg");
    sb.append("dG8gbm90aGluZyBuZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNv");
    sb.append("LnB0ciA9IGNvbm5lY3Rpb24uQmlsbGluZ0Nvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHJldHJ5X3Nt");
    sb.append("LnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBk");
    sb.append("YXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9OwoKCiAgc2VsZi5kb21haW4gPSBs");
    sb.append("b2NhdGlvbi5ob3N0bmFtZTsKICBzZWxmLmhvc3QgPSBsb2NhdGlvbi5ob3N0OwogIHNlbGYucHJvdG9j");
    sb.append("b2wgPSBsb2NhdGlvbi5wcm90b2NvbDsKCiAgc2VsZi5tb2JpbGVJbml0ID0gZnVuY3Rpb24ob3ZlcnJp");
    sb.append("ZGVEb21haW4pIHsKICAgIHNlbGYuZG9tYWluID0gb3ZlcnJpZGVEb21haW47CiAgICBzZWxmLmhvc3Qg");
    sb.append("PSBvdmVycmlkZURvbWFpbjsKICAgIHNlbGYucHJvdG9jb2wgPSAiaHR0cHMiOwogIH07CgogIC8vIDxj");
    sb.append("b25uZWN0aW9uIHVzZS1kb21haW4gLi4uPgogIHNlbGYuRENPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUs");
    sb.append("IHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("fQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAo");
    sb.append("ISgnbmFtZScgaW4gcnhvYmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExv");
    sb.append("b2t1cCA9IHNlbGYuSUQocnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJl");
    sb.append("ZGlyZWN0OyB9KTsKICAgICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFy");
    sb.append("IGRvbWFpbiA9IHNlbGYuZG9tYWluOwogICAgICB2YXIgZGVzaXJlZCA9IGRvbWFpbiArIGlkTG9va3Vw");
    sb.append("LmlkZW50aXR5OwogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3Rh");
    sb.append("dGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAg");
    sb.append("ICAgY28uYm91bmQgPSBkZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRp");
    sb.append("dHk7CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygp");
    sb.append("OwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAg");
    sb.append("ICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkRvbWFpbjoiICsgZG9t");
    sb.append("YWluICsgIiBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfZG9tYWluID0gdHJ1ZTsK");
    sb.append("ICAgICAgY28udmlhX2JpbGxpbmcgPSBmYWxzZTsKICAgICAgY28uZG9tYWluID0gZG9tYWluOwogICAg");
    sb.append("ICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25k");
    sb.append("ZXIoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rp");
    sb.append("b24oKSB7CiAgICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9j");
    sb.append("bG9uZSA9ICJ7fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVjdGlvbi5Db25uZWN0aW9uQ3JlYXRlVmlh");
    sb.append("RG9tYWluKGlkZW50aXR5LCBkb21haW4sIHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJlZS5jb3B5KCkp");
    sb.append("LCByZXRyeV9zbS5yZXNwb25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBj");
    sb.append("by50cmVlLnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgLy8gPGNv");
    sb.append("bm5lY3Rpb24gLi4uPgogIHNlbGYuQ09OTkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAg");
    sb.append("IHZhciB1bnN1YiA9IHsKICAgICAgdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAg");
    sb.append("cnhvYmouX18gPSBkZWJvdW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWxpZCA9ICdrZXkn");
    sb.append("IGluIHJ4b2JqICYmICdzcGFjZScgaW4gcnhvYmogJiYgJ25hbWUnIGluIHJ4b2JqOwogICAgICBpZiAo");
    sb.append("IXZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYu");
    sb.append("SUQocnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsK");
    sb.append("ICAgICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRlc2lyZWQgPSBy");
    sb.append("eG9iai5zcGFjZSArICIvIiArIHJ4b2JqLmtleSArICIvIiArIGlkTG9va3VwLmlkZW50aXR5OyAvLyBU");
    sb.append("T0RPOiBuZWVkIHNvbWUga2luZCBvZiBoYXNoaW5nIGZ1bmN0aW9uIGhlcmUKICAgICAgdmFyIGJpbmQg");
    sb.append("PSBzZXR1cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZh");
    sb.append("bHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKCiAg");
    sb.append("ICAgIHZhciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlk");
    sb.append("TG9va3VwLmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uc3BhY2UgPSByeG9iai5z");
    sb.append("cGFjZTsKICAgICAgY28ua2V5ID0gcnhvYmoua2V5OwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5");
    sb.append("OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAg");
    sb.append("ICAgIGNvLmxhYmVsID0gY28uc3BhY2UgKyAiLyIgKyBjby5rZXkgKyAiIFsgIiArIHJ4b2JqLm5hbWUg");
    sb.append("KyAiXSI7CiAgICAgIGNvLnZpYV9kb21haW4gPSBmYWxzZTsKICAgICAgY28udmlhX2JpbGxpbmcgPSBm");
    sb.append("YWxzZTsKICAgICAgdmFyIHJldHJ5X3NtID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJp");
    sb.append("bmRfcmVzcG9uZGVyKGNvLCBzdGF0ZSwgY2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9zbS5n");
    sb.append("byA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBjby52");
    sb.append("aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZShpZGVudGl0eSwgcnhvYmouc3BhY2UsIHJ4b2JqLmtleSwgc2FmZV9maWx0ZXIoc3RhdGUu");
    sb.append("dmlldy50cmVlLmNvcHkoKSksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5");
    sb.append("X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9");
    sb.append("KTsKICB9OwoKICBzZWxmLklOVEVSTkFMID0gZnVuY3Rpb24gKHByaW9yU3RhdGUpIHsKICAgIHJldHVy");
    sb.append("biB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0YTogeyBjb25uZWN0");
    sb.append("aW9uOiBudWxsLCB0cmVlOiBuZXcgQWRhbWFUcmVlKCksIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBw");
    sb.append("YXRoOiBudWxsIH0sCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyksCiAg");
    sb.append("ICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgfTsKICB9OwoKICB2YXIgcmVjYWxsX2VtYWlsID0gZnVuY3Rp");
    sb.append("b24gKGVsKSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIpIHsKICAg");
    sb.append("ICAgaWYgKCJlbWFpbCIgPT0gZWwudHlwZSAmJiAiZW1haWwiID09IGVsLm5hbWUpIHsKICAgICAgICBl");
    sb.append("bC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIpOwogICAgICB9CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBl");
    sb.append("bC5jaGlsZHJlbjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9");
    sb.append("IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHJlY2FsbF9lbWFpbChlbC5jaGlsZHJlbltrXSk7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi5hVVAgPSBmdW5jdGlvbiAoZm9ybSwgc3Rh");
    sb.append("dGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRlbnRp");
    sb.append("dHlOYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9ETzog");
    sb.append("bWFrZSByeHZhcgogICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAg");
    sb.append("IGZvcm0uYWN0aW9uID0gImh0dHBzOi8vYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20vfnVw");
    sb.append("bG9hZCI7CiAgICBmb3JtLm1ldGhvZCA9ICJwb3N0IjsKICAgIGZvcm0uZW5jdHlwZSA9ICJtdWx0aXBh");
    sb.append("cnQvZm9ybS1kYXRhIjsKICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgiaW5wdXQiKTsKICAgIGlkZW50aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgaWRlbnRpdHlJ");
    sb.append("bnB1dC5uYW1lID0gImlkZW50aXR5IjsKICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5p");
    sb.append("ZGVudGl0eTsKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWRlbnRpdHlJbnB1dCk7CiAgICB2YXIgaWZyYW1l");
    sb.append("VGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICBpZnJhbWVUYXJnZXQu");
    sb.append("bmFtZSA9ICJVUExPQURfIiArIE1hdGgucmFuZG9tKCk7CiAgICBpZnJhbWVUYXJnZXQud2lkdGggPSAi");
    sb.append("MSI7CiAgICBpZnJhbWVUYXJnZXQuaGVpZ2h0ID0gIjEiOwoKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZy");
    sb.append("YW1lVGFyZ2V0KTsKICAgIGZvcm0udGFyZ2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAgc2Vs");
    sb.append("Zi5hRFVQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2");
    sb.append("YXIgaWRMb29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhv");
    sb.append("YmoucnhfZm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2YXIKICAgIGlmIChpZExvb2t1cC5hYm9y");
    sb.append("dCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFjdGlvbiA9ICJodHRwczovL2F3cy11cy1l");
    sb.append("YXN0LTIuYWRhbWEtcGxhdGZvcm0uY29tL351cGxvYWQiOwogICAgZm9ybS5tZXRob2QgPSAicG9zdCI7");
    sb.append("CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICB7CiAgICAgIHZhciBp");
    sb.append("ZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaWRlbnRp");
    sb.append("dHlJbnB1dC50eXBlID0gImhpZGRlbiI7CiAgICAgIGlkZW50aXR5SW5wdXQubmFtZSA9ICJpZGVudGl0");
    sb.append("eSI7CiAgICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgZm9y");
    sb.append("bS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIH0KICAgIHsKICAgICAgdmFyIGRvbWFpbklu");
    sb.append("cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgZG9tYWluSW5wdXQudHlw");
    sb.append("ZSA9ICJoaWRkZW4iOwogICAgICBkb21haW5JbnB1dC5uYW1lID0gImRvbWFpbiI7CiAgICAgIGRvbWFp");
    sb.append("bklucHV0LnZhbHVlID0gc2VsZi5kb21haW47CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZG9tYWluSW5w");
    sb.append("dXQpOwogICAgfQogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlm");
    sb.append("cmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FEXyIgKyBNYXRoLnJhbmRvbSgpOwog");
    sb.append("ICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1lVGFyZ2V0LmhlaWdodCA9ICIxIjsK");
    sb.append("ICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFyZ2V0KTsKICAgIGZvcm0udGFyZ2V0ID0gaWZyYW1l");
    sb.append("VGFyZ2V0Lm5hbWU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbgog");
    sb.append("IHNlbGYuYWREU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsK");
    sb.append("ICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9u");
    sb.append("IChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9y");
    sb.append("bShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZURvbWFpbihzZWxm");
    sb.append("LmRvbWFpbiwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5j");
    sb.append("dGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9h");
    sb.append("ZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRl");
    sb.append("bnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBj");
    sb.append("b25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQpOwogICAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJl");
    sb.append("YXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2lnbmluZyBpbnRvIGRv");
    sb.append("Y3VtZW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH0KCiAgLy8gUlVO");
    sb.append("VElNRSB8IHJ4OmFjdGlvbj1kb2N1bWVudDpzaWduLWluCiAgc2VsZi5hRFNPID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50");
    sb.append("RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24uRG9jdW1lbnRBdXRob3JpemUocmVxLnNwYWNlLCByZXEua2V5LCByZXEudXNlcm5hbWUsIHJl");
    sb.append("cS5wYXNzd29yZCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAg");
    sb.append("ICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9j");
    sb.append("YWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRp");
    sb.append("dHkpOwogICAgICAgICAgLy8gVE9ETzogYmxvdyBhd2F5IGNvbm5lY3Rpb25zCiAgICAgICAgICBzZWxm");
    sb.append("LmdvdG8ocnhvYmoucnhfZm9yd2FyZCk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAg");
    sb.append("ICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2Zh");
    sb.append("aWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAgICAg");
    sb.append("ICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9tYWlu");
    sb.append("OnNpZ24taW4tcmVzZXQKICBzZWxmLmFkRFNPciA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRp");
    sb.append("dHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9u");
    sb.append("c3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAg");
    sb.append("dmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0");
    sb.append("aG9yaXplRG9tYWluV2l0aFJlc2V0KHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29y");
    sb.append("ZCwgcmVxLm5ld19wYXNzd29yZCx7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsK");
    sb.append("ICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAg");
    sb.append("ICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9h");
    sb.append("ZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMKICAgICAg");
    sb.append("ICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3Jt");
    sb.append("KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAg");
    sb.append("IGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29u");
    sb.append("KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249");
    sb.append("ZG9jdW1lbnQ6c2lnbi1pbi1yZXNldAogIHNlbGYuYURTT3IgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUs");
    sb.append("IGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAg");
    sb.append("Zm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7");
    sb.append("CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1");
    sb.append("bWVudEF1dGhvcml6ZVdpdGhSZXNldChyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51c2VybmFtZSwgcmVx");
    sb.append("LnBhc3N3b3JkLCByZXEubmV3X3Bhc3N3b3JkLHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5");
    sb.append("bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0");
    sb.append("eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1l");
    sb.append("LCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9u");
    sb.append("cwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQpOwogICAgICAgICAgZmlyZV9zdWNj");
    sb.append("ZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewog");
    sb.append("ICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2lnbmluZyBpbnRvIGRvY3VtZW50OiIg");
    sb.append("KyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgogIHZhciB0cmFuc2Zvcm1z");
    sb.append("ID0ge307CiAgdHJhbnNmb3Jtc1sncHJpbmNpcGFsLmFnZW50J10gPSBmdW5jdGlvbih4KSB7IHJldHVy");
    sb.append("biB4LmFnZW50OyB9OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBhbC5hdXRob3JpdHknXSA9IGZ1bmN0aW9u");
    sb.append("KHgpIHsgcmV0dXJuIHguYXV0aG9yaXR5OyB9OwogIHRyYW5zZm9ybXNbJ3RyaW0nXSA9IGZ1bmN0aW9u");
    sb.append("KHgpIHsgcmV0dXJuICgnJyArIHgpLnRyaW0oKTsgfTsKICB0cmFuc2Zvcm1zWyd1cHBlciddID0gZnVu");
    sb.append("Y3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9VcHBlckNhc2UoKTsgfTsKICB0cmFuc2Zvcm1zWyds");
    sb.append("b3dlciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9Mb3dlckNhc2UoKTsgfTsKICB0");
    sb.append("cmFuc2Zvcm1zWydpc19lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggPT0gIiI7IH07");
    sb.append("CiAgdHJhbnNmb3Jtc1snaXNfbm90X2VtcHR5X3N0ciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geCAh");
    sb.append("PSAiIjsgfTsKICB0cmFuc2Zvcm1zWydqc29uaWZ5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiBKU09O");
    sb.append("LnN0cmluZ2lmeSh4KTsgfTsKICB0cmFuc2Zvcm1zWyd0aW1lX25vdyddID0gZnVuY3Rpb24oeCkgeyBy");
    sb.append("ZXR1cm4gRGF0ZS5ub3coKSArICIiOyB9OwogIHRyYW5zZm9ybXNbJ3Z1bGdhcl9mcmFjdGlvbiddID0g");
    sb.append("ZnVuY3Rpb24oeHJhdykgewogICAgdmFyIHggPSAwLjA7CiAgICBpZiAodHlwZW9mKHhyYXcpID09ICdu");
    sb.append("dW1iZXInKSB7CiAgICAgIHggPSB4cmF3OwogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICB4");
    sb.append("ID0gcGFyc2VGbG9hdCh4cmF3KTsKICAgICAgfSBjYXRjaCAoZXgpIHsKCiAgICAgIH0KICAgIH0KICAg");
    sb.append("IHZhciBpdmFsID0gTWF0aC5mbG9vcih4KTsKICAgIHZhciBjaGFuZ2UgPSB4IC0gaXZhbDsKICAgIHZh");
    sb.append("ciBzdWZmaXggPSAiIjsKICAgIGlmIChjaGFuZ2UgPD0gMC4wNjI1KSB7CiAgICAgIC8vIDAKICAgIH0g");
    sb.append("ZWxzZSBpZiAoY2hhbmdlIDw9IDAuMTg3NSkgewogICAgICBzdWZmaXggPSAi4oWbIjsKICAgIH0gZWxz");
    sb.append("ZSBpZiAoY2hhbmdlIDw9IDAuMzEyNSkgewogICAgICBzdWZmaXggPSAiwrwiOwogICAgfSBlbHNlIGlm");
    sb.append("IChjaGFuZ2UgPD0gMC40Mzc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZwiOwogICAgfSBlbHNlIGlmIChj");
    sb.append("aGFuZ2UgPD0gMC41NjI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCvSI7CiAgICB9IGVsc2UgaWYgKGNoYW5n");
    sb.append("ZSA8PSAwLjY4NzUpIHsKICAgICAgc3VmZml4ID0gIuKFnSI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8");
    sb.append("PSAwLjgxMjUpIHsKICAgICAgc3VmZml4ID0gIsK+IjsgLy8gMy80CiAgICB9IGVsc2UgaWYgKGNoYW5n");
    sb.append("ZSA8PSAwLjkzNzUpIHsKICAgICAgc3VmZml4ID0gIuKFniI7CiAgICB9IC8vIGVsc2UgMQogICAgcmV0");
    sb.append("dXJuIGl2YWwgKyBzdWZmaXg7CiAgfQogIHRyYW5zZm9ybXNbJ3RpbWVfYWdvJ10gPSBmdW5jdGlvbihk");
    sb.append("dCkgewogICAgLy8gb25seSB0cmFuc2Zvcm0gc3RyaW5ncwogICAgaWYgKHR5cGVvZiAoZHQpID09ICJz");
    sb.append("dHJpbmciKSB7CiAgICAgIC8vIGxldCdzIHN0cmlwIG91dCBldmVyeXRoaW5nIGFmdGVyIHRoZSBicmFj");
    sb.append("a2V0cwogICAgICB2YXIgcyA9IGR0OwogICAgICB2YXIgayA9IHMuaW5kZXhPZignWycpOwogICAgICBp");
    sb.append("ZiAoayA+PSAwKSB7CiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIGspOwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBkID0gRGF0ZS5wYXJzZShzKTsKICAgICAgaWYgKE51bWJlci5pc05hTihkKSkgewogICAgICAgIC8v");
    sb.append("IGl0IGlzbid0IGEgbnVtYmVyLCBzbyB3ZSBkaWRuJ3QgZ2V0IGEgZGF0ZSBzdGFtcDsgZGVmYXVsdCB0");
    sb.append("byB0aGUgaW5wdXQKICAgICAgICByZXR1cm4gZHQ7CiAgICAgIH0KICAgICAgLy8gd2UgYXJlIGludGVy");
    sb.append("ZXN0ZWQgaW4gcHJvZHVjaW5nIGEgc3RyaW5nIGxpa2UgIlggbWludXRlcyBhZ28iLCBzbyBzdGFydCB3");
    sb.append("aXRoIHNlY29uZHMKICAgICAgdmFyIGRlbHRhID0gKERhdGUubm93KCkgLSBkKS8xMDAwOyAvLyBzZWNv");
    sb.append("bmRzOwogICAgICBpZiAoZGVsdGEgPCA2MCkgewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKGRlbHRh");
    sb.append("KSArICIgc2Vjb25kcyBhZ28iOwogICAgICB9CiAgICAgIC8vIGl0IHdhc24ndCA5MCBzZWNvbmRzIGFn");
    sb.append("byBvciBsZXNzLCBzbyBsZXQncyByZWZpbmUgdG93YXJkcyBtaW51dGVzCiAgICAgIGRlbHRhIC89IDYw");
    sb.append("OyAvLyBub3cgaXQgaXMgbWludXRlcwogICAgICBpZiAoZGVsdGEgPCA2MCkgewogICAgICAgIHJldHVy");
    sb.append("biBNYXRoLmZsb29yKGRlbHRhKSArICIgbWludXRlcyBhZ28iOwogICAgICB9CiAgICAgIC8vIGl0IHdh");
    sb.append("c24ndCA5MCBtaW51dGVzIGFnbywgc28gbGV0J3MganVzdCBwdXQgdGhlIHRpbWUgc3RhbXAgdXAKICAg");
    sb.append("ICAgdmFyIGR0aGVuID0gbmV3IERhdGUoZCk7CiAgICAgIHZhciBkbm93ID0gbmV3IERhdGUoKTsKICAg");
    sb.append("ICAgaWYgKGR0aGVuLnRvTG9jYWxlRGF0ZVN0cmluZygpICE9IGRub3cudG9Mb2NhbGVEYXRlU3RyaW5n");
    sb.append("KCkpIHsKICAgICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBkdGhl");
    sb.append("bi50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgfQogICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVU");
    sb.append("aW1lU3RyaW5nKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBk");
    sb.append("dDsKICAgIH0KICB9OwoKICBzZWxmLlJUUiA9IGZ1bmN0aW9uKG5hbWUsIHRyYW5zZm9ybSkgewogICAg");
    sb.append("dHJhbnNmb3Jtc1tuYW1lXSA9IHRyYW5zZm9ybTsKICB9OwogIHNlbGYucmVnaXN0ZXJUcmFuc2Zvcm0g");
    sb.append("PSBzZWxmLlJUUjsKCiAgLy8ge2JsYWh8bmFtZX0KICBzZWxmLlRSID0gZnVuY3Rpb24obmFtZSkgewog");
    sb.append("ICAgaWYgKG5hbWUgaW4gdHJhbnNmb3JtcykgewogICAgICByZXR1cm4gdHJhbnNmb3Jtc1tuYW1lXTsK");
    sb.append("ICAgIH0KICAgIHJldHVybiBmdW5jdGlvbih4KSB7IHJldHVybiB4OyB9OwogIH07CgogIC8vIFRPRE8K");
    sb.append("ICB2YXIgdmFsaWRhdG9ycyA9IHt9OwogIHNlbGYuUlYgPSBmdW5jdGlvbihuYW1lLCB2YWxpZGF0b3Ip");
    sb.append("IHsKICAgIHZhbGlkYXRvcnNbbmFtZV0gPSB2YWxpZGF0b3I7CiAgfTsKICBzZWxmLnJlZ2lzdGVyVmFs");
    sb.append("aWRhdG9yID0gc2VsZi5SVjsKCiAgdmFyIGNvbW1vblB1dCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwg");
    sb.append("aWRlbnRpdHlOYW1lLCByeG9iaiwgdXJsZmFjdG9yeSkgewogICAgLy8gV0lQCiAgICByeG9iai5fXyA9");
    sb.append("IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAg");
    sb.append("IGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2Up");
    sb.append("OwogICAgICAvLyBUT0RPOiB0aGlzIGFzc3VtZXMgZXhhY3RseSBvbmUgcGFzc3dvcmQgaW4gdGhlIHJv");
    sb.append("b3QgbWVzc2FnZQogICAgICB2YXIgcHdzID0gZ2V0X3Bhc3N3b3JkKGZvcm0pOwoKICAgICAgdmFyIG5l");
    sb.append("eHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHVybCA9IHVybGZhY3RvcnkocnhvYmopOwogICAg");
    sb.append("ICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhodHRwLm9ucmVhZHlz");
    sb.append("dGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0g");
    sb.append("NCkgewogICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdmFy");
    sb.append("IHR5cGUgPSB0aGlzLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZSA9PSAidGV4dC9lcnJvciIpIHsKICAgICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShm");
    sb.append("b3JtLCB0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAg");
    sb.append("ICAgfSBlbHNlIGlmICh0eXBlID09ICJhcHBsaWNhdGlvbi9qc29uIikgewogICAgICAgICAgICAgICAg");
    sb.append("dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAg");
    sb.append("IGlmICgnaWRlbnRpdHknIGluIHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgaWRlbnRpdGllc1tp");
    sb.append("ZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwog");
    sb.append("ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBzZWxmLmdvdG8ocnhv");
    sb.append("YmoucnhfZm9yd2FyZCk7CiAgICAgICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGNvbW11");
    sb.append("bmljYXRlIHRvIHNlcnZlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAg");
    sb.append("ICAgICB4aHR0cC5vcGVuKCJQVVQiLCB1cmwsIHRydWUpOwogICAgICAgIHhodHRwLndpdGhDcmVkZW50");
    sb.append("aWFscyA9IHRydWU7CiAgICAgICAgeGh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShyZXEpKTsKICAgICAg");
    sb.append("fTsKCiAgICAgIGlmIChwd3MgIT09IG51bGwpIHsKICAgICAgICBjb25uZWN0aW9uLkRvY3VtZW50c0hh");
    sb.append("c2hQYXNzd29yZChwd3NbMV0sIHsKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChoYXNoZWRfcHcp");
    sb.append("IHsKICAgICAgICAgICAgcmVxW3B3c1swXV0gPSBoYXNoZWRfcHcucGFzc3dvcmRIYXNoOwogICAgICAg");
    sb.append("ICAgICBuZXh0KCk7CiAgICAgICAgICB9LAogICAgICAgICAgZmFpbGVkOiBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dvcmQiKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgfQoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvbWFpbjpwdXQKICBzZWxmLmFkRFBV");
    sb.append("VCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9u");
    sb.append("UHV0KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbiAocnhvYmopIHsgcmV0");
    sb.append("dXJuIHNlbGYucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0ICsgIi8iICsgcnhvYmoucGF0aDsgfSkK");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvY3VtZW50OnB1dAogIHNlbGYuYURQVVQgPSBm");
    sb.append("dW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIGNvbW1vblB1dChm");
    sb.append("b3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgZnVuY3Rpb24gKHJ4b2JqKSB7IHJldHVybiAi");
    sb.append("aHR0cHM6Ly8iICsgY29ubmVjdGlvbi5ob3N0ICsgIi8iICsgcnhvYmouc3BhY2UgKyAiLyIgKyByeG9i");
    sb.append("ai5rZXkgKyAiLyIgKyByeG9iai5wYXRoOyB9KQogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249");
    sb.append("YWRhbWE6c2lnbi1pbgogIHNlbGYuYVNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5h");
    sb.append("bWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIHdpbmRvdy5zZXRU");
    sb.append("aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmVjYWxsX2VtYWlsKGZvcm0pOwogICAgfSwgMSk7CiAg");
    sb.append("ICAvLyBUT0RPOiBwdWxsIGVtYWlsIG91dCBvZiB0aGluIGFpcgogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1");
    sb.append("bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBn");
    sb.append("ZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgaWYgKHJlcS5yZW1lbWJlcikgewogICAgICAgIGxvY2Fs");
    sb.append("U3RvcmFnZS5zZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsIHJlcS5lbWFpbCk7CiAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVtYmVyIiwgIiIpOwogICAgICB9");
    sb.append("CiAgICAgIGNvbm5lY3Rpb24uQWNjb3VudExvZ2luKHJlcS5lbWFpbCwgcmVxLnBhc3N3b3JkLCB7CiAg");
    sb.append("ICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRl");
    sb.append("bnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRl");
    sb.append("bSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICBz");
    sb.append("ZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAg");
    sb.append("ICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJl");
    sb.append("X2ZhaWx1cmUoZm9ybSwgIkFjY291bnRMb2dpbiBGYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQog");
    sb.append("ICAgICB9KTsKICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1hZGFtYTpzaWduLXVw");
    sb.append("CiAgc2VsZi5hU1UgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndhcmRUbykgewogICAgZm9ybS5v");
    sb.append("bnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAg");
    sb.append("IHZhciByZXEgPSBnZXRfZm9ybShmb3JtKTsKICAgICAgY29ubmVjdGlvbi5Jbml0U2V0dXBBY2NvdW50");
    sb.append("KHJlcS5lbWFpbCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgvKiBwYXlsb2FkICovKSB7CiAg");
    sb.append("ICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWwiLCByZXEuZW1haWwpOwogICAgICAgICAg");
    sb.append("c2VsZi5nb3RvKGZvcndhcmRUbyk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAg");
    sb.append("fSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1");
    sb.append("cmUoZm9ybSwgIkluaXRTZXR1cEFjY291bnQgRmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAg");
    sb.append("ICAgfSk7CiAgICB9OwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2V0LXBhc3N3");
    sb.append("b3JkCiAgc2VsZi5hU1AgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGZvcndhcmRUbykgewogICAgZm9y");
    sb.append("bS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAg");
    sb.append("ICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgaWYgKCEoImVtYWlsIiBpbiBy");
    sb.append("ZXEpKSB7CiAgICAgICAgcmVxLmVtYWlsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImVtYWlsIik7CiAg");
    sb.append("ICAgIH0KICAgICAgY29ubmVjdGlvbi5Jbml0Q29tcGxldGVBY2NvdW50KHJlcS5lbWFpbCwgZmFsc2Us");
    sb.append("IHJlcS5jb2RlLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGluaXQpIHsKICAgICAgICAgIHZh");
    sb.append("ciBpZGVudGl0eSA9IGluaXQuaWRlbnRpdHk7CiAgICAgICAgICBjb25uZWN0aW9uLkFjY291bnRTZXRQ");
    sb.append("YXNzd29yZChpbml0LmlkZW50aXR5LCByZXEucGFzc3dvcmQsIHsKICAgICAgICAgICAgc3VjY2Vzczog");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV9k");
    sb.append("ZWZhdWx0IiwgaWRlbnRpdHkpOwogICAgICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJkVG8pOwogICAg");
    sb.append("ICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmFp");
    sb.append("bHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAi");
    sb.append("RmFpbGVkIEFjY291bnRTZXRQYXNzd29yZDoiICsgcmVhc29uKTsKICAgICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgfSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAg");
    sb.append("ICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBJbml0Q29tcGxldGVBY2NvdW50OiIgKyByZWFz");
    sb.append("b24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgoKICB2YXIgaHlkcmF0ZV9mb3JtID0g");
    sb.append("ZnVuY3Rpb24oZWwsIGlucHV0KSB7CiAgICB2YXIgdGFnID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgp");
    sb.append("OwogICAgdmFyIGlzU2V0dGFibGUgPSB0YWcgPT0gIlNFTEVDVCIgfHwgdGFnID09ICJJTlBVVCIgfHwg");
    sb.append("dGFnID09ICJISURERU4iOwogICAgaWYgKCduYW1lJyBpbiBlbCAmJiBpc1NldHRhYmxlKSB7CiAgICAg");
    sb.append("IHZhciBuYW1lID0gZWwubmFtZTsKICAgICAgdmFyIHBheWxvYWQgPSBpbnB1dDsKICAgICAgdmFyIGtE");
    sb.append("b3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykp");
    sb.append("OwogICAgICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBuYW1lLnN1");
    sb.append("YnN0cmluZygwLCBrRG90T3JTbGFzaCk7CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKGtEb3RP");
    sb.append("clNsYXNoICsgMSk7CiAgICAgICAgaWYgKGl0ZW0gaW4gcGF5bG9hZCkgewogICAgICAgICAgcGF5bG9h");
    sb.append("ZCA9IHBheWxvYWRbaXRlbV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("ICB9CiAgICAgICAga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1l");
    sb.append("LmluZGV4T2YoJy8nKSk7CiAgICAgIH0KICAgICAgaWYgKG5hbWUgaW4gcGF5bG9hZCkgewogICAgICAg");
    sb.append("IHZhciB0eXBlID0gZWwudHlwZS50b1VwcGVyQ2FzZSgpOwogICAgICAgIGlmICh0eXBlID09ICJDSEVD");
    sb.append("S0JPWCIpIHsKICAgICAgICAgIGVsLmNoZWNrZWQgPSBwYXlsb2FkW25hbWVdID09ICJ0cnVlIiB8fCBw");
    sb.append("YXlsb2FkW25hbWVdID09PSB0cnVlID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAodHlw");
    sb.append("ZSA9PSAiUkFESU8iKSB7CiAgICAgICAgICBpZiAocGF5bG9hZFtuYW1lXSA9PSBlbC52YWx1ZSkgewog");
    sb.append("ICAgICAgICAgICBlbC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgICAgZWwudmFsdWUgPSBwYXlsb2FkW25hbWVdOwogICAgICAgIH0KICAgICAgfQogICAgfQog");
    sb.append("ICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAg");
    sb.append("ICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAg");
    sb.append("ICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgaHlkcmF0ZV9mb3JtKGNoLCBpbnB1");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICB9CgoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uOmNvcHktZm9ybTok");
    sb.append("dGFyZ2V0LWlkCiAgc2VsZi5hQ0YgPSBmdW5jdGlvbihmb3JtLCB0YXJnZXRGb3JtSWQpIHsKICAgIGZv");
    sb.append("cm0ub25zdWJtaXQgPSBmdW5jdGlvbihldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAg");
    sb.append("ICAgIHZhciBpbnB1dCA9IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAgICAgdmFyIHRhcmdldCA9IGRv");
    sb.append("Y3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldEZvcm1JZCk7CiAgICAgIGlmICh0YXJnZXQpIHsKICAg");
    sb.append("ICAgICBoeWRyYXRlX2Zvcm0odGFyZ2V0LCBpbnB1dCk7CiAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0p");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJmYWlsZWQgdG8gZmluZCBm");
    sb.append("b3JtIGJ5IGlkICciICsgdGFyZ2V0Rm9ybUlkICsgIiciKTsKICAgICAgfQogICAgfTsKICB9OwoKICAv");
    sb.append("LyBSVU5USU1FIHwgcng6YWN0aW9uPXNlbmQ6JGNoYW5uZWwKICBzZWxmLmFTRCA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgY2hhbm5lbCkgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsK");
    sb.append("ICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBtc2cgPSBnZXRfZm9ybShmb3JtLCBm");
    sb.append("YWxzZSk7CiAgICAgIC8vIFRPRE86IHBhc3MgdGhyb3VnaCB0aGUgZGVidWdnZXIKICAgICAgc3RhdGUu");
    sb.append("ZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIG1zZywgewogICAgICAgIHN1Y2Nlc3M6IGZ1");
    sb.append("bmN0aW9uICgvKiBwYXlsb2FkICovKSB7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAg");
    sb.append("ICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2Zh");
    sb.append("aWx1cmUoZm9ybSwgIlNlbmQgZmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAg");
    sb.append("ICB9OwogIH07CiAgLy8gPHRvZG90YXNrPmRlc2NyaXB0aW9uPC90b2RvdGFzaz4KICBzZWxmLlRBU0sg");
    sb.append("PSBmdW5jdGlvbihwZG9tLCBpZCwgc2VjdGlvbiwgZGVzY3JpcHRpb24pIHsKICAgIHZhciBlbGVtZW50");
    sb.append("ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBlbGVtZW50LmlubmVySFRNTCA9ICIm");
    sb.append("Izk3NDQ7ICIgKyBkZXNjcmlwdGlvbiArICIgKCAiICsgc2VjdGlvbiArICIpIDxiciAvPiI7CiAgICBw");
    sb.append("ZG9tLmFwcGVuZENoaWxkKGVsZW1lbnQpOwogIH07CiAgLy8gUlVOVElNRTogcHJlLWNvbXByZXNzaW9u");
    sb.append("IGZvciBzZXR0aW5nIGFuIGF0dHJpYnV0ZQogIC8vICJkLnNldEF0dHJpYnV0ZShhLHYpOyIgLS0+CiAg");
    sb.append("Ly8gJC5TQShkLGEsdik7IgogIHNlbGYuU0EgPSBmdW5jdGlvbihkb20sIGF0dHIsIHZhbHVlKSB7CiAg");
    sb.append("ICBkb20uc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsKICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIGhy");
    sb.append("ZWY9IiIgLi4uPgogIHNlbGYuSFJFRiA9IGZ1bmN0aW9uIChkb20sIGhyZWYpIHsKICAgIGRvbS5zZXRB");
    sb.append("dHRyaWJ1dGUoImhyZWYiLCBmaXhIcmVmKGhyZWYpKTsKICAgIGRvbS5vbmNsaWNrID0gZnVuY3Rpb24g");
    sb.append("KGV2dCkgewogICAgICB2YXIgcGFydHMgPSAoaHJlZi5zdGFydHNXaXRoKCIvIikgPyBocmVmLnN1YnN0");
    sb.append("cmluZygxKSA6IGhyZWYpLnNwbGl0KCIvIik7CiAgICAgIGlmIChyb3V0ZShwYXJ0cywgMCwgcm91dGVy");
    sb.append("LCB7fSkpIHsKICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBzZWxmLnJ1bihkb2N1");
    sb.append("bWVudC5ib2R5LCBocmVmLCB0cnVlKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAg");
    sb.append("cmV0dXJuIHRydWU7CiAgICB9OwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4gY2xhc3M9IiIgLi4uPgog");
    sb.append("IHNlbGYuQUNMQVNTID0gZnVuY3Rpb24gKGRvbSwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUo");
    sb.append("ImNsYXNzIiwgdmFsdWUpOwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4gc3JjPSIiIC4uLj4KICBzZWxm");
    sb.append("LkFTUkMgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZSgic3JjIiwg");
    sb.append("dmFsdWUpOwogIH07CiAgd2luZG93LnJ4aHRtbCA9IHNlbGY7CiAgcmV0dXJuIHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm4g");
    sb.append("ZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwog");
    sb.append("ICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwogIGFzeW5jIHdhaXRfY29u");
    sb.append("bmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlz");
    sb.append("ZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgIH0pOwogICAgfSBlbHNl");
    sb.append("IHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0aGlzLm9uc3RhdHVzY2hh");
    sb.append("bmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAgICAgICBzZWxm");
    sb.append("Lm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAgICAgcHJpb3Ioc3RhdHVz");
    sb.append("KTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0cnVlKTsKICAgICAgICAg");
    sb.append("ICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAg");
    sb.append("IH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25yZWNvbm5lY3QuZm9yRWFj");
    sb.append("aChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAgIH0pOwogIH0KCiAgLyoq");
    sb.append("IGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8K");
    sb.append("ICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHNtLmZpcnN0ID0gdHJ1");
    sb.append("ZTsKICAgIGlmIChzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAg");
    sb.append("ICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAgc20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZh");
    sb.append("aWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRl");
    sb.append("cikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3Bv");
    sb.append("bmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRl");
    sb.append("KHNtLmlkKTsKICAgIH0pKSB7CiAgICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAg");
    sb.append("ICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoc20p");
    sb.append("OwogICAgICB9OwogICAgICByZXR1cm4gc207CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8q");
    sb.append("KiBleGVjdXRlIGEgc3RyZWFtIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gc3RhdGUgbWFjaGluZSAqLwog");
    sb.append("IF9fZXhlY3V0ZV9zdHJlYW0oc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGlmIChzZWxmLl93");
    sb.append("cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBp");
    sb.append("biByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAg");
    sb.append("ICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAg");
    sb.append("ICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0");
    sb.append("ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9");
    sb.append("KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNldChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuX19leGVjdXRlX3N0cmVhbShzbSk7CiAgICAgIH07");
    sb.append("CiAgICAgIHJldHVybiBzbTsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgX19pZCgpIHsKICAg");
    sb.append("IHRoaXMubmV4dElkKys7CiAgICByZXR1cm4gdGhpcy5uZXh0SWQ7CiAgfQoKICAvKipbQkVHSU4tSU5W");
    sb.append("T0tFXSoqLwogIEluaXRTZXR1cEFjY291bnQoZW1haWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvc2V0dXAtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6");
    sb.append("IGVtYWlsfQogICAgfSk7CiAgfQogIEluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NUb2tlbiwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb252ZXJ0LWdvb2ds");
    sb.append("ZS11c2VyIiwgImlkIjpwYXJJZCwgImFjY2Vzcy10b2tlbiI6IGFjY2Vzc1Rva2VufQogICAgfSk7CiAg");
    sb.append("fQogIEluaXRDb21wbGV0ZUFjY291bnQoZW1haWwsIHJldm9rZSwgY29kZSwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb21wbGV0ZS1hY2NvdW50IiwgImlkIjpw");
    sb.append("YXJJZCwgImVtYWlsIjogZW1haWwsICJyZXZva2UiOiByZXZva2UsICJjb2RlIjogY29kZX0KICAgIH0p");
    sb.append("OwogIH0KICBEZWluaXQoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRlaW5pdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7");
    sb.append("CiAgfQogIEFjY291bnRTZXRQYXNzd29yZChpZGVudGl0eSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvc2V0LXBhc3N3b3JkIiwgImlkIjpw");
    sb.append("YXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAg");
    sb.append("fQogIEFjY291bnRHZXRQYXltZW50UGxhbihpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9nZXQtcGF5bWVudC1wbGFuIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQWNjb3VudExvZ2luKGVtYWlsLCBwYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9s");
    sb.append("b2dpbiIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAg");
    sb.append("IH0pOwogIH0KICBQcm9iZShpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoicHJvYmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0p");
    sb.append("OwogIH0KICBBdXRob3JpdHlDcmVhdGUoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlTZXQoaWRlbnRpdHksIGF1dGhvcml0eSwg");
    sb.append("a2V5U3RvcmUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhv");
    sb.append("cml0eS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1");
    sb.append("dGhvcml0eSwgImtleS1zdG9yZSI6IGtleVN0b3JlfQogICAgfSk7CiAgfQogIEF1dGhvcml0eUdldChp");
    sb.append("ZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRo");
    sb.append("b3JpdHkiOiBhdXRob3JpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5TGlzdChpZGVudGl0eSwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9saXN0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5");
    sb.append("RGVzdHJveShpZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvZGVzdHJveSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIFNwYWNlQ3JlYXRlKGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwgdGVtcGxhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("c3BhY2UiOiBzcGFjZSwgInRlbXBsYXRlIjogdGVtcGxhdGV9CiAgICB9KTsKICB9CiAgU3BhY2VHZW5l");
    sb.append("cmF0ZUtleShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2dlbmVyYXRlLWtleSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZUdldChpZGVudGl0eSwgc3BhY2Us");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2dldCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0K");
    sb.append("ICBTcGFjZVNldChpZGVudGl0eSwgc3BhY2UsIHBsYW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3NldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgInBsYW4iOiBwbGFufQogICAgfSk7CiAgfQogIFNwYWNlUmVkZXBs");
    sb.append("b3lLaWNrKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoic3BhY2UvcmVkZXBsb3kta2ljayIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVNldFJ4aHRtbChpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHJ4aHRtbCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2Uvc2V0LXJ4aHRtbCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgInJ4aHRtbCI6IHJ4aHRtbH0KICAgIH0pOwogIH0KICBTcGFjZUdldFJ4aHRtbChpZGVu");
    sb.append("dGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNw");
    sb.append("YWNlL2dldC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRQb2xpY3koaWRlbnRpdHksIHNwYWNlLCBhY2Nlc3NQ");
    sb.append("b2xpY3ksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJhY2Nlc3MtcG9saWN5IjogYWNjZXNzUG9saWN5fQogICAgfSk7CiAgfQogIFNwYWNlR2V0UG9saWN5");
    sb.append("KGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIg");
    sb.append("cGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvZ2V0LXBvbGljeSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3Bh");
    sb.append("Y2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZU1ldHJpY3MoaWRlbnRpdHksIHNwYWNlLCBwcmVm");
    sb.append("aXgsIG1ldHJpY1F1ZXJ5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9tZXRyaWNzIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6");
    sb.append("IHNwYWNlLCAicHJlZml4IjogcHJlZml4LCAibWV0cmljLXF1ZXJ5IjogbWV0cmljUXVlcnl9CiAgICB9");
    sb.append("KTsKICB9CiAgU3BhY2VEZWxldGUoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAg");
    sb.append("ICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9kZWxldGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSb2xlKGlkZW50");
    sb.append("aXR5LCBzcGFjZSwgZW1haWwsIHJvbGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL3NldC1yb2xlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAiZW1haWwiOiBlbWFpbCwgInJvbGUiOiByb2xlfQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlTGlzdERldmVsb3BlcnMoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvbGlzdC1kZXZlbG9wZXJzIiwgImlkIjpwYXJJ");
    sb.append("ZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNl");
    sb.append("UmVmbGVjdChpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvcmVmbGVjdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleX0KICAgIH0pOwogIH0KICBTcGFjZUxpc3QoaWRl");
    sb.append("bnRpdHksIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJt");
    sb.append("YXJrZXIiOiBtYXJrZXIsICJsaW1pdCI6IGxpbWl0fQogICAgfSk7CiAgfQogIERvbWFpbk1hcChpZGVu");
    sb.append("dGl0eSwgZG9tYWluLCBzcGFjZSwgY2VydGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVu");
    sb.append("dGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJjZXJ0aWZpY2F0ZSI6IGNlcnRp");
    sb.append("ZmljYXRlfQogICAgfSk7CiAgfQogIERvbWFpblJlZmxlY3QoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVy");
    sb.append("OiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3JlZmxlY3QiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0K");
    sb.append("ICBEb21haW5NYXBEb2N1bWVudChpZGVudGl0eSwgZG9tYWluLCBzcGFjZSwga2V5LCByb3V0ZSwgY2Vy");
    sb.append("dGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFp");
    sb.append("bi9tYXAtZG9jdW1lbnQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6");
    sb.append("IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJyb3V0ZSI6IHJvdXRlLCAiY2VydGlm");
    sb.append("aWNhdGUiOiBjZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0KGlkZW50aXR5LCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2xpc3QiLCAi");
    sb.append("aWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0QnlT");
    sb.append("cGFjZShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJkb21haW4vbGlzdC1ieS1zcGFjZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBEb21haW5Vbm1hcChpZGVudGl0eSwg");
    sb.append("ZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4v");
    sb.append("dW5tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0K");
    sb.append("ICAgIH0pOwogIH0KICBEb21haW5HZXQoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2");
    sb.append("YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9y");
    sb.append("aXplKHNwYWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJZCwgInNwYWNl");
    sb.append("Ijogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNz");
    sb.append("d29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4sIHVzZXJuYW1l");
    sb.append("LCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9j");
    sb.append("dW1lbnQvYXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2Vy");
    sb.append("bmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVu");
    sb.append("dEF1dGhvcml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQv");
    sb.append("YXV0aG9yaXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtl");
    sb.append("eSwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3Jk");
    sb.append("IjogbmV3X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJl");
    sb.append("c2V0KGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4td2l0");
    sb.append("aC1yZXNldCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6IHVzZXJuYW1l");
    sb.append("LCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0p");
    sb.append("OwogIH0KICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9weSwgYXJnLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9jcmVhdGUi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJlbnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBEb2N1bWVudERl");
    sb.append("bGV0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3VtZW50TGlzdChp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("c3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1pdH0K");
    sb.append("ICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtleSwgY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVz");
    sb.append("c2FnZS9kaXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFjZSwga2V5LCBk");
    sb.append("ZWR1cGUsIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6");
    sb.append("IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRlZHVwZSwgImNo");
    sb.append("YW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3Bv");
    sb.append("bmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFy");
    sb.append("SWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInZpZXdl");
    sb.append("ci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2aWV3ZXJTdGF0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5lY3Rp");
    sb.append("b24vY3JlYXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRv");
    sb.append("bWFpbiI6IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVu");
    sb.append("Y3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hh");
    sb.append("bm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAg");
    sb.append("ICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJS");
    sb.append("ZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJl");
    sb.append("c3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25j");
    sb.append("ZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1");
    sb.append("cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAg");
    sb.append("Y2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAg");
    sb.append("ICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9k");
    sb.append("OiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUs");
    sb.append("IGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAi");
    sb.append("Y29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1l");
    sb.append("LCAiY29udGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBk");
    sb.append("aWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAg");
    sb.append("ICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("ICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAg");
    sb.append("IHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0");
    sb.append("aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAg");
    sb.append("IH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3JkLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudHMvaGFzaC1w");
    sb.append("YXNzd29yZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIEJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIsICJpZCI6cGFy");
    sb.append("SWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBmaWxl");
    sb.append("bmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQt");
    sb.append("dHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0");
    sb.append("Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50");
    sb.append("L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwg");
    sb.append("ImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5p");
    sb.append("c2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAg");
    sb.append("IHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRh");
    sb.append("Y2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBm");
    sb.append("aWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRl");
    sb.append("bnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFz");
    sb.append("ZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2ht");
    sb.append("ZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01k");
    sb.append("NSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBm");
    sb.append("aW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJh");
    sb.append("dHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFtYSA9IHsKICBQ");
    sb.append("cm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIENvbm5lY3Rpb246");
    sb.append("IFdlYlNvY2tldEFkYW1hQ29ubmVjdGlvbgp9Owo=");
    return sb.toString();
  }
}
