/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cywgb3B0aW1hbCkgewogICAgaWYgKG9wdGltYWwgJiYg");
    sb.append("cy5sZW5ndGggPT0gMCkgewogICAgICAvLyBubyB2YWx1ZSBpbiBtZXJnaW5nIGFnYWluc3QgYSBmYXV4");
    sb.append("IHRyZWUgd2l0aG91dCBzdWJzY3JpcHRpb25zCiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAodmFy");
    sb.append("IGtleSBpbiBkZWx0YSkgeyAvLyBmb3IgZWFjaCBiaXQgb2YgZGF0YSB3aXRoaW4gdGhlIHRyZWUKICAg");
    sb.append("ICAgdmFyIGVLZXkgPSAiIyIgKyBrZXk7IC8vIGNvbXB1dGUgdGhlIHNlY3JldCBkYXRhIHBhdGgKICAg");
    sb.append("ICAgdmFyIHByaW9yID0gdHJlZVtrZXldOyAvLyBmaW5kIHRoZSBwcmlvciBzdGF0ZSB3aXRoaW4gdGhl");
    sb.append("IHRyZWUKICAgICAgdmFyIG5leHQgPSBkZWx0YVtrZXldOyAvLyBicmluZyB0aGUgY2hhbmdlIHByZXNl");
    sb.append("bnQgZm9yIHRoZSBjdXJyZW50IGtleQogICAgICBpZiAobmV4dCA9PSBudWxsKSB7IC8vIHRoZSBpdGVt");
    sb.append("IGlzIGdvaW5nIHBvb2YKICAgICAgICAvLyB0aGUgcHJpb3IgdmFsdWUgaXMgYW4gYXJyYXksIHNvIHdl");
    sb.append("IG1heSBoYXZlIHNvbWUgc3BlY2lhbCB0aGluZ3MgYXNzb2NpYXRlIHdpdGggaXQKICAgICAgICBpZiAo");
    sb.append("QXJyYXkuaXNBcnJheShwcmlvcikpIHsgLy8gVU5URVNUCiAgICAgICAgICBpZiAoZUtleSBpbiB0cmVl");
    sb.append("KSB7CiAgICAgICAgICAgIGRlbChzdWIocywgZUtleSkpOwogICAgICAgICAgfQogICAgICAgICAgZGVs");
    sb.append("ZXRlIHRyZWVbZUtleV07CiAgICAgICAgfQogICAgICAgIGRlbChzdWIocywga2V5KSk7IC8vIGlzc3Vl");
    sb.append("IGEgZGVsZXRlIGZvciBhbGwgdGhlIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBraWQKICAgICAgICBkZWxl");
    sb.append("dGUgdHJlZVtrZXldOyAvLyBkZWxldGUgdGhlIGRhdGEgaW4gdGhlIHRyZWUKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBpZiAodHlwZW9mIChuZXh0KSA9PSAib2JqZWN0IiAmJiAhQXJyYXkuaXNBcnJheShuZXh0");
    sb.append("KSkgeyAvLyBpZiB0aGUgZGVsdGEgaXMgYW4gb2JqZWN0CiAgICAgICAgICB2YXIgYXJyID0gQXJyYXku");
    sb.append("aXNBcnJheShwcmlvcikgfHwgIkBvIiBpbiBuZXh0IHx8ICJAcyIgaW4gbmV4dDsgLy8gZGV0ZWN0IGlm");
    sb.append("IHdlIG5lZWQgdG8gdXNlIGFycmF5IGxvZ2ljCiAgICAgICAgICBpZiAoYXJyKSB7IC8vIHdlIGhhdmUg");
    sb.append("ZGV0ZWN0ZWQgYW4gYXJyYXkKICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRyZWUpKSB7IC8vIGxldCdz");
    sb.append("IG1ha2Ugc3VyZSB0aGUgdHJlZSBoYXMgYW4gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICB0cmVlW2tl");
    sb.append("eV0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShlS2V5IGluIHRyZWUpKSB7IC8v");
    sb.append("IGxldCdzIG1ha2Ugc3VyZSB0aGUgc2VjcmV0IGRhdGEgZXhpc3RzIGFzIHdlbGwKICAgICAgICAgICAg");
    sb.append("ICB0cmVlW2VLZXldID0ge307CiAgICAgICAgICAgICAgaWYgKCJAbyIgaW4gbmV4dCkgeyAvLyBpZiB3");
    sb.append("ZSBoYXZlIGEgYnVuY2ggb2Yga2V5cywgdGhlbiBsZXQncyBtYWtlIHN1cmUgdG8gcHJlc2VydmUgdGhh");
    sb.append("dCBmb3IgbWFrZV9kZWx0YQogICAgICAgICAgICAgICAgdHJlZVtlS2V5XVsiQG8iXSA9IHRydWU7CiAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyZWVbZUtleV0uX19rZXkgPSBrZXk7IC8vIGFubm90");
    sb.append("YXRlIHRoZSBuZXcgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkKICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("ICB2YXIgZUJhc2UgPSB0cmVlW2VLZXldOyAvLyBnZXQgdGhlIHNlY3JldCAoYW5kIHJlYWwpIGRhdGEg");
    sb.append("Zm9yIHRoZSBvYmplY3QgaW4gcXVlc3Rpb24KICAgICAgICAgICAgdmFyIGVTdWIgPSBzdWIocywga2V5");
    sb.append("KTsgLy8gc2NvcGUgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUga2V5CiAgICAgICAgICAgIHZhciBvcmRl");
    sb.append("cmluZyA9IG51bGw7IC8vIGRldGVjdGlvbiBvZiBpZiB3ZSBoYXZlIEBvIG9yZGVyaW5nIHRvIHJlb3Jk");
    sb.append("ZXIgdGhlIHZhbHVlcwogICAgICAgICAgICB2YXIgcmVzaXplID0gbnVsbDsgLy8gZGV0ZWN0aW9uIG9m");
    sb.append("IGFuIGFycmF5IHdpdGhvdXQgX19rZXkKICAgICAgICAgICAgdmFyIGRlbGF5ID0ge307IC8vIHdlIGRl");
    sb.append("bGF5IGFsbCBldmVudHMgc3VjaCB0aGF0IHRoZSBhcnJheSBjYW4gYmUgYnVpbHQgZm9yIGlubGluZSBt");
    sb.append("YWtlX2RlbHRhIGNhbGxzIHRvIHdvcmsKICAgICAgICAgICAgZm9yICh2YXIgYUtleSBpbiBuZXh0KSB7");
    sb.append("IC8vIGZvciBlYWNoIGZpZWxkIHdpdGhpbiB0aGUgZGlmZmVyZW5jZQogICAgICAgICAgICAgIHZhciB2");
    sb.append("YWwgPSBuZXh0W2FLZXldOwogICAgICAgICAgICAgIGlmIChhS2V5ID09ICJAbyIpIHsgLy8gdGhlIHZh");
    sb.append("bHVlIGlzIGEgbmV3IG9yZGVyaW5nIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgb3JkZXJpbmcg");
    sb.append("PSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhS2V5ID09ICJAcyIpIHsgLy8gdGhlIHZhbHVl");
    sb.append("IGlzIGEgcmVzaXplIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgcmVzaXplID0gdmFsOwogICAg");
    sb.append("ICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IG51bGwpIHsgLy8gZGVsZXRlIHRoZSBlbGVtZW50CiAg");
    sb.append("ICAgICAgICAgICAgICBpZiAoYUtleSBpbiBlQmFzZSkgeyAvLyBpZiBpdCBleGlzdHMgd2l0aGluIHRo");
    sb.append("ZSBzZWNyZXQga2V5CiAgICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsK");
    sb.append("ICAgICAgICAgICAgICAgICAgICBkZWwoc3ViKGVTdWIsIHgpKTsgLy8gaXNzdWUgZGVsZXRlcwogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGV0ZSBlQmFzZVt4XTsgLy8gZGVsZXRlIHRoZSB2YWx1ZQogICAgICAg");
    sb.append("ICAgICAgICAgICAgIGRlbF9rZXkoZVN1YiwgeCk7IC8vIGRlbGV0ZSB0aGUga2V5cyBmcm9tIHRoZSBv");
    sb.append("YmplY3QKICAgICAgICAgICAgICAgICAgICBmaXJlX2RlbChlU3ViLCB4KTsKICAgICAgICAgICAgICAg");
    sb.append("ICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB3ZSBoYXZlIGRh");
    sb.append("dGEKICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZSBkYXRhIGRpZG4n");
    sb.append("dCBleGlzdCwgc28gZmlyZSBhbiBhZGRpdGlvbiB0byBleHRlbmQgdGhlIHN1YnNjcmlwdGlvbnMKICAg");
    sb.append("ICAgICAgICAgICAgICAgZmlyZV9hZGQoZVN1YiwgYUtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgICB2YXIgblZhbCA9IG5leHRbYUtleV07IC8vIGdldCB0aGUgbmV3IHZhbHVlCiAgICAg");
    sb.append("ICAgICAgICAgICBpZiAodHlwZW9mIChuVmFsKSA9PSAib2JqZWN0IikgeyAvLyBpZiB0aGUgbmV3IHZh");
    sb.append("bHVlIGlzIGFuIG9iamVjdAogICAgICAgICAgICAgICAgICBpZiAoIShhS2V5IGluIGVCYXNlKSkgeyAv");
    sb.append("LyB0aGVuIG1ha2Ugc3VyZSB0aGUgbmV3IGl0ZW0gaXMgd2l0aGluIHRoZSBzZWNyZXQgdHJlZQogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGVCYXNlW2FLZXldID0ge307CiAgICAgICAgICAgICAgICAgICAgZUJhc2Vb");
    sb.append("YUtleV0uX19rZXkgPSBhS2V5OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGRl");
    sb.append("bGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICBtZXJnZShlQmFzZVt4");
    sb.append("XSwgbmV4dFt4XSwgc3ViKGVTdWIsIHgpLCBldmVudHMsIG9wdGltYWwpOyAvLyByZWN1cnNlOiBtZXJn");
    sb.append("ZSB0aGUgZGlmZmVyZW5jZSBpbnRvIHRoZSBzZWNyZXQgdHJlZSBhbmQgcHVibGlzaCB0byBhbGwgZWxl");
    sb.append("bWVudCBzdWJzY3JpcHRpb25zCiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVC");
    sb.append("YXNlW3hdLCBldmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IHsgLy8gb3RoZXJ3aXNlLCBzZXQgdGhlIHZhbHVlIGludG8gdGhlIHRyZWUKICAgICAgICAgICAgICAg");
    sb.append("ICAgZUJhc2VbYUtleV0gPSBuVmFsOwogICAgICAgICAgICAgICAgICBkZWxheVthS2V5XSA9IGZ1bmN0");
    sb.append("aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVCYXNlW3hdLCBl");
    sb.append("dmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg");
    sb.append("ICAgLy8gYW5kIHRlbGwgZXZlcnlvbmUgdGhlIG5ldyB2YWx1ZSBmb3IgdGhpcwogICAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYmVmb3JlID0gdHJlZVtrZXldOyAvLyBzdGFz");
    sb.append("aCBhIHBvaW50ZXIgdG8gdGhlIGFycmF5CiAgICAgICAgICAgIHZhciBkZWxheU9yZGVyID0gW107Cgog");
    sb.append("ICAgICAgICAgICBpZiAob3JkZXJpbmcgIT0gbnVsbCkgeyAvLyBhbiBvcmRlcmluZyBjaGFuZ2UgaXMg");
    sb.append("aGFwcGVuaW5nCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107IC8vIHdlIHdpbGwgcmVidWlsZCB0");
    sb.append("aGUgYXJyYXkgaGVyZQogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsgLy8gYW5kIHJlY29yZCB0aGUg");
    sb.append("a2V5cyBoZXJlCiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmRlcmluZy5sZW5ndGg7");
    sb.append("IGsrKykgeyAvLyBmb3IgZWFjaCBvcmRlcmluZyBpbnN0cnVjdGlvbgogICAgICAgICAgICAgICAgdmFy");
    sb.append("IGluc3RyID0gb3JkZXJpbmdba107CiAgICAgICAgICAgICAgICB2YXIgdHlwZV9pbnN0ciA9IHR5cGVv");
    sb.append("ZiAoaW5zdHIpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVfaW5zdHIgPT0gInN0cmluZyIgfHwgdHlw");
    sb.append("ZV9pbnN0ciA9PSAibnVtYmVyIikgeyAvLyBpZiB0aGUgaW5zdHJ1Y3Rpb24gcmVmZXJzIHRvIGFuIGl0");
    sb.append("ZW0KICAgICAgICAgICAgICAgICAgYWZ0ZXIucHVzaChlQmFzZVtpbnN0cl0pOyAvLyBwdXNoIHRoZSBp");
    sb.append("dGVtIGludG8gdGhlIG5ldyBhcnJheQogICAgICAgICAgICAgICAgICBtc2cucHVzaCgiIiArIGluc3Ry");
    sb.append("KTsgLy8gcmVjb3JkIHRoZSBrZXkgb2YgdGhlIGl0ZW0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZSwgdGhlIGluc3RydWN0aW9uIGlzIGEgcmFuZ2UKICAgICAgICAgICAgICAgICAgdmFy");
    sb.append("IHN0YXJ0ID0gaW5zdHJbMF07CiAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBpbnN0clsxXTsKICAg");
    sb.append("ICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDw9IGVuZDsgaisrKSB7IC8vIGl0ZXJh");
    sb.append("dGUgb3ZlciB0aGUgcmFuZ2UgYW5kIGNvcHkKICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlW2pd");
    sb.append("KSB7CiAgICAgICAgICAgICAgICAgICAgICBhZnRlci5wdXNoKGJlZm9yZVtqXSk7IC8vIHRoZSBpdGVt");
    sb.append("cyBmcm9tIHRoZSBwcmV2aW91cyBjb3B5CiAgICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZv");
    sb.append("cmVbal0uX19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgZGVsYXlPcmRlci5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZpcmUo");
    sb.append("c3ViKGVTdWIsICJ+IiksIG1zZywgZXZlbnRzKTsgLy8gdGVsbCBzdWJzY3JpcHRpb25zIGFib3V0IHRo");
    sb.append("ZSBuZXcgb3JkZXJpbmcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSBh");
    sb.append("ZnRlcjsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgIT0gbnVsbCkgeyAvLyBhbHRlcm5hdGl2");
    sb.append("ZWx5LCBhbiBhcnJheSB3aXRob3V0IGtleXMgaXMgYmVpbmcgcmVzaXplZAogICAgICAgICAgICAgIHZh");
    sb.append("ciBhZnRlciA9IFtdOwogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsKICAgICAgICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IHJlc2l6ZTsgaysrKSB7IC8vIHdlIHJlYnVpbGQgdGhlIGFycmF5CiAgICAg");
    sb.append("ICAgICAgICAgICBhZnRlcltrXSA9IGVCYXNlWyIiICsga107CiAgICAgICAgICAgICAgICBtc2cucHVz");
    sb.append("aCgiIiArIGspOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIGZvciAoYUtleSBpbiBkZWxheSkgewogICAgICAgICAgICAgIGRlbGF5W2FLZXldKGFLZXkpOwog");
    sb.append("ICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVsYXlPcmRlci5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICAgICAgICAgIGRlbGF5T3JkZXJba10oKTsKICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICBmaXJlKGVTdWIsIHRyZWVba2V5XSwgZXZlbnRzKTsgLy8gdGVsbCBldmVyeW9uZSBhYm91");
    sb.append("dCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIShrZXkgaW4g");
    sb.append("dHJlZSkgfHwgdHlwZW9mICh0cmVlW2tleV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgdHJl");
    sb.append("ZVtrZXldID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGUgPSBzdWIocywga2V5KTsK");
    sb.append("ICAgICAgICAgICAgbWVyZ2UodHJlZVtrZXldLCBuZXh0LCBlLCBldmVudHMsIG9wdGltYWwpOwogICAg");
    sb.append("ICAgICAgICBmaXJlKGUsIHRyZWVba2V5XSwgZXZlbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVs");
    sb.append("c2UgeyAvLyBub3QgYW4gb2JqZWN0LCBzbyBpdCBpcyBhIHZhbHVlCiAgICAgICAgICB0cmVlW2tleV0g");
    sb.append("PSBuZXh0OyAvLyBzdGFzaCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICBmaXJlKHN1YihzLCBrZXkpLCBu");
    sb.append("ZXh0LCBldmVudHMpOyAvLyBhbmQgdGVsbCBldmVyeW9uZSBhYm91dCBpdAogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogICAgZmlyZShzLCB0cmVlLCBldmVudHMpOwogIH07CgogIHZhciBmaXJlX2V2ZW50cyA9");
    sb.append("IGZ1bmN0aW9uIChldmVudHMpIHsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZlbnRzLmxlbmd0aDsg");
    sb.append("aysrKSB7CiAgICAgIGV2ZW50c1trXSgpOwogICAgfQogIH07CgogIHRoaXMudXBkYXRlX2luX3Byb2dy");
    sb.append("ZXNzID0gZmFsc2U7CiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgIHRoaXMudXBk");
    sb.append("YXRlX2luX3Byb2dyZXNzID0gdHJ1ZTsKICAgIHZhciBhcnIgPSBbXTsgLy8gY29udmVydCB0aGUgc3Vi");
    sb.append("c2NyaXB0aW9ucyBpbnRvIGFuIGFycmF5CiAgICBmb3IgKHZhciBrIGluIGFsbF9zdWJzY3JpcHRpb25z");
    sb.append("KSB7CiAgICAgIGFyci5wdXNoKGFsbF9zdWJzY3JpcHRpb25zW2tdKTsKICAgIH0KICAgIHZhciBldmVu");
    sb.append("dHMgPSBbXTsKICAgIG1lcmdlKHJvb3QsIGRlbHRhLCBhcnIsIGV2ZW50cywgZmFsc2UpOyAvLyBleGVj");
    sb.append("dXRlIHRoZSBtZXJnZSBhbmQgZmlyZSBldmVudHMKICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB3");
    sb.append("aGlsZSAodGhpcy5zdWJzY3JpYmVfZGVsYXkubGVuZ3RoID4gMCkgewogICAgICB2YXIgY29weSA9IHRo");
    sb.append("aXMuc3Vic2NyaWJlX2RlbGF5OwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwogICAgICB2");
    sb.append("YXIgZmxhdCA9IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvcHkubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICBpZiAoIWNvcHlba10uYWJvcnRlZCkgewogICAgICAgICAgZmxhdC5wdXNoKGNvcHlba10u");
    sb.append("c3ViKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZXZlbnRzID0gW107CiAgICAgIG1lcmdlKHt9LCBt");
    sb.append("YWtlX29wdGltYWxfZGVsdGEocm9vdCwgZmxhdCksIGZsYXQsIGV2ZW50cywgdHJ1ZSk7IC8vIGV4ZWN1");
    sb.append("dGUgdGhlIG1lcmdlIGFuZCBmaXJlIGV2ZW50cwogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAg");
    sb.append("fQogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB9OwoKICAvLyBmaXggdGhlIGNh");
    sb.append("bGxiYWNrIHN0cnVjdHVyZSBmcm9tIHRoZSB1c2VyJ3MgaGFwcHkgbGFuZCB0byB0aGUgcmlnb3Igb2Yg");
    sb.append("dGhlIGZvcm1hdCBuZWVkZWQKICB2YXIgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViID0gZnVuY3Rp");
    sb.append("b24gKGNhbGxiYWNrLCBzdWIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrKSkgeyAvLyBp");
    sb.append("ZiB0aGUgY2FsbGJhY2sgaXMgYW4gYXJyYXksIHRoZW4gZmxhdHRlbiB0aGUgYXJyYXkgaW50byB0aGUg");
    sb.append("bmV3IG9iamVjdAogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNrW2tdLCBzdWIpOwogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09ICJvYmplY3QiKSB7IC8vIG9oLCB0");
    sb.append("aGUgY2FsbGJhY2sgaXMgYW4gb2JqZWN0CiAgICAgIGZvciAodmFyIGtleSBpbiBjYWxsYmFjaykgeyAv");
    sb.append("LyBpdGVyYXRlIG92ZXIgZWFjaCBrZXkKICAgICAgICBpZiAoa2V5ID09ICJAZSIpIHsgLy8gZm9yY2Ug");
    sb.append("dGhlIGZ1bmN0aW9ucyB0byBtZXJnZSB0b2dldGhlcgogICAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNr");
    sb.append("X2ludG9fc3ViKGNhbGxiYWNrW2tleV0sIHN1Yik7CiAgICAgICAgfSBlbHNlIHsgLy8gbm9ybWFsIGZs");
    sb.append("b3cKICAgICAgICAgIGlmICghKGtleSBpbiBzdWIpKSB7IC8vIGRpdmUgaW50byB0aGUgb2JqZWN0IGFu");
    sb.append("ZCBtYWtlIHN1cmUgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGZpZWxkCiAgICAgICAgICAgIHN1Yltr");
    sb.append("ZXldID0ge307CiAgICAgICAgICB9CiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIo");
    sb.append("Y2FsbGJhY2tba2V5XSwgc3ViW2tleV0pOyAvLyByZWN1cnNlIGFuZCBwYWlyIHRoZSBldmVudHMgdG8g");
    sb.append("dGhlIG5ldyBzdWJzY3JpcHRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9m");
    sb.append("IChjYWxsYmFjaykgPT0gImZ1bmN0aW9uIikgeyAvLyBpdCdzIGEgZnVuY3Rpb24KICAgICAgaWYgKCEo");
    sb.append("IkBlIiBpbiBzdWIpKSB7IC8vIGxldCdzIGVuc3VyZSB0aGVyZSBpcyBhbiBldmVudCBsaXN0CiAgICAg");
    sb.append("ICAgc3ViWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCBqdXN0");
    sb.append("IGFkZCBpdAogICAgICAgIHN1YlsiQGUiXS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfQogIH07");
    sb.append("CgogIC8vIGNvbnZlcnQgdGhlIHRyZWUgdG8gYSBkZWx0YTsgdGhpcyB0cmVlIGlzIGFzc3VtZWQgdG8g");
    sb.append("aGF2ZSBiZWVuIG1lcmdlZCBhbHJlYWR5CiAgdmFyIG1ha2VfZGVsdGEgPSBmdW5jdGlvbiAoc3QpIHsK");
    sb.append("ICAgIHZhciBkZWx0YSA9IHt9OyAvLyB0aGUgZGVsdGEgdG8gY29uc3RydWN0CiAgICBmb3IgKHZhciBr");
    sb.append("IGluIHN0KSB7IC8vIGZvciBlYWNoIGtleSB3aXRoaW4gdGhlIG9iamVjdAogICAgICBpZiAoa1swXSA9");
    sb.append("PSAiIyIgfHwgayA9PSAiQG8iIHx8IGsgPT0gIl9fa2V5IikgY29udGludWU7IC8vIHNraXAgdGhlc2UK");
    sb.append("ICAgICAgdmFyIHYgPSBzdFtrXTsKICAgICAgaWYgKCgiIyIgKyBrKSBpbiBzdCkgeyAvLyB0aGUgcmVz");
    sb.append("dWx0IGlzIGFuIGFycmF5CiAgICAgICAgdmFyIHB2ID0gc3RbJyMnICsga107CiAgICAgICAgdmFyIGQg");
    sb.append("PSB7fTsKICAgICAgICBpZiAoIkBvIiBpbiBwdikgeyAvLyBhbmQgd2UgaGF2ZSBhIHNwZWNpZmljIG9y");
    sb.append("ZGVyaW5nIHRvIG1lbW9pemUKICAgICAgICAgIHZhciBvID0gW107CiAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsgLy8gY29weSB0aGUgZWxlbWVudHMgZnJvbSB0aGUgYXJy");
    sb.append("YXkKICAgICAgICAgICAgdmFyIHZqID0gdltqXTsKICAgICAgICAgICAgaWYgKHZqKSB7CiAgICAgICAg");
    sb.append("ICAgICAgZFt2ai5fX2tleV0gPSBtYWtlX2RlbHRhKHZqKTsgLy8gdXNpbmcgdGhlIF9fa2V5IGVtYmVk");
    sb.append("ZGVkIGluIHRoZSBvYmplY3QKICAgICAgICAgICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRbIkBvIl0gPSBvOwogICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZTsgcmVjb3JkIHRoZSBzaXplIGFzIHdlIHJlY3Vyc2UKICAgICAgICAgIGZvciAodmFy");
    sb.append("IGogPSAwOyBqIDwgdi5sZW5ndGg7IGorKykgewogICAgICAgICAgICBkWyIiICsgal0gPSBtYWtlX2Rl");
    sb.append("bHRhKHB2W2pdKTsKICAgICAgICAgIH0KICAgICAgICAgIGRbIkBzIl0gPSB2Lmxlbmd0aDsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgZGVsdGFba10gPSBkOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiAodikgPT0gIm9i");
    sb.append("amVjdCIpIHsgLy8gaXQncyBqdXN0IGFuIG9iamVjdCwgc28gcmVjdXJzZSBkaXJlY3RseQogICAgICAg");
    sb.append("IGRlbHRhW2tdID0gbWFrZV9kZWx0YSh2KTsKICAgICAgfSBlbHNlIHsgLy8gZmluYWxseSwgaXQgaXMg");
    sb.append("YSB2YWx1ZSBzbyBqdXN0IHNldCBpdAogICAgICAgIGRlbHRhW2tdID0gdjsKICAgICAgfQogICAgfQog");
    sb.append("ICAgcmV0dXJuIGRlbHRhOwogIH07CgogIHZhciBtYWtlX29wdGltYWxfZGVsdGEgPSBmdW5jdGlvbihz");
    sb.append("dCwgc3VicykgewogICAgdmFyIGZpbHRlciA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzdWJz");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgIHZhciBzID0gc3Vic1trXTsKICAgICAgaWYgKHR5cGVvZihzKSA9");
    sb.append("PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgLy8gZmFsbGJhY2sgd2hlbiB0aGUgaGlnaCBsZXZlbCBpcyBh");
    sb.append("IGZ1bmN0aW9uICh3ZSBuZWVkIGl0IGFsbCEpCiAgICAgICAgcmV0dXJuIG1ha2VfZGVsdGEoc3QpOwog");
    sb.append("ICAgICB9IGVsc2UgaWYgKHR5cGVvZihzKSA9PSAib2JqZWN0IikgewogICAgICAgIGZvciAodmFyIGog");
    sb.append("aW4gcykgewogICAgICAgICAgZmlsdGVyW2pdID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0K");
    sb.append("ICAgIHZhciBuZXdfc3QgPSB7fTsgLy8gdGhlIGRlbHRhIHRvIGNvbnN0cnVjdAogICAgZm9yICh2YXIg");
    sb.append("ayBpbiBzdCkgeyAvLyBmb3IgZWFjaCBrZXkgd2l0aGluIHRoZSBvYmplY3QKICAgICAgaWYgKGtbMF0g");
    sb.append("PT0gIiMiIHx8IGsgPT0gIkBvIiB8fCBrID09ICJfX2tleSIpIGNvbnRpbnVlOyAvLyBza2lwIHRoZXNl");
    sb.append("CiAgICAgIGlmIChrIGluIGZpbHRlcikgewogICAgICAgIG5ld19zdFtrXSA9IHN0W2tdOwogICAgICAg");
    sb.append("IGlmICgoIiMiICsgaykgaW4gc3QpIHsKICAgICAgICAgIG5ld19zdFsiIyIgKyBrXSA9IHN0WyIjIiAr");
    sb.append("IGtdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG1ha2VfZGVsdGEobmV3X3N0KTsK");
    sb.append("ICB9OwoKICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2");
    sb.append("ZW4gc3RydWN0dXJhbCBjYWxsYmFjawogIHRoaXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNr");
    sb.append("KSB7CiAgICB2YXIgc3ViID0ge307CiAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJh");
    sb.append("Y2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0gdGhlIGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAg");
    sb.append("ICB2YXIgUyA9ICIiICsgaWQrKzsgLy8gY3JlYXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAg");
    sb.append("ICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9IHN1YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAg");
    sb.append("IGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20u");
    sb.append("c3ViID0gc3ViOwogICAgICBzbS5hYm9ydGVkID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2Rl");
    sb.append("bGF5LnB1c2goc20pOwogICAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9");
    sb.append("IHRydWU7CiAgICAgICAgZGVsZXRlIGFsbF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBl");
    sb.append("bHNlIHsKICAgICAgdmFyIGRlbHRhID0gbWFrZV9vcHRpbWFsX2RlbHRhKHJvb3QsIFtzdWJdKTsKICAg");
    sb.append("ICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVsdGEsIFtzdWJdLCBldmVudHMsIHRy");
    sb.append("dWUpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFjayBvZiBhbGwgZGF0YSB0");
    sb.append("byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVjdAogICAgICBmaXJlX2V2");
    sb.append("ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyByZXR1cm4gYSBtZXRob2Qg");
    sb.append("dG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlvbnNbU107CiAgICAgIH07");
    sb.append("CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIC8vIHRoaXMgZXhpc3Rz");
    sb.append("IGlmIHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSB0aGUgZ2xvYmFsIGRvbWFpbiBmb3IgdGhlaXIgc2l0");
    sb.append("ZQogICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIik7CiAgICBy");
    sb.append("b290UmVwbGFjZSA9IFtwYXJ0c1swXSwgcGFydHNbMV0sIHBhcnRzWzJdLCAiIl0uam9pbigiLyIpOwog");
    sb.append("ICAgdmFyIG9mZnNldCA9IHBhcnRzWzBdLmxlbmd0aCArIHBhcnRzWzFdLmxlbmd0aCArIHBhcnRzWzJd");
    sb.append("Lmxlbmd0aCArIDI7CiAgICBmaXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHsKICAgICAgcmV0dXJuIHBh");
    sb.append("dGguc3Vic3RyaW5nKG9mZnNldCk7CiAgICB9OwogIH0KCiAgdmFyIGZpeEhyZWYgPSBmdW5jdGlvbiAo");
    sb.append("aHJlZikgewogICAgaWYgKCFocmVmKSB7CiAgICAgIHJldHVybiAiIyI7CiAgICB9CiAgICBpZiAoaHJl");
    sb.append("Zi5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgcmV0dXJuIHJvb3RSZXBsYWNlICsgaHJlZi5zdWJzdHJp");
    sb.append("bmcoMSk7CiAgICB9CiAgICByZXR1cm4gaHJlZjsKICB9OwoKICB2YXIgZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("ID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgIGlmIChuYW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHJl");
    sb.append("dHVybiBjb25uZWN0aW9uc1tuYW1lXTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAg");
    sb.append("ICAgbmFtZTogbmFtZSwKICAgICAgICBwdHI6IG51bGwsCiAgICAgICAgdHJlZTogbmV3IEFkYW1hVHJl");
    sb.append("ZSgpLAogICAgICAgIG91dHN0YW5kaW5nOiB7fSwKICAgICAgICBkZWNpc2lvbnM6IHt9LAogICAgICAg");
    sb.append("IGNob2ljZV9zdWJzOiB7fSwKICAgICAgICByZXNldHM6IHt9LAogICAgICAgIGNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzOiB7fSwKICAgICAgICBzeW5jX2V2ZW50czoge30sCiAgICAgICAgaWQ6IDAsCiAgICAgICAgY29u");
    sb.append("bmVjdGlvbl9zdGF0ZTogZmFsc2UsCiAgICAgICAgY2hvaWNlczoge30sCiAgICAgICAgYm91bmQ6ICIi");
    sb.append("LAogICAgICAgIHZpZXdzdGF0ZV9zZW50OiB0cnVlLAogICAgICAgIHZpZXdzdGF0ZV9jbG9uZTogIiIs");
    sb.append("CiAgICAgICAgaGFzX2ZpbHRlcjogZmFsc2UsCiAgICAgICAgc3luY2VkOiBmYWxzZSwKICAgICAgICBm");
    sb.append("aWx0ZXI6IHt9LAogICAgICAgIHZzc2VxOiAwLAogICAgICAgIGRlYnVnZ2VyOiBmdW5jdGlvbiAoZGVs");
    sb.append("dGEpIHsgfSwKICAgICAgICByYXc6IGNvbm5lY3Rpb24KICAgICAgfTsKICAgICAgb2JqLm51a2UgPSBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX2V2ZW50cyA9IHt9OwogICAgICAgIHRo");
    sb.append("aXMuc3luY19ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLmNob2ljZV9zdWJzID0ge307CiAgICAgIH0u");
    sb.append("YmluZChvYmopOwogICAgICBpZiAoQWRhbWEuRGVidWdnZXIpIHsKICAgICAgICBvYmouZGVidWdnZXIg");
    sb.append("PSBBZGFtYS5EZWJ1Z2dlci5yZWdpc3RlcihvYmopOwogICAgICB9CiAgICAgIG9iai5zeW5jID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHZhciBzeW5jZWQgPSB0aGlzLmNvbm5lY3Rpb25fc3RhdGUgJiYgdGhp");
    sb.append("cy52aWV3c3RhdGVfc2VudDsKICAgICAgICBpZiAodGhpcy5zeW5jZWQgPT0gc3luY2VkKSB7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuc3luY2VkID0gc3luY2VkOwogICAgICAg");
    sb.append("IHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLnN5bmNfZXZlbnRzKSB7CiAg");
    sb.append("ICAgICAgICBpZiAoIShvYmouc3luY19ldmVudHNbc3ViXShzeW5jZWQpKSkgewogICAgICAgICAgICBh");
    sb.append("eGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsg");
    sb.append("ayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5zeW5jX2V2ZW50c1theGVb");
    sb.append("a11dOwogICAgICAgIH0KICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfc3luYyA9");
    sb.append("IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAg");
    sb.append("ICAgICB0aGlzLnN5bmNfZXZlbnRzW3NdID0gY2FsbGJhY2s7CiAgICAgICAgY2FsbGJhY2sodGhpcy5z");
    sb.append("eW5jZWQpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5z");
    sb.append("eW5jX2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH07CiAgICAgIG9iai5zZXRf");
    sb.append("Y29ubmVjdGVkID0gZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbl9zdGF0");
    sb.append("ZSA9PSBjcykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbm5lY3Rp");
    sb.append("b25fc3RhdGUgPSBjczsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGlu");
    sb.append("IG9iai5jb25uZWN0aW9uX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLmNvbm5lY3Rpb25fZXZl");
    sb.append("bnRzW3N1Yl0oY3MpKSkgewogICAgICAgICAgICBheGUucHVzaChzdWIpOwogICAgICAgICAgfQogICAg");
    sb.append("ICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgZGVsZXRlIG9iai5jb25uZWN0aW9uX2V2ZW50c1theGVba11dOwogICAgICAgIH0KICAgICAgICB0");
    sb.append("aGlzLnN5bmMoKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5jb25uZWN0ZWQgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhp");
    sb.append("cy5jb25uZWN0aW9uX2V2ZW50c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuY29u");
    sb.append("bmVjdGlvbl9zdGF0ZSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0");
    sb.append("ZSB0aGlzLmNvbm5lY3Rpb25fZXZlbnRzW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfYW55ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFy");
    sb.append("IHMgPSBjaGFubmVsICsgInwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuZGVjaXNpb25zW3NdID0g");
    sb.append("Y2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlz");
    sb.append("LmRlY2lzaW9uc1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlX3Jlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGRy");
    sb.append("ID0gInJlc2V0fCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5yZXNldHNbZHJdID0gY2FsbGJhY2s7");
    sb.append("CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc2V0c1tk");
    sb.append("cl07CiAgICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNj");
    sb.append("cmliZV9jaG9pY2UgPSBmdW5jdGlvbiAoY2hhbm5lbCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9");
    sb.append("IGNoYW5uZWwgKyAifCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5jaG9pY2Vfc3Vic1tzXSA9IGNh");
    sb.append("bGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5j");
    sb.append("aG9pY2Vfc3Vic1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmoub25jaG9pY2VzID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNob2ljZSkgewogICAgICAgIHZhciBh");
    sb.append("eGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLmNob2ljZV9zdWJzKSB7CiAgICAgICAg");
    sb.append("ICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2hhbm5lbCArICJ8IikpIHsKICAgICAgICAgICAgaWYgKCFvYmou");
    sb.append("Y2hvaWNlX3N1YnNbc3ViXShjaG9pY2UpKSB7CiAgICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgZGVsZXRlIG9iai5jaG9pY2Vfc3Vic1theGVba11d");
    sb.append("OwogICAgICAgIH0KICAgICAgfTsKICAgICAgb2JqLm9uZGVjaWRlID0gZnVuY3Rpb24gKG91dHN0YW5k");
    sb.append("aW5nKSB7CiAgICAgICAgdmFyIGF4ZVJlc2V0ID0gW107CiAgICAgICAgZm9yICh2YXIgZHIgaW4gb2Jq");
    sb.append("LnJlc2V0cykgewogICAgICAgICAgdmFyIHIgPSBvYmoucmVzZXRzW2RyXTsKICAgICAgICAgIGlmICgh");
    sb.append("KHIoKSkpIHsKICAgICAgICAgICAgYXhlUmVzZXQucHVzaChkcik7CiAgICAgICAgICB9CiAgICAgICAg");
    sb.append("fQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlUmVzZXQubGVuZ3RoOyBrKyspIHsKICAgICAg");
    sb.append("ICAgIGRlbGV0ZSBvYmoucmVzZXRzW2F4ZVJlc2V0W2tdXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2");
    sb.append("YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICBvYmoub3V0c3RhbmRpbmdbY2hdID0g");
    sb.append("eyBvcHRpb25zOiBbXSB9OwogICAgICAgIH0KICAgICAgICB2YXIgbiA9IG91dHN0YW5kaW5nLmxlbmd0");
    sb.append("aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIG8gPSBv");
    sb.append("dXRzdGFuZGluZ1trXTsKICAgICAgICAgIG9iai5vdXRzdGFuZGluZ1tvLmNoYW5uZWxdID0gbzsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgZm9yICh2YXIgY2ggaW4gb2JqLm91dHN0YW5kaW5nKSB7CiAgICAgICAgICB2");
    sb.append("YXIgb3V0ID0gb2JqLm91dHN0YW5kaW5nW2NoXTsKICAgICAgICAgIHZhciBheGUgPSBbXTsKICAgICAg");
    sb.append("ICAgIGZvciAodmFyIHN1YiBpbiBvYmouZGVjaXNpb25zKSB7CiAgICAgICAgICAgIGlmIChzdWIuc3Rh");
    sb.append("cnRzV2l0aChjaCArICJ8IikgfHwgc3ViLnN0YXJ0c1dpdGgoIi18IikpIHsKICAgICAgICAgICAgICBp");
    sb.append("ZiAoIW9iai5kZWNpc2lvbnNbc3ViXShvdXQsIGNoKSkgewogICAgICAgICAgICAgICAgYXhlLnB1c2go");
    sb.append("c3ViKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGRlbGV0ZSBvYmou");
    sb.append("ZGVjaXNpb25zW2F4ZVtrXV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25u");
    sb.append("ZWN0aW9uc1tuYW1lXSA9IG9iajsKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICB9OwogIHNlbGYuZ2V0");
    sb.append("Q29ubmVjdGlvbkJ5TmFtZSA9IGdldF9jb25uZWN0aW9uX29iajsKCiAgc2VsZi5tYWtlID0gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgcmV0dXJuIG5ldyBBZGFtYVRyZWUoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJz");
    sb.append("Y3JpYmUgdGhlIGdpdmVuICdzdWInIHRvIGNoYW5nZXMgd2l0aGluIHN0YXRlIGZvciB0aGUgZ2l2ZW4g");
    sb.append("ZmllbGQgbmFtZWQgbmFtZQogIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHN1");
    sb.append("YikgewogICAgdmFyIHNzID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAgICB2YXIgcyA9IHNzW3NzLmN1");
    sb.append("cnJlbnRdOwogICAgaWYgKCJAZSIgaW4gcy5kZWx0YSkgewogICAgICBzLmRlbHRhWyJAZSJdLnB1c2go");
    sb.append("c3ViKTsKICAgIH0gZWxzZSB7CiAgICAgIHMuZGVsdGFbIkBlIl0gPSBbc3ViXTsKICAgIH0KICB9Owog");
    sb.append("IHNlbGYuc3Vic2NyaWJlID0gc3Vic2NyaWJlOwoKICAvLyBIRUxQRVIgfCBjcmVhdGUgZnJlc2ggc3Rh");
    sb.append("dGUKICB2YXIgZnJlc2ggPSBmdW5jdGlvbiAod2hlcmUpIHsKICAgIHJldHVybiB7CiAgICAgIHRyZWU6");
    sb.append("IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgZGVsdGE6IHt9LAogICAgICBwYXJlbnQ6IG51bGwsCiAgICAg");
    sb.append("IHBhdGg6IG51bGwsCiAgICAgIHdoZXJlOiB3aGVyZQogICAgfTsKICB9OwogIHNlbGYuZnJlc2ggPSBm");
    sb.append("cmVzaDsKCiAgLy8gSEVMUEVSOiByZW1vdmUgcG90ZW50aWFsbHkgc2Vuc2l0aXZlIGluZm9ybWF0aW9u");
    sb.append("IGZyb20gYW4gb2JqZWN0CiAgdmFyIHNhZmVfZmlsdGVyID0gZnVuY3Rpb24obykgewogICAgaWYgKCdw");
    sb.append("YXNzd29yZCcgaW4gbykgewogICAgICBkZWxldGUgb1sncGFzc3dvcmQnXTsKICAgIH0KICAgIGlmICgn");
    sb.append("b25lX3RpbWVfcGFzc3dvcmQnIGluIG8pIHsKICAgICAgZGVsZXRlIG9bJ29uZV90aW1lX3Bhc3N3b3Jk");
    sb.append("J107CiAgICB9CiAgICByZXR1cm4gbzsKICB9CgogIC8vIEhFTFBFUiB8IGNyZWF0ZSBhIG5ldyBkZWx0");
    sb.append("YSBjb3B5IGZyb20gdGhlIGdpdmVuIHNwZWNpZmljIHN0YXRlIChpLmUuIGVpdGhlciBkYXRhIG9yIHZp");
    sb.append("ZXcpCiAgdmFyIG5ld19kZWx0YV9jb3B5ID0gZnVuY3Rpb24gKHNzKSB7CiAgICBpZiAoc3MgPT0gbnVs");
    sb.append("bCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBwYXJlbnQgPSBudWxsOwogICAgaWYg");
    sb.append("KHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudCA9IG5ld19kZWx0YV9jb3B5KHNzLnBhcmVu");
    sb.append("dCk7CiAgICB9CiAgICB2YXIgbmV3X2RlbHRhID0ge307CiAgICBpZiAocGFyZW50ICE9IG51bGwpIHsK");
    sb.append("ICAgICAgcGFyZW50LmRlbHRhW3NzLnBhdGhdID0gbmV3X2RlbHRhOwogICAgfQogICAgcmV0dXJuIHsg");
    sb.append("dHJlZTogc3MudHJlZSwgcGFyZW50OiBwYXJlbnQsIGRlbHRhOiBuZXdfZGVsdGEsIHBhdGg6IHNzLnBh");
    sb.append("dGggfTsKICB9OwogIHNlbGYubWFrZURlbHRhQ29weSA9IG5ld19kZWx0YV9jb3B5OwoKICAvLyBIRUxQ");
    sb.append("RVIgfCBjb25zdHJ1Y3QgYSBwYXRoIHRvCiAgdmFyIHBhdGhfdG8gPSBmdW5jdGlvbiAoc3MsIG9iaikg");
    sb.append("ewogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHZhciBwZWVsID0ge307CiAgICAgIHBl");
    sb.append("ZWxbc3MucGF0aF0gPSBvYmo7CiAgICAgIHJldHVybiBwYXRoX3RvKHNzLnBhcmVudCwgcGVlbCk7CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICByZXR1cm4gb2JqOwogICAgfQogIH07CiAgc2VsZi5wYXRoVG8gPSBwYXRo");
    sb.append("X3RvOwoKICAvLyBIRUxQRVIgfCBnZXQgdGhlIHJvb3Qgb2YgdGhlIHNwZWNpZmljIHN0YXRlIChpLmUu");
    sb.append("IGVpdGhlciB0aGUgZGF0YSdzIHJvb3Qgb3IgdGhlIHZpZXcncyByb290KQogIHZhciByb290X29mID0g");
    sb.append("ZnVuY3Rpb24gKHNzKSB7CiAgICB2YXIgeCA9IHNzOwogICAgd2hpbGUgKHgucGFyZW50ICE9IG51bGwp");
    sb.append("IHsKICAgICAgeCA9IHgucGFyZW50OwogICAgfQogICAgcmV0dXJuIHg7CiAgfTsKICBzZWxmLnJvb3RP");
    sb.append("ZiA9IHJvb3Rfb2Y7CgogIC8vIEhFTFBFUiB8IHJlbW92ZSBhbGwgdGhlIGNoaWxkcmVuIGZyb20gdGhl");
    sb.append("IGdpdmVuIERPTSBub2RlCiAgdmFyIG51a2UgPSBmdW5jdGlvbiAocGFyZW50KSB7CiAgICB2YXIgbGFz");
    sb.append("dCA9IHBhcmVudC5sYXN0Q2hpbGQ7CiAgICB3aGlsZSAobGFzdCkgewogICAgICBwYXJlbnQucmVtb3Zl");
    sb.append("Q2hpbGQobGFzdCk7CiAgICAgIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAgfQogIH07CiAgc2Vs");
    sb.append("Zi5udWtlID0gbnVrZTsKCiAgLy8gSEVMUEVSOiBkZWJvdW5jZSB0aGUgZ2l2ZW4gZnVuY3Rpb25hbCB3");
    sb.append("aGVuIHJhcGlkIGZ1bmN0aW9uIHNwcmVhZCBpcyBleHBlY3RlZAogIHZhciBkZWJvdW5jZSA9IGZ1bmN0");
    sb.append("aW9uIChtcywgZm9vKSB7CiAgICB2YXIgc3RhdHVzID0geyBpbmZsaWdodDogZmFsc2UsIHRpbWVvdXQ6");
    sb.append("IG51bGwgfTsKICAgIHN0YXR1cy5pbmZsaWdodCA9IGZhbHNlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgaWYgKCFzdGF0dXMuaW5mbGlnaHQpIHsKICAgICAgICBzdGF0dXMuaW5mbGlnaHQgPSB0");
    sb.append("cnVlOwogICAgICAgIHN0YXR1cy50aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gZmFsc2U7CiAgICAgICAgICBzdGF0dXMudGltZW91");
    sb.append("dCA9IG51bGw7CiAgICAgICAgICBmb28oKTsKICAgICAgICB9LCBtcyAvKiBtcyAqLyk7IC8vIGRlYm91");
    sb.append("bmNlIHRoZSBwYXJhbWV0ZXJzCiAgICAgIH0KICAgIH07CiAgfTsKICBzZWxmLmRlYm91bmNlID0gZGVi");
    sb.append("b3VuY2U7CgogIC8vIEhFTFBFUiB8IHByZXBhcmUgYSBmcmVlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZh");
    sb.append("ciBtYWtlX3Vuc3ViID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgX19kYXRhOiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIH0sIF9fdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogIH07");
    sb.append("CgogIC8vIEhFTFBFUiB8IGF1Z21lbnQgYW4gZXhpc3Rpbmcgb2JqZWN0IHdpdGggdW5zdWJzY3JpYmUg");
    sb.append("ZGF0YQogIHZhciBhZGRfdW5zdWIgPSBmdW5jdGlvbiAob2JqKSB7CiAgICBvYmouX19kYXRhID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgfTsKICAgIG9iai5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwogIH07");
    sb.append("CgogIC8vIEhFTFBFUiB8IGZpcmUgdGhlIHVuc3Vic2NyaWJlIGNhbGxzIHdpdGhpbiBhbiBvYmplY3QK");
    sb.append("ICB2YXIgZmlyZV91bnN1YiA9IGZ1bmN0aW9uICh1bnN1YikgewogICAgdW5zdWIuX19kYXRhKCk7CiAg");
    sb.append("ICB1bnN1Yi5fX3ZpZXcoKTsKICB9OwoKICB2YXIgaXNFbXB0eURlbHRhID0gZnVuY3Rpb24oZGVsdGEp");
    sb.append("IHsKICAgIGlmICh0eXBlb2YoZGVsdGEpID09ICJmdW5jdGlvbiIpIHsKICAgICAgcmV0dXJuIGZhbHNl");
    sb.append("OwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRlbHRhKSkgewogICAgICBmb3IgKHZhciBqID0g");
    sb.append("MDsgaiA8IGRlbHRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKCFpc0VtcHR5RGVsdGEoZGVsdGFb");
    sb.append("al0pKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2Ug");
    sb.append("aWYgKHR5cGVvZihkZWx0YSkgPT0gIm9iamVjdCIpIHsKICAgICAgZm9yICh2YXIgayBpbiBkZWx0YSkg");
    sb.append("ewogICAgICAgIGlmICghaXNFbXB0eURlbHRhKGRlbHRhW2tdKSkgewogICAgICAgICAgcmV0dXJuIGZh");
    sb.append("bHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQoKICAvLyBIRUxQ");
    sb.append("RVIgfCBzdWJzY3JpYmUgdG8gc3RhdGUgYW5kIHBvcHVsYXRlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZh");
    sb.append("ciBzdWJzY3JpYmVfc3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHVuc3ViKSB7CiAgICAvLyAgJiYgIWlz");
    sb.append("RW1wdHlEZWx0YShzdGF0ZS5kYXRhKQogICAgdW5zdWIuX19kYXRhID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("fTsKICAgIHVuc3ViLl9fdmlldyA9IGZ1bmN0aW9uICgpIHsKICAgIH07CgogICAgaWYgKHN0YXRlLmRh");
    sb.append("dGEgIT0gbnVsbCkgewogICAgICB2YXIgZGVsdGEgPSByb290X29mKHN0YXRlLmRhdGEpLmRlbHRhOwog");
    sb.append("ICAgICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YSkpIHsKICAgICAgICB1bnN1Yi5fX2RhdGEgPSBzdGF0");
    sb.append("ZS5kYXRhLnRyZWUuc3Vic2NyaWJlKGRlbHRhKTsKICAgICAgfQogICAgfQogICAgLy8gICYmICFpc0Vt");
    sb.append("cHR5RGVsdGEoc3RhdGUudmlldykKICAgIGlmIChzdGF0ZS52aWV3ICE9IG51bGwpIHsKICAgICAgdmFy");
    sb.append("IGRlbHRhID0gcm9vdF9vZihzdGF0ZS52aWV3KS5kZWx0YTsKICAgICAgaWYgKCFpc0VtcHR5RGVsdGEo");
    sb.append("ZGVsdGEpKSB7CiAgICAgICAgdW5zdWIuX192aWV3ID0gc3RhdGUudmlldy50cmVlLnN1YnNjcmliZShk");
    sb.append("ZWx0YSk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRoZSB2aWV3");
    sb.append("IG9iamVjdAogIHNlbGYucFYgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiB7IHNlcnZpY2U6");
    sb.append("IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6");
    sb.append("ICJ2aWV3IiB9OwogIH07CiAgc2VsZi5uZXdTdGF0ZVZpZXdPZiA9IHNlbGYucFY7CgogIC8vIFJVTlRJ");
    sb.append("TUUgfCBTd2l0Y2ggdG8gdGhlIGRhdGEgb2JqZWN0CiAgc2VsZi5wRCA9IGZ1bmN0aW9uIChzdGF0ZSkg");
    sb.append("ewogICAgcmV0dXJuIHsgc2VydmljZTogc3RhdGUuc2VydmljZSwgZGF0YTogc3RhdGUuZGF0YSwgdmll");
    sb.append("dzogc3RhdGUudmlldywgY3VycmVudDogImRhdGEiIH07CiAgfTsKICBzZWxmLm5ld1N0YXRlRGF0YU9m");
    sb.append("ID0gc2VsZi5wRDsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgcm9vdCBvYmplY3QgLyAoUm9v");
    sb.append("dCkKICBzZWxmLnBSID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICB2YXIgbmV4dCA9IHsgc2VydmljZTog");
    sb.append("c3RhdGUuc2VydmljZSwgZGF0YTogc3RhdGUuZGF0YSwgdmlldzogc3RhdGUudmlldywgY3VycmVudDog");
    sb.append("c3RhdGUuY3VycmVudCB9OwogICAgdmFyIHByaW9yID0gbmV4dFtzdGF0ZS5jdXJyZW50XTsKICAgIHdo");
    sb.append("aWxlIChwcmlvciAhPSBudWxsKSB7CiAgICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSBwcmlvcjsKICAg");
    sb.append("ICAgcHJpb3IgPSBwcmlvci5wYXJlbnQ7CiAgICB9CiAgICByZXR1cm4gbmV4dDsKICB9OwogIHNlbGYu");
    sb.append("bmV3U3RhdGVSb290T2YgPSBzZWxmLnBSOwoKICAvLyBSVU5USU1FIHwgLi4vIChVcCkKICBzZWxmLnBV");
    sb.append("ID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICB2YXIgbmV4dCA9IHsgc2VydmljZTogc3RhdGUuc2Vydmlj");
    sb.append("ZSwgZGF0YTogc3RhdGUuZGF0YSwgdmlldzogc3RhdGUudmlldywgY3VycmVudDogc3RhdGUuY3VycmVu");
    sb.append("dCB9OwogICAgdmFyIHByaW9yID0gbmV4dFtzdGF0ZS5jdXJyZW50XTsKICAgIGlmIChwcmlvci5wYXJl");
    sb.append("bnQgIT0gbnVsbCkgewogICAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gcHJpb3IucGFyZW50OwogICAg");
    sb.append("fQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRlUGFyZW50T2YgPSBzZWxmLnBVOwoK");
    sb.append("ICAvLyBSVU5USU1FIHwgZGl2ZSBvbmUgbGV2ZWwgSW50byBwYXRoMS9wYXRoMi8uLi4uL3BhdGhOCiAg");
    sb.append("c2VsZi5wSSA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgdmFyIHByaW9yID0gc3RhdGVbc3Rh");
    sb.append("dGUuY3VycmVudF07CiAgICBpZiAoIShuYW1lIGluIHByaW9yLmRlbHRhKSkgewogICAgICBwcmlvci5k");
    sb.append("ZWx0YVtuYW1lXSA9IHt9OwogICAgfQogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZp");
    sb.append("Y2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJl");
    sb.append("bnQgfTsKICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSB7CiAgICAgIHRyZWU6IHByaW9yLnRyZWUsCiAg");
    sb.append("ICAgIGRlbHRhOiBwcmlvci5kZWx0YVtuYW1lXSwKICAgICAgcGFyZW50OiBwcmlvciwKICAgICAgcGF0");
    sb.append("aDogbmFtZQogICAgfTsKICAgIGlmIChuZXh0LmN1cnJlbnQgPT0gImRhdGEiKSB7CiAgICAgIG5leHQu");
    sb.append("ZGF0YS5jb25uZWN0aW9uID0gcHJpb3IuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBuZXh0Owog");
    sb.append("IH07CiAgc2VsZi5uZXdTdGF0ZURpdmVJbnRvID0gc2VsZi5wSTsKCiAgLy8gUlVOVElNRSB8IGV4dGVu");
    sb.append("ZCB0aGUgZ2l2ZW4gc3RhdGUgd2l0aCB0aGUgdmlldyBoYXZpbmcgYSBzZXBhcmF0ZSBjaGlsZAogIHNl");
    sb.append("bGYucEVWID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lKSB7CiAgICBpZiAoIShuYW1lIGluIHN0YXRlLnZp");
    sb.append("ZXcuZGVsdGEpKSB7CiAgICAgIHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHJl");
    sb.append("dHVybiB7CiAgICAgIHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHN0YXRlLmRhdGEs");
    sb.append("CiAgICAgIHZpZXc6IHsKICAgICAgICB0cmVlOiBzdGF0ZS52aWV3LnRyZWUsCiAgICAgICAgZGVsdGE6");
    sb.append("IHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0sCiAgICAgICAgcGFyZW50OiBzdGF0ZS52aWV3LAogICAgICAg");
    sb.append("IHBhdGg6IG5hbWUKICAgICAgfSwKICAgICAgY3VycmVudDogc3RhdGUuY3VycmVudAogICAgfTsKICB9");
    sb.append("OwogIHNlbGYubmV3U3RhdGVDcmVhdGVWaWV3Q2hpbGQgPSBzZWxmLnBFVjsKCiAgc2VsZi5wSUUgPSBm");
    sb.append("dW5jdGlvbiAoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcpIHsKICAgIHZhciBuZXh0ID0gc2VsZi5wSShz");
    sb.append("dGF0ZSwgbmFtZSk7CiAgICBpZiAoZXhwYW5kVmlldykgewogICAgICByZXR1cm4gc2VsZi5wRVYobmV4");
    sb.append("dCwgbmFtZSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV4dDsKICAgIH0KICB9OwoKICB2YXIg");
    sb.append("Zm9yayA9IGZ1bmN0aW9uIChwcmlvclN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSB7CiAgICAgIHNlcnZp");
    sb.append("Y2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0YTogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0");
    sb.append("ZS5kYXRhKSwKICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAg");
    sb.append("Y3VycmVudDogcHJpb3JTdGF0ZS5jdXJyZW50CiAgICB9OwogICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVs");
    sb.append("bCkgewogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24gPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlv");
    sb.append("bjsKICAgIH0KICAgIHJldHVybiBzdGF0ZTsKICB9OwoKICAvLyBSVU5USU1FIHwgc3Vic2NyaWJlIGJl");
    sb.append("dHdlZW4gdGhlIHN0YXRlIGFuZCB0aGUgb2JqZWN0LgogIC8vIFdoZW4gdGhlIG1lbWJlciBmaWVsZCB3");
    sb.append("aXRoaW4gc3RhdGUgb2YgbmFtZSBjaGFuZ2VzLCBjb3B5IHRoYXQgdmFsdWUgaW50byB0aGUgb2JqIGFu");
    sb.append("ZCBydW4gcmVjb21wdXRlKCkKICBzZWxmLlkgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSwgcmVj");
    sb.append("b21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIG9ialtuYW1lXSA9");
    sb.append("IHZhbHVlOwogICAgICByZWNvbXB1dGUoKTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUs");
    sb.append("IHN1Yik7CiAgfTsKCiAgc2VsZi5ZMiA9IGZ1bmN0aW9uIChzdGF0ZSwgciwga2V5LCBuYW1lLCByZWNv");
    sb.append("bXB1dGUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHIu");
    sb.append("X1trZXldOwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKG9iaik7CiAgICAg");
    sb.append("IHJldHVybiB0cnVlOwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoK");
    sb.append("ICAvLyBSVU5USU1FOiBidWlsZCBhbiByeG9iagogIHNlbGYuUlggPSBmdW5jdGlvbiAodmFycykgewog");
    sb.append("ICAgdmFyIG8gPSB7fTsKICAgIG8uXyA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB2YXJzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgIG8uX1t2YXJzW2tdXSA9IHt9OwogICAgfQogICAgby5fXyA9IGZ1bmN0");
    sb.append("aW9uKCkge307CiAgICByZXR1cm4gbzsKICB9OwoKICAvLyBSVU5USU1FIHwgSnVzdCBzdWJzY3JpYmVl");
    sb.append("IHZhbHVlIHRvIHRoZSBvYmplY3QgZmllbGQgb2YgbmFtZSAobm8tcmVjb21wdXRlKQogIHNlbGYuWVMg");
    sb.append("PSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1");
    sb.append("ZSkgewogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAg");
    sb.append("c3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCAiVGV4dCIKICBz");
    sb.append("ZWxmLlQgPSBmdW5jdGlvbiAodHgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0");
    sb.append("eCk7CiAgfTsKCiAgLy8gY29udmVydCBhIHZhbHVlIGludG8gYSBib29sZWFuCiAgc2VsZi5CID0gZnVu");
    sb.append("Y3Rpb24odmFsKSB7CiAgICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fQogICAgcmV0dXJuIHZhbCA9PSAidHJ1ZSI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx2aWV3LXdyaXRl");
    sb.append("IG5hbWU9IiIgdmFsdWU9IiI+CiAgc2VsZi5WVyA9IGZ1bmN0aW9uKHN0YXRlLCBuYW1lLCByeE9iaikg");
    sb.append("ewogICAgcnhPYmouX18gPSBkZWJvdW5jZSg1MCwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB7");
    sb.append("fTsKICAgICAgdmFyIHZhbHVlID0gcnhPYmoudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9");
    sb.append("PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3Rv");
    sb.append("KHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRl");
    sb.append("bHRhKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uPgogIHNlbGYu");
    sb.append("TCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRl");
    sb.append("eHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZG9tLm5vZGVW");
    sb.append("YWx1ZSA9IHZhbHVlOwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJl");
    sb.append("dHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIk");
    sb.append("dHJhbnNmb3JtIiAvPgogIHNlbGYuTFQgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSkg");
    sb.append("ewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBm");
    sb.append("dW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICBkb20ubm9k");
    sb.append("ZVZhbHVlID0gdHJhbnNmb3JtKHZhbHVlKTsKICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0");
    sb.append("ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAg");
    sb.append("cGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAvPgogIHNlbGYuTFRkVCA9IGZ1bmN0aW9uIChz");
    sb.append("dGF0ZSwgbmFtZSwgdHJhbnNmb3JtLCBmcmVxKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRl");
    sb.append("VGV4dE5vZGUoIiIpOwogICAgLy8gY3JlYXRlIHRoZSBuZXh1cyBvYmplY3QKICAgIHZhciBvYmogPSB7");
    sb.append("fTsKICAgIG9iai5mcmVxID0gZnJlcTsKICAgIG9iai52YWx1ZSA9ICIiOwoKICAgIC8vIHVwZGF0ZSB3");
    sb.append("aWxsIGV4ZWN1dGUgdGhlIHRyYW5zZm9ybSBvbiB0aGUgdmFsdWUKICAgIG9iai51cGRhdGUgPSBmdW5j");
    sb.append("dGlvbigpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh0aGlzLnZhbHVlKTsKICAgIH0u");
    sb.append("YmluZChvYmopOwoKICAgIC8vIHN1YnNjcmlwdGlvbiB3aWxsIHN5bmMgdGhlIHZhbHVlCiAgICB2YXIg");
    sb.append("c3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAg");
    sb.append("dGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIH0KICAgIH0uYmlu");
    sb.append("ZChvYmopOwoKICAgIC8vIHJlZnJlc2ggd2lsbCByZS1leGVjdXRlIHRoZSB1cGRhdGUgKGFuZCB0aHVz");
    sb.append("IHRoZSB0cmFuc2Zvcm0pCiAgICBvYmoucmVmcmVzaCA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVw");
    sb.append("ZGF0ZSgpOwogICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7IC8vIHdpbGwgcnVu");
    sb.append("IHNvIGxvbmcgYXMgdGhlIERPTSBjb250YWlucyB0aGUgbm9kZSB3ZSBtYW5pcHVsYXRlZAogICAgICAg");
    sb.append("IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucmVmcmVzaCwgdGhpcy5mcmVxKTsKICAgICAgfQogICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAvLyBraWNrIG9mZiB0aGUgYXV0byB0cmFuc2Zvcm0KICAgIHdpbmRvdy5zZXRU");
    sb.append("aW1lb3V0KG9iai5yZWZyZXNoLCBmcmVxKTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsK");
    sb.append("ICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWc+CiAgc2VsZi5FID0gZnVuY3Rp");
    sb.append("b24gKHRhZywgbnMpIHsKICAgIGlmIChucyA9PSB1bmRlZmluZWQgfHwgbnMgPT0gbnVsbCkgewogICAg");
    sb.append("ICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOwogICAgfSBlbHNlIHsKICAgICAgdmFy");
    sb.append("IHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTsKICAgICAgcmVzdWx0LnNl");
    sb.append("dEF0dHJpYnV0ZSgieG1sbnMiLCBucyk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IDxwaWNrIG5hbWU9Li4uPgogIHNlbGYuUCA9IGZ1bmN0aW9uIChwYXJlbnQsIHBy");
    sb.append("aW9yU3RhdGUsIHJ4T2JqLCBjaGlsZE1ha2VyQ29ubmVjdGVkLCBjaGlsZE1ha2VyRGlzY29ubmVjdGVk");
    sb.append("KSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeE9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4T2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQog");
    sb.append("ICAgICBpZiAodGhpcy5uYW1lID09IHJ4T2JqLm5hbWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0K");
    sb.append("ICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4T2JqLm5hbWUpOwogICAgICB0aGlzLm5h");
    sb.append("bWUgPSByeE9iai5uYW1lOwogICAgICBjby5jb25uZWN0ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAgICAg");
    sb.append("bnVrZShwYXJlbnQpOwogICAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICAgIHZhciBzdGF0ZSA9");
    sb.append("IHsKICAgICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICAgIGRhdGE6IHsg");
    sb.append("Y29ubmVjdGlvbjogY28sIHRyZWU6IGNvLnRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRo");
    sb.append("OiBudWxsIH0sCiAgICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAog");
    sb.append("ICAgICAgICAgY3VycmVudDogImRhdGEiCiAgICAgICAgfTsKICAgICAgICBpZiAoY3MpIHsKICAgICAg");
    sb.append("ICAgIGNoaWxkTWFrZXJDb25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICAgIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfQogICAg");
    sb.append("ICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAgIC8vIFRPRE86IHJldHVybiBm");
    sb.append("YWxzZSB0byB1bnN1YgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0uYmluZCh7IG5h");
    sb.append("bWU6ICIiIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGVtcGxhdGUgbmFtZT0iLi4uIj4KICBzZWxm");
    sb.append("LlRQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgdGVtcGxhdGVzW25hbWVdID0gZm9vOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnRlbXBsYXRlPSRuYW1lPgogIHNlbGYuVVQgPSBmdW5jdGlv");
    sb.append("biAocGFyZW50LCBzdGF0ZSwgbmFtZSwgY2hpbGRfbWFrZXIpIHsKICAgIHZhciBmb28gPSB0ZW1wbGF0");
    sb.append("ZXNbbmFtZV07CiAgICBpZiAodHlwZW9mKGZvbykgPT0gImZ1bmN0aW9uIikgewogICAgICBmb28ocGFy");
    sb.append("ZW50LCBzdGF0ZSwgY2hpbGRfbWFrZXIpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcigi");
    sb.append("ZmFpbGVkIHRvIGZpbmQgdGVtcGxhdGU6ICIgKyBuYW1lKTsKICAgIH0KICB9OwoKICAvLyBSVU5USU1F");
    sb.append("IHwgPHRhZyByeDpzd2l0Y2g9cGF0aCAuLj4KICBzZWxmLlNXID0gZnVuY3Rpb24gKHBhcmVudCwgcHJp");
    sb.append("b3JTdGF0ZSwgbmFtZSwgY2hpbGRyZW5NYWtlcikgewogICAgdmFyIHN3c3QgPSB7IHByaW9yOiBudWxs");
    sb.append("IH07CiAgICBhZGRfdW5zdWIoc3dzdCk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAg");
    sb.append("ICAgIGlmICh2YWx1ZSA9PSB0aGlzLnByaW9yKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAg");
    sb.append("IHRoaXMucHJpb3IgPSB2YWx1ZTsKICAgICAgZmlyZV91bnN1Yih0aGlzKTsKICAgICAgbnVrZShwYXJl");
    sb.append("bnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBjaGlsZHJlbk1ha2Vy");
    sb.append("KHBhcmVudCwgc3RhdGUsICIiICsgdmFsdWUpOwogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHRo");
    sb.append("aXMpOwoKICAgIH0uYmluZChzd3N0KTsKICAgIHN1YnNjcmliZShwcmlvclN0YXRlLCBuYW1lLCBzdWIp");
    sb.append("OwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4Oml0ZXJhdGU9cGF0aCAuLi4+CiAgc2VsZi5JVCA9");
    sb.append("IGZ1bmN0aW9uIChwYXJlbnREb20sIHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBtYWtlcikgewogICAg");
    sb.append("dmFyIGl0X3N0YXRlID0gc2VsZi5wSUUoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcpOwogICAgdmFyIGRv");
    sb.append("bUJ5S2V5ID0ge307CiAgICB2YXIgdmlld1VuU3ViQnlLZXkgPSB7fTsKICAgIHZhciBraWxsID0gZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsKICAgICAgICBm");
    sb.append("aXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAgICAgIGRlbGV0ZSB2aWV3VW5TdWJCeUtl");
    sb.append("eVtrZXldOwogICAgICB9CiAgICAgIGZvciAodmFyIGtleSBpbiBkb21CeUtleSkgewogICAgICAgIGRl");
    sb.append("bGV0ZSBkb21CeUtleVtrZXldOwogICAgICB9CiAgICB9OwoKICAgIHZhciBzdWIgPSB7CiAgICAgICIr");
    sb.append("IjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciBuZXdfc3RhdGUgPSBmb3JrKHNlbGYucElFKGl0");
    sb.append("X3N0YXRlLCBrZXksIGV4cGFuZFZpZXcpKTsKICAgICAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7");
    sb.append("CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKG5ld19zdGF0ZSk7CiAgICAgICAgZG9tQnlLZXlba2V5XSA9");
    sb.append("IGRvbTsKICAgICAgICB2aWV3VW5TdWJCeUtleVtrZXldID0gdW5zdWI7CiAgICAgICAgcGFyZW50RG9t");
    sb.append("LmFwcGVuZChkb20pOwogICAgICAgIHZhciBpdGVtX2RlbHRhID0gbmV3X3N0YXRlLmRhdGEuZGVsdGE7");
    sb.append("CiAgICAgICAgbmV3X3N0YXRlLmRhdGEuZGVsdGEgPSB7fTsKICAgICAgICBzdWJzY3JpYmVfc3RhdGUo");
    sb.append("bmV3X3N0YXRlLCB1bnN1Yik7CiAgICAgICAgcmV0dXJuIGl0ZW1fZGVsdGE7CiAgICAgIH0sCiAgICAg");
    sb.append("ICItIjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChrZXkgaW4gZG9tQnlLZXkpIHsKICAgICAg");
    sb.append("ICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb21CeUtleVtrZXldKTsKICAgICAgICAgIGRlbGV0ZSBk");
    sb.append("b21CeUtleVtrZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa2V5IGluIHZpZXdVblN1YkJ5S2V5KSB7");
    sb.append("CiAgICAgICAgICBmaXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAgICAgICAgZGVsZXRl");
    sb.append("IHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgICAgfQogICAgICB9LAogICAgICAifiI6IGZ1bmN0aW9u");
    sb.append("IChvcmQpIHsKICAgICAgICBudWtlKHBhcmVudERvbSk7CiAgICAgICAgaWYgKG9yZCA9PSBudWxsKSB7");
    sb.append("CiAgICAgICAgICBraWxsKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGZvciAo");
    sb.append("dmFyIGsgPSAwOyBrIDwgb3JkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBwYXJlbnREb20uYXBwZW5k");
    sb.append("KGRvbUJ5S2V5W29yZFtrXV0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShz");
    sb.append("dGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICBzZWxmLlJQID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3Rh");
    sb.append("dGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShz");
    sb.append("dGF0ZSwgIiQiICsgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVl");
    sb.append("KSB7CiAgICAgIHZhciBuID0gMDsKICAgICAgdHJ5IHsKICAgICAgICBuID0gdHlwZW9mICh2YWx1ZSkg");
    sb.append("PT0gJ251bWJlcicgPyB2YWx1ZSA6IHBhcnNlSW50KHZhbHVlKTsKICAgICAgfSBjYXRjaCAoZmFpbGVk");
    sb.append("UGFyc2luZ04pIHsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy5hdCA8IG4gLSAxKSB7CiAgICAgICAg");
    sb.append("dGhpcy5hdCArKzsKICAgICAgICB0aGlzLnRyYWNrICsrOwogICAgICAgIHZhciBuZXdfc3RhdGUgPSBm");
    sb.append("b3JrKHNlbGYucElFKGl0X3N0YXRlLCB0aGlzLnRyYWNrICsgIiIsIGV4cGFuZFZpZXcpKTsKICAgICAg");
    sb.append("ICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKHNlbGYucEQo");
    sb.append("bmV3X3N0YXRlKSk7CiAgICAgICAgdGhpcy5pdGVtc1t0aGlzLmF0XSA9IHt1bnN1Yjp1bnN1YiwgZG9t");
    sb.append("OmRvbX07CiAgICAgICAgcGFyZW50RG9tLmFwcGVuZChkb20pOwogICAgICAgIGlmIChleHBhbmRWaWV3");
    sb.append("KSB7CiAgICAgICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKHBhdGhfdG8obmV3X3N0YXRlLnZpZXcs");
    sb.append("IHsiJGluZGV4IjogdGhpcy50cmFja30pKTsKICAgICAgICB9CiAgICAgICAgc3Vic2NyaWJlX3N0YXRl");
    sb.append("KG5ld19zdGF0ZSwgdW5zdWIpOwogICAgICB9CiAgICAgIHdoaWxlICh0aGlzLmF0ID49IG4gJiYgdGhp");
    sb.append("cy5hdCA+PSAwKSB7CiAgICAgICAgZmlyZV91bnN1Yih0aGlzLml0ZW1zW3RoaXMuYXRdLnVuc3ViKTsK");
    sb.append("ICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQodGhpcy5pdGVtc1t0aGlzLmF0XS5kb20pOwogICAg");
    sb.append("ICAgIHRoaXMuaXRlbXNbdGhpcy5hdF0gPSBudWxsOwogICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zW3Ro");
    sb.append("aXMuYXRdOwogICAgICAgIHRoaXMuYXQtLTsKICAgICAgfQogICAgfS5iaW5kKHtpdGVtczpbXSwgYXQ6");
    sb.append("LTEsIHRyYWNrOjB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9CiAgdmFyIGZp");
    sb.append("bmQgPSBmdW5jdGlvbiAoc3RhdGUsIGNoYW5uZWwsIGtleSwgdmFsdWUpIHsKICAgIGlmIChjaGFubmVs");
    sb.append("IGluIHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZykgewogICAgICB2YXIgYXJyID0g");
    sb.append("c3RhdGVbImRhdGEiXS5jb25uZWN0aW9uLm91dHN0YW5kaW5nW2NoYW5uZWxdLm9wdGlvbnM7CiAgICAg");
    sb.append("IGZvciAodmFyIGsgPSAwOyBrIDwgYXJyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFyIHMgPSBhcnJb");
    sb.append("a107CiAgICAgICAgaWYgKGtleSBpbiBzICYmIHNba2V5XSA9PSB2YWx1ZSkgewogICAgICAgICAgcmV0");
    sb.append("dXJuIHM7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKCiAgdmFyIGN1c3RvbXMgPSB7fTsKCiAgc2VsZi5QUkNV");
    sb.append("QUMgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICBjdXN0b21zW25hbWVdID0gZm9vOwogIH07Cgog");
    sb.append("IHNlbGYuZXhDQyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBjdXN0b21Db21tYW5kTmFtZSkg");
    sb.append("ewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGN1");
    sb.append("c3RvbUNvbW1hbmROYW1lIGluIGN1c3RvbXMpIHsKICAgICAgICBjdXN0b21zW2N1c3RvbUNvbW1hbmRO");
    sb.append("YW1lXShzdGF0ZSwgZG9tKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gY3VzdG9tIGV2ZW50IG9u");
    sb.append("IGZvcm1zOyByeDpzdWNjZXNzPSIuLi4iCiAgdmFyIGZpcmVfc3VjY2VzcyA9IGZ1bmN0aW9uIChkb20p");
    sb.append("IHsKICAgIGRvbS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgic3VjY2VzcyIpKTsKICB9OwogIHNlbGYu");
    sb.append("ZmlyZV9zdWNjZXNzID0gZmlyZV9zdWNjZXNzOwoKICAvLyBjdXN0b20gZXZlbnQgb24gZm9ybXM7IHJ4");
    sb.append("OmZhaWxlZD0iLi4uIgogIHZhciBmaXJlX2ZhaWx1cmUgPSBmdW5jdGlvbiAoZG9tLCBtc2cpIHsKICAg");
    sb.append("IHZhciBlID0gbmV3IEV2ZW50KCJmYWlsdXJlIik7CiAgICBlLm1lc3NhZ2UgPSBtc2c7CiAgICBjb25z");
    sb.append("b2xlLmxvZygiRkFJTFVSRToiICsgbXNnKTsKICAgIGRvbS5kaXNwYXRjaEV2ZW50KGUpOwogIH07CiAg");
    sb.append("c2VsZi5maXJlX2ZhaWx1cmUgPSBmaXJlX2ZhaWx1cmU7CgogIHNlbGYuYUNDID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBjdXN0b21Db21tYW5kTmFtZSkgewogICAgdmFyIHNpZ25hbCA9IGZ1bmN0aW9uICht");
    sb.append("c2cpIHsKICAgICAgaWYgKHNpZ25hbCA9PSBudWxsKSB7CiAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0p");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCBtc2cpOwogICAgICB9CiAg");
    sb.append("ICB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgaWYgKGN1c3RvbUNv");
    sb.append("bW1hbmROYW1lIGluIGN1c3RvbXMpIHsKICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAg");
    sb.append("ICB2YXIgb2JqID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICAgIGN1c3RvbXNbY3VzdG9tQ29t");
    sb.append("bWFuZE5hbWVdKG9iaiwgc3RhdGUsIHNpZ25hbCwgc2VsZik7CiAgICAgICAgZmlyZV9zdWNjZXNzKGZv");
    sb.append("cm0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGZp");
    sb.append("bmQgJyIgKyBjdXN0b21Db21tYW5kTmFtZSArICInIik7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgdmFy");
    sb.append("IG1ha2VfY2hvaWNlX2FycmF5ID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsKSB7CiAgICB2YXIgY2hv");
    sb.append("aWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgaWYgKCEoY2hhbm5lbCBpbiBj");
    sb.append("aG9pY2VzKSkgewogICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAgICB9CiAgICB2YXIgY2hvaWNl");
    sb.append("ID0gY2hvaWNlc1tjaGFubmVsXTsKICAgIHZhciBhcnIgPSBbXTsKICAgIGZvciAodmFyIGlkIGluIGNo");
    sb.append("b2ljZSkgewogICAgICBhcnIucHVzaChjaG9pY2VbaWRdKTsKICAgIH0KICAgIHJldHVybiBhcnI7CiAg");
    sb.append("fQoKICBzZWxmLmV4RklOID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIGNoYW5uZWwpIHsKICAg");
    sb.append("IHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhcnIgPSBt");
    sb.append("YWtlX2Nob2ljZV9hcnJheShzdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciBjbGVhciA9IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgICBkZWxldGUgc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXNbY2hhbm5lbF07");
    sb.append("CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNlcyhjaGFubmVsLCB7fSk7CiAgICAg");
    sb.append("IH07CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCBhcnIsIHsKICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjbGVhcigpOwogICAgICAg");
    sb.append("ICAgY29uc29sZS5sb2coImZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9LAogICAgICAgIHN1Y2Nl");
    sb.append("c3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBjbGVhcigpOwogICAgICAgICAgY29uc29s");
    sb.append("ZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7");
    sb.append("CiAgfTsKCiAgc2VsZi5GSU4gPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBjaGFubmVsLCBz");
    sb.append("aG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgZmluYWxpemUg");
    sb.append("PSB7CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxzZQogICAgfTsKICAgIGFkZF91");
    sb.append("bnN1YihmaW5hbGl6ZSk7CgogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZp");
    sb.append("cmVfdW5zdWIoZmluYWxpemUpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZv");
    sb.append("cmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRCZSkgewogICAgICAgIG1ha2Vy");
    sb.append("VHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZhbHNlKHBhcmVu");
    sb.append("dCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgZmluYWxpemUpOwog");
    sb.append("ICAgfTsKCiAgICBmaW5hbGl6ZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvdXQgPSBw");
    sb.append("cmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXTsKICAgICAgaWYgKCEo");
    sb.append("b3V0KSkgcmV0dXJuOwogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2VfYXJyYXkocHJpb3JTdGF0ZSwg");
    sb.append("Y2hhbm5lbCk7CiAgICAgIHZhciBldmFsID0gKCdtaW4nIGluIG91dCAmJiAnbWF4JyBpbiBvdXQpID8g");
    sb.append("KG91dC5taW4gPD0gYXJyLmxlbmd0aCAmJiBhcnIubGVuZ3RoIDw9IG91dC5tYXgpIDogdHJ1ZTsKICAg");
    sb.append("ICAgaWYgKGZpbmFsaXplLmV2YWwgIT0gZXZhbCkgewogICAgICAgIGZpbmFsaXplLmV2YWwgPSBldmFs");
    sb.append("OwogICAgICAgIGNoYW5nZShmaW5hbGl6ZS5ldmFsKTsKICAgICAgfQogICAgfTsKCiAgICBwcmlvclN0");
    sb.append("YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNoYW5uZWwsIGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgZmluYWxpemUudXBkYXRlKCk7CiAgICAgIC8vIFRPRE86IHJldHVybiB3aGV0aGVyIG9yIG5v");
    sb.append("dCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9OwoKICB2");
    sb.append("YXIgcmVnX2V2ZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIHJ1bm5hYmxlKSB7CiAgICAv");
    sb.append("LyBUT0RPOiBjb25uZWN0ZWQvZGlzY29ubmVjdGVkIGFzIHNwZWNpYWwgZXZlbnRzIHRvIGNvbnNpZGVy");
    sb.append("CiAgICBpZiAodHlwZSA9PSAibG9hZCIpIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQocnVubmFibGUs");
    sb.append("IDEpOwogICAgfSBlbHNlIGlmICh0eXBlLnN0YXJ0c1dpdGgoImRlbGF5OiIpKSB7CiAgICAgIC8vIGRl");
    sb.append("bGF5IHdpbGwgcnVuIGFmdGVyICRkZWxheVRpbWVNUyBJRiB0aGUgZG9tIGVsZW1lbnQgaXMgc3RpbGwg");
    sb.append("dmlzaWJsZSB0byB0aGUgZG9jdW1lbnQKICAgICAgdmFyIGRlbGF5VGltZU1TID0gcGFyc2VJbnQodHlw");
    sb.append("ZS5zdWJzdHJpbmcoNikpOwogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7CiAgICAgICAgICBydW5uYWJsZSgpOwog");
    sb.append("ICAgICAgIH0KICAgICAgfSwgZGVsYXlUaW1lTVMpOwogICAgfSBlbHNlIHsKICAgICAgZG9tLmFkZEV2");
    sb.append("ZW50TGlzdGVuZXIodHlwZSwgcnVubmFibGUpOwogICAgfQogIH0KCiAgdmFyIGZvcm1fb2YgPSBmdW5j");
    sb.append("dGlvbihkb20pIHsKICAgIHZhciBuZXh0ID0gZG9tOwogICAgd2hpbGUgKG5leHQgIT0gbnVsbCkgewog");
    sb.append("ICAgICBpZiAobmV4dC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIkZPUk0iKSB7CiAgICAgICAgcmV0");
    sb.append("dXJuIG5leHQ7CiAgICAgIH0KICAgICAgbmV4dCA9IG5leHQucGFyZW50RWxlbWVudDsKICAgIH0KICAg");
    sb.append("IHJldHVybiBudWxsOwogIH0KCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHNldDpu");
    sb.append("YW1lPXZhbHVlIC4uLiI+CiAgc2VsZi5iUyA9IGZ1bmN0aW9uIChkb20sIHN0YXRlLCBuYW1lLCB2YWx1");
    sb.append("ZSkgewogICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJmdW5jdGlvbiIpIHsKICAgICAgcmV0dXJuIHsK");
    sb.append("ICAgICAgICBydW46IGZ1bmN0aW9uKCkge30sIC8vIGRvIG5vdGhpbmcsIHRoaXMgaXMgYSBzaW1wbGUg");
    sb.append("bWVyZ2UKICAgICAgICBtZXJnZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgb2JqID0ge307CiAg");
    sb.append("ICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZSgpOwogICAgICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhz");
    sb.append("dGF0ZS52aWV3LCBvYmopOwogICAgICAgICAgcmV0dXJuIGRlbHRhOwogICAgICAgIH0KICAgICAgfQog");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAg");
    sb.append("ICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICByZXR1cm4gewogICAg");
    sb.append("ICAgIHJ1bjogZnVuY3Rpb24oKSB7fSwgLy8gZG8gbm90aGluZywgdGhpcyBpcyBhIHNpbXBsZSBtZXJn");
    sb.append("ZQogICAgICAgIG1lcmdlOiBmdW5jdGlvbigpIHsgcmV0dXJuIGRlbHRhOyB9CiAgICAgIH0KICAgIH0K");
    sb.append("ICB9OwoKICB2YXIgbWVyZ2VfZGVsdGEgPSBmdW5jdGlvbihhLCBiKSB7CiAgICBpZiAodHlwZW9mKGEp");
    sb.append("ID09ICJvYmplY3QiICYmIHR5cGVvZihiKSA9PSAib2JqZWN0IikgewogICAgICB2YXIgcmVzdWx0ID0g");
    sb.append("e307CiAgICAgIGZvciAodmFyIGsgaW4gYSkgewogICAgICAgIGlmIChrIGluIGIpIHsKICAgICAgICAg");
    sb.append("IHJlc3VsdFtrXSA9IG1lcmdlX2RlbHRhKGFba10sIGJba10pOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICByZXN1bHRba10gPSBhW2tdOwogICAgICAgIH0KICAgICAgfQogICAgICBmb3IodmFyIGsgaW4g");
    sb.append("YikgewogICAgICAgIGlmICghKGsgaW4gYSkpIHsKICAgICAgICAgIHJlc3VsdFtrXSA9IGJba107CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gYTsKICB9");
    sb.append("OwogIHNlbGYuTUQgPSBtZXJnZV9kZWx0YTsKCiAgc2VsZi5vbkIgPSBmdW5jdGlvbihkb20sIHR5cGUs");
    sb.append("IHN0YXRlLCBhcnIpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbigpIHsK");
    sb.append("ICAgICAgdmFyIHN1bSA9IHt9OwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsr");
    sb.append("KykgewogICAgICAgIHZhciBjbWQgPSBhcnJba107CiAgICAgICAgY21kLnJ1bigpOwogICAgICAgIHZh");
    sb.append("ciB0b01lcmdlID0gY21kLm1lcmdlKCkKICAgICAgICBzdW0gPSBtZXJnZV9kZWx0YShzdW0sIHRvTWVy");
    sb.append("Z2UpOwogICAgICB9CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoc3VtKTsKICAgIH0pOwogIH07");
    sb.append("CgogIC8vIGNob29zZQogIHNlbGYuZXhDSCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1l");
    sb.append("LCBjaGFubmVsLCBrZXkpIHsKICAgIHZhciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICByZWdf");
    sb.append("ZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmlu");
    sb.append("ZChzdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9IG51");
    sb.append("bGwpIHsKICAgICAgICB2YXIgY2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwog");
    sb.append("ICAgICAgIGlmICghKGNoYW5uZWwgaW4gY2hvaWNlcykpIHsKICAgICAgICAgIGNob2ljZXNbY2hhbm5l");
    sb.append("bF0gPSB7fTsKICAgICAgICB9CiAgICAgICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAg");
    sb.append("ICAgICAgdmFyIHZhbEtleSA9IHJlc3VsdFtrZXldOwogICAgICAgIGlmICh2YWxLZXkgaW4gY2hvaWNl");
    sb.append("KSB7CiAgICAgICAgICBkZWxldGUgY2hvaWNlW3ZhbEtleV07CiAgICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICAgIGNob2ljZVt2YWxLZXldID0gcmVzdWx0OwogICAgICAgIH0KICAgICAgICBzdGF0ZS5kYXRhLmNv");
    sb.append("bm5lY3Rpb24ub25jaG9pY2VzKGNoYW5uZWwsIGNob2ljZSk7CiAgICAgIH0KICAgIH0pOwogICAgc3Vi");
    sb.append("c2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVlID0g");
    sb.append("dmFsdWU7CiAgICB9KTsKICB9OwoKICAvLyBkZWNpZGUKICBzZWxmLmV4RCA9IGZ1bmN0aW9uIChkb20s");
    sb.append("IHR5cGUsIHN0YXRlLCBuYW1lLCBjaGFubmVsLCBrZXkpIHsKICAgIHZhciBkZWNpZGUgPSB7IHZhbHVl");
    sb.append("OiBudWxsIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICB2YXIgcmVzdWx0ID0gZmluZChzdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpOwogICAg");
    sb.append("ICBpZiAocmVzdWx0ICE9IG51bGwpIHsKICAgICAgICBsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3co");
    sb.append("KTsKICAgICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgcmVzdWx0LCB7");
    sb.append("CiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CgogICAgICAgICAgfSwKICAgICAg");
    sb.append("ICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJT");
    sb.append("dWNjZXNzfCIgKyBwYXlsb2FkLnNlcSArICI7bGF0ZW5jeT0iICsgKHBlcmZvcm1hbmNlLm5vdygpIC0g");
    sb.append("c3RhcnQpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1");
    sb.append("ZTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmaXJlOmNo");
    sb.append("YW5uZWwgLi4uIiAuLi4+CiAgc2VsZi5vbkZSID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIGNo");
    sb.append("YW5uZWwpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCB7fSwgewogICAgICAgIHN1Y2Nl");
    sb.append("c3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTRU5UICciICsgY2hhbm5lbCAr");
    sb.append("ICInIik7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAg");
    sb.append("ICAgICBjb25zb2xlLmxvZygiRkFJTEVEIFRPIEZJUkUgJyIgKyBjaGFubmVsICsgIicgRFVFOiIgKyBy");
    sb.append("ZWFzb24pOyAnJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIFJVTlRJTUU6IDx0");
    sb.append("YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmb3JjZS1hdXRoPW5hbWUsdG9rZW4gLi4uIj4KICBzZWxmLm9uRk9S");
    sb.append("Q0VfQVVUSCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpIHsKICAg");
    sb.append("IHJlZ19ldmVudChudWxsLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWRlbnRpdGllc1tp");
    sb.append("ZGVudGl0eU5hbWVdID0gaWRlbnRpdHk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0");
    sb.append("eV8iICsgaWRlbnRpdHlOYW1lLCBpZGVudGl0eSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8");
    sb.append("dGFnIC4uIHJ4OmV2ZW50PSIuLi4gc2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLm9uUyA9IGZ1bmN0");
    sb.append("aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBk");
    sb.append("b20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAodHlwZW9m");
    sb.append("ICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRh");
    sb.append("ID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVl");
    sb.append("LnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50");
    sb.append("PSIuLi4gdGU6bmFtZSAuLi4iPgogIHNlbGYub25UTSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRl");
    sb.append("LCBuYW1lLCBveCwgb3kpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAo");
    sb.append("ZXZlbnQpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB7CiAgICAgICAgeDpl");
    sb.append("dmVudC5jbGllbnRYICsgd2luZG93LnNjcm9sbFggKyBveCwKICAgICAgICB5OmV2ZW50LmNsaWVudFkg");
    sb.append("KyB3aW5kb3cuc2Nyb2xsWSArIG95CiAgICAgIH07CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3Rh");
    sb.append("dGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5hbWUg");
    sb.append("Li4uIj4KICBzZWxmLm9uVEUgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewogICAg");
    sb.append("cmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2Jq");
    sb.append("ID0ge307CiAgICAgIG9ialtuYW1lXSA9IGV2ZW50Lm1lc3NhZ2U7CiAgICAgIHZhciBkZWx0YSA9IHBh");
    sb.append("dGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRh");
    sb.append("dGUoZGVsdGEpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4u");
    sb.append("IHJlc2V0IC4uLiI+CiAgc2VsZi5vUlNUID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAg");
    sb.append("IHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGYg");
    sb.append("PSBmb3JtX29mKGRvbSk7CiAgICAgIGlmIChmICE9IG51bGwpIHsKICAgICAgICBmLnJlc2V0KCk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBzdWJt");
    sb.append("aXQgLi4uIj4KICBzZWxmLm9TQk1UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJl");
    sb.append("Z19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGYgPSBm");
    sb.append("b3JtX29mKGRvbSk7CiAgICAgIGlmIChmICE9IG51bGwpIHsKICAgICAgICBmLm9uc3VibWl0KG5ldyBT");
    sb.append("dWJtaXRFdmVudCgic3VibWl0IikpOwogICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8");
    sb.append("dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZ290bzp1cmkgLi4uIj4KICBzZWxmLm9uR08gPSBmdW5jdGlvbiAo");
    sb.append("ZG9tLCB0eXBlLCBzdGF0ZSwgdmFsdWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIHZhciB1cmkgPSAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikg");
    sb.append("PyB2YWx1ZSgpIDogdmFsdWU7CiAgICAgIHNlbGYuZ290byh1cmksIGZhbHNlKTsKICAgIH0pOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0b2dnbGU6bmFtZSAuLi4iPgogIHNl");
    sb.append("bGYub25UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHZhciBjYXB0dXJl");
    sb.append("ZCA9IHsgdmFsdWU6IGZhbHNlIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9ICFjYXB0dXJlZC52YWx1");
    sb.append("ZTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52");
    sb.append("aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBm");
    sb.append("dW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZSA9PSB0cnVlOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgdmFyIG9yZGVyX3RvZ2dsZSA9IGZ1bmN0aW9uKHByaW9yLCB2YWwpIHsKICAgIHZh");
    sb.append("ciBwYXJ0cyA9IHByaW9yLnNwbGl0KCIsIik7CiAgICB2YXIgcHJlZml4ID0gJyc7CiAgICB2YXIgbmV4");
    sb.append("dCA9IFsiIl07CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBhcnRzLmxlbmd0aDsgaysrKSB7CiAgICAg");
    sb.append("IGlmIChwYXJ0c1trXSA9PSAiIikgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IGVsc2UgaWYgKHZh");
    sb.append("bCA9PSBwYXJ0c1trXSkgewogICAgICAgIHByZWZpeCA9ICctJzsKICAgICAgfSBlbHNlIGlmICgiLSIg");
    sb.append("KyB2YWwgPT1wYXJ0c1trXSkgewogICAgICAgIHByZWZpeCA9ICcnOwogICAgICB9IGVsc2UgewogICAg");
    sb.append("ICAgIG5leHQucHVzaChwYXJ0c1trXSk7CiAgICAgIH0KICAgIH0KICAgIG5leHRbMF0gPSBwcmVmaXgg");
    sb.append("KyB2YWw7CiAgICByZXR1cm4gbmV4dC5qb2luKCIsIik7CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4u");
    sb.append("IHJ4OmV2ZW50PSIuLi4gb3JkZXItdG9nZ2xlOm5hbWU9dmFsIC4uLiI+CiAgc2VsZi5vbk9UID0gZnVu");
    sb.append("Y3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIHZhbCkgewogICAgdmFyIGNhcHR1cmVkID0geyB2");
    sb.append("YWx1ZTogIiIgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gb3JkZXJfdG9nZ2xlKGNhcHR1cmVkLnZh");
    sb.append("bHVlLCB2YWwpOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAg");
    sb.append("IHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2Ny");
    sb.append("aWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2FwdHVyZWQudmFsdWUgPSB2");
    sb.append("YWx1ZTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBkZWx0");
    sb.append("YTpuYW1lPWRpZmYiIC4uLiI+CiAgc2VsZi5vbkQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwg");
    sb.append("bmFtZSwgZGlmZikgewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogMCB9OwogICAgcmVnX2V2ZW50");
    sb.append("KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBv");
    sb.append("YmpbbmFtZV0gPSBjYXB0dXJlZC52YWx1ZSArIGRpZmY7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8o");
    sb.append("c3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVs");
    sb.append("dGEpOwogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewog");
    sb.append("ICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gIm51bWJlciIpIHsKICAgICAgICBjYXB0dXJlZC52YWx1");
    sb.append("ZSA9IHZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHZhbHVl");
    sb.append("KTsKICAgICAgICBpZiAoIWlzTmFOKHZhbCkpIHsKICAgICAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFs");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfTsKICBzZWxmLkNTRU4gPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5uZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9l");
    sb.append("eHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGNob3NlbiA9IHsKICAgICAgdmFs");
    sb.append("dWU6ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6");
    sb.append("IG51bGwKICAgIH07CiAgICBhZGRfdW5zdWIoY2hvc2VuKTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlv");
    sb.append("biAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGNob3Nlbik7CiAgICAgIG51a2UocGFyZW50KTsKICAg");
    sb.append("ICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJl");
    sb.append("KSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAg");
    sb.append("IG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0");
    sb.append("YXRlLCBjaG9zZW4pOwogICAgfTsKCiAgICBjaG9zZW4udXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICB2YXIgb3V0ID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF07");
    sb.append("CiAgICAgIGlmICghKG91dCkpIHJldHVybjsKCiAgICAgIHZhciBjaG9pY2VzID0gcHJpb3JTdGF0ZS5k");
    sb.append("YXRhLmNvbm5lY3Rpb24uY2hvaWNlczsKICAgICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewog");
    sb.append("ICAgICAgIGNob2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgICAgfQogICAgICB2YXIgY2hvaWNlID0gY2hv");
    sb.append("aWNlc1tjaGFubmVsXTsKICAgICAgdmFyIGV2YWwgPSBjaG9zZW4udmFsdWUgaW4gY2hvaWNlOwogICAg");
    sb.append("ICBpZiAoY2hvc2VuLmV2YWwgIT0gZXZhbCkgewogICAgICAgIGNob3Nlbi5ldmFsID0gZXZhbDsKICAg");
    sb.append("ICAgICBjaGFuZ2UoY2hvc2VuLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUuZGF0");
    sb.append("YS5jb25uZWN0aW9uLnN1YnNjcmliZV9jaG9pY2UoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBj");
    sb.append("aG9zZW4udXBkYXRlKCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJlKGV2");
    sb.append("YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGNob3Nlbi52YWx1ZSA9IHZhbHVl");
    sb.append("OwogICAgICBjaG9zZW4udXBkYXRlKCk7CiAgICB9KTsKICB9OwoKICBzZWxmLkRFID0gZnVuY3Rpb24g");
    sb.append("KHBhcmVudCwgcHJpb3JTdGF0ZSwgZXZhbFN0YXRlLCBjaGFubmVsLCBrZXksIG5hbWUsIHNob3VsZEJl");
    sb.append("LCBfZXhwYW5kLCBtYWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHZhciBkZWNpZGUgPSB7CiAgICAg");
    sb.append("IHZhbHVlOiAiIiwKICAgICAgb3duZXI6IHBhcmVudCwKICAgICAgc2hvd246IGZhbHNlLAogICAgICBl");
    sb.append("dmFsOiBudWxsCiAgICB9OwogICAgYWRkX3Vuc3ViKGRlY2lkZSk7CiAgICB2YXIgY2hhbmdlID0gZnVu");
    sb.append("Y3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihkZWNpZGUpOwogICAgICBudWtlKHBhcmVudCk7");
    sb.append("CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91");
    sb.append("bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0");
    sb.append("ZShzdGF0ZSwgZGVjaWRlKTsKICAgIH07CgogICAgZGVjaWRlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgdmFyIGV2YWwgPSBmaW5kKHByaW9yU3RhdGUsIGNoYW5uZWwsIGtleSwgZGVjaWRlLnZhbHVl");
    sb.append("KSAhPSBudWxsOwogICAgICBpZiAoZGVjaWRlLmV2YWwgIT0gZXZhbCkgewogICAgICAgIGRlY2lkZS5l");
    sb.append("dmFsID0gZXZhbDsKICAgICAgICBjaGFuZ2UoZGVjaWRlLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAg");
    sb.append("IHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGRlY2lkZS51cGRhdGUoKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIHdoZXRoZXIgb3Igbm90");
    sb.append("IHRoaXMgbmVlZHMgdG8gYmUgYXhlZAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwoKICAgIHN1YnNj");
    sb.append("cmliZShldmFsU3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUg");
    sb.append("PSB2YWx1ZTsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8");
    sb.append("IHJ4OmlmIC8gcng6aWZub3QgPSAicGF0aCIKICBzZWxmLklGID0gZnVuY3Rpb24gKHBhcmVudCwgcHJp");
    sb.append("b3JTdGF0ZSwgbmFtZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkg");
    sb.append("ewogICAgc2VsZi5JRngocGFyZW50LCBwcmlvclN0YXRlLCBwcmlvclN0YXRlLCBuYW1lLCBzaG91bGRC");
    sb.append("ZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlKTsKICB9OwogIHNlbGYuSUZ4ID0gZnVu");
    sb.append("Y3Rpb24gKHBhcmVudCwgb3JpZ2luYWxTdGF0ZSwgcHJpb3JTdGF0ZSwgbmFtZSwgc2hvdWxkQmUsIGV4");
    sb.append("cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1");
    sb.append("YigpOwogICAgdmFyIHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgc2hvdyA9ICh2YWx1");
    sb.append("ZSA/IHRydWUgOiBmYWxzZSkgPT09IHNob3VsZEJlOwogICAgICBpZiAodGhpcy5zaG93biA9PSBzaG93");
    sb.append("KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2hvd24gPSBzaG93OwogICAgICBu");
    sb.append("dWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICB2YXIgbmV4dCA9IG51bGw7");
    sb.append("CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAib2JqZWN0IikgewogICAgICAgIG5leHQgPSBmb3Jr");
    sb.append("KHByaW9yU3RhdGUpOwogICAgICAgIG5leHQgPSBzZWxmLnBJKG5leHQsIG5hbWUpOwogICAgICAgIGlm");
    sb.append("IChleHBhbmRWaWV3KSB7CiAgICAgICAgICBuZXh0ID0gc2VsZi5wRVYobmV4dCwgbmFtZSk7CiAgICAg");
    sb.append("ICAgfQogICAgICAgIG5leHQuY3VycmVudCA9ICdkYXRhJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBu");
    sb.append("ZXh0ID0gZm9yayhvcmlnaW5hbFN0YXRlKTsKICAgICAgfQogICAgICAvLyB3ZSBkZWZhdWx0IGJhY2sg");
    sb.append("dG8gZGF0YSBpbiB0aGUgSUYgY2FzZQogICAgICBpZiAoc2hvdykgewogICAgICAgIG1ha2VyVHJ1ZShw");
    sb.append("YXJlbnQsIG5leHQpOwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBuZXh0");
    sb.append("KTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUobmV4dCwgdW5zdWIpOwogICAgfS5iaW5kKHsg");
    sb.append("c2hvd246ICdubycgfSk7CiAgICBzdWJzY3JpYmUocHJpb3JTdGF0ZSwgbmFtZSwgc2V0KTsKICB9OwoK");
    sb.append("ICAvLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1jb3B5OnBhdGgKICBzZWxmLmFDUCA9IGZ1bmN0aW9uIChm");
    sb.append("b3JtLCBzdGF0ZSwgbmFtZSkgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAg");
    sb.append("ICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCBmYWxz");
    sb.append("ZSk7CiAgICAgIGlmIChuYW1lICE9ICIuIiAmJiBuYW1lICE9ICIiKSB7CiAgICAgICAgdmFyIG5vID0g");
    sb.append("e307CiAgICAgICAgbm9bbmFtZV0gPSBvYmo7CiAgICAgICAgb2JqID0gbm87CiAgICAgIH0KICAgICAg");
    sb.append("dmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUu");
    sb.append("dXBkYXRlKGRlbHRhKTsKICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgfTsKICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgPGlucHV0IC4uLiByeDpzeW5jPXBhdGggLi4uPgogIHNlbGYuU1kgPSBmdW5jdGlvbiAo");
    sb.append("ZWwsIHN0YXRlLCBuYW1lLCBtcykgewogICAgdmFyIHR5cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5");
    sb.append("cGUudG9VcHBlckNhc2UoKSA6ICJ0ZXh0IjsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAodmFsdWUp");
    sb.append("IHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBlbC52YWx1ZTsKICAgICAgdmFy");
    sb.append("IGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBk");
    sb.append("YXRlKGRlbHRhKTsKICAgIH07CiAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgIGVsLm9u");
    sb.append("Y2hhbmdlID0gZGVib3VuY2UobXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBzaWduYWwoZWwuY2hl");
    sb.append("Y2tlZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJ");
    sb.append("TyIpIHsKICAgICAgZWwub25jaGFuZ2UgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAg");
    sb.append("ICAgIGlmIChlbC5jaGVja2VkKSB7CiAgICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICAgIH0K");
    sb.append("ICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBlbC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5j");
    sb.append("dGlvbiAoZXZ0KSB7CiAgICAgICAgc2lnbmFsKGVsLnZhbHVlKTsKICAgICAgfSk7CiAgICAgIGVsLm9u");
    sb.append("a2V5dXAgPSBlbC5vbmNoYW5nZTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICAgIHNpZ25hbChlbC52YWx1ZSk7CiAgICAgIH0sIDEpOwogICAgfQogIH07CgogIHZhciBmaXJz");
    sb.append("dE9jY3VyID0gZnVuY3Rpb24oYSwgYikgewogICAgaWYgKGEgPiAwICYmIGIgPiAwKSB7CiAgICAgIHJl");
    sb.append("dHVybiBNYXRoLm1pbihhLCBiKTsKICAgIH0KICAgIGlmIChhID4gMCkgewogICAgICByZXR1cm4gYTsK");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBiOwogICAgfQogIH07CiAgLy8gSEVMUEVSIHwgZXh0cmFj");
    sb.append("dCBhbGwgdGhlIGlucHV0cyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBidWlsZCBhbiBvYmplY3QK");
    sb.append("ICB2YXIgYnVpbGRfb2JqID0gZnVuY3Rpb24gKGVsLCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3");
    sb.append("b3JkcywgaXNSb290KSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJGT1JNIiAm");
    sb.append("JiAhaXNSb290KSB7CiAgICAgIC8vIGRvbid0IGNhcmUgYWJvdXQgbmVzdGVkIGZvcm1zCiAgICAgIHJl");
    sb.append("dHVybjsKICAgIH0KICAgIHZhciBqdXN0U2V0ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJU");
    sb.append("RVhUQVJFQSIgfHwgZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJTRUxFQ1QiOwogICAgdmFyIGlz");
    sb.append("SW5wdXRCb3ggPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIklOUFVUIjsKICAgIHZhciBpc0Zp");
    sb.append("ZWxkU2V0ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJGSUVMRFNFVCI7CiAgICB2YXIgaGFz");
    sb.append("TmFtZSA9ICJuYW1lIiBpbiBlbDsKICAgIHZhciBpbnNlcnRBdCA9IG9ialRvSW5zZXJ0SW50bzsKICAg");
    sb.append("IC8vIHRoZSBhcHBseSBmdW5jdGlvbiBpcyBob3cgd2UgaW5qZWN0IHRoZSB2YWx1ZSBpbnRvIHRoZSBv");
    sb.append("YmplY3QKICAgIHZhciBhcHBseSA9IGZ1bmN0aW9uICh2YWwpIHsgfTsKCiAgICBpZiAoaGFzTmFtZSAm");
    sb.append("JiAoanVzdFNldCB8fCBpc0lucHV0Qm94IHx8IGlzRmllbGRTZXQpKSB7CiAgICAgIHZhciBuYW1lID0g");
    sb.append("IiI7CiAgICAgIG5hbWUgPSBlbC5uYW1lOwogICAgICBpZiAobmFtZSA9PSAiIikgeyAvLyB0aGlzIGlz");
    sb.append("IGEgc3BlY2lhbCBuYW1lIGZvciB0aGluZ3MgdGhhdCBkb24ndCBnZXQgcGlja2VkIHVwCiAgICAgICAg");
    sb.append("cmV0dXJuOwogICAgICB9CiAgICAgIHZhciBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRl");
    sb.append("eE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgd2hpbGUgKGtEb3RPclNsYXNoID4gMCkg");
    sb.append("ewogICAgICAgIHZhciBwYXIgPSBuYW1lLnN1YnN0cmluZygwLCBrRG90T3JTbGFzaCk7CiAgICAgICAg");
    sb.append("aWYgKCEocGFyIGluIGluc2VydEF0KSkgewogICAgICAgICAgaW5zZXJ0QXRbcGFyXSA9IHt9OwogICAg");
    sb.append("ICAgIH0KICAgICAgICBpbnNlcnRBdCA9IGluc2VydEF0W3Bhcl07CiAgICAgICAgbmFtZSA9IG5hbWUu");
    sb.append("c3Vic3RyaW5nKGtEb3RPclNsYXNoICsgMSk7CiAgICAgICAga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3Vy");
    sb.append("KG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIH0KCiAgICAgIGlmIChu");
    sb.append("YW1lLmVuZHNXaXRoKCIrIikpIHsKICAgICAgICAvLyBoZXJlLCB3ZSBwdXNoIHRoZSB2YWx1ZSBpbnRv");
    sb.append("IHRoZSBhcnJheQogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEp");
    sb.append("OwogICAgICAgIGFwcGx5ID0gZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIGlmICghKG5hbWUgaW4gaW5z");
    sb.append("ZXJ0QXQpKSB7CiAgICAgICAgICAgIGluc2VydEF0W25hbWVdID0gW3ZdOwogICAgICAgICAgfSBlbHNl");
    sb.append("IHsKICAgICAgICAgICAgaW5zZXJ0QXRbbmFtZV0ucHVzaCh2KTsKICAgICAgICAgIH0KICAgICAgICB9");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGhlcmUgd2Ugc2V0IHRoZSBvYmplY3QKICAgICAgICBh");
    sb.append("cHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBpbnNlcnRBdFtuYW1lXSA9IHY7CiAgICAgICAg");
    sb.append("fTsKICAgICAgfQogICAgfQoKICAgIGlmIChqdXN0U2V0KSB7CiAgICAgIGFwcGx5KGVsLnZhbHVlKTsK");
    sb.append("ICAgIH0gZWxzZSBpZiAoaXNGaWVsZFNldCkgewogICAgICB2YXIgbmV4dE9iamVjdCA9IHt9OwogICAg");
    sb.append("ICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAg");
    sb.append("ICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKysp");
    sb.append("IHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgICAgYnVpbGRfb2JqKGNo");
    sb.append("LCBuZXh0T2JqZWN0LCBhbGxvd19wYXNzd29yZHMsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAg");
    sb.append("ICAgYXBwbHkobmV4dE9iamVjdCk7CiAgICB9IGVsc2UgaWYgKGlzSW5wdXRCb3gpIHsKICAgICAgdmFy");
    sb.append("IHR5cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBlckNhc2UoKSA6ICJURVhUIjsKICAg");
    sb.append("ICAgaWYgKHR5cGUgPT0gIlNVQk1JVCIgfHwgdHlwZSA9PSAiUkVTRVQiKSByZXR1cm47CiAgICAgIGlm");
    sb.append("ICh0eXBlID09ICJQQVNTV09SRCIgJiYgIWFsbG93X3Bhc3N3b3JkcykgewogICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgfQogICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgYXBwbHkoZWwuY2hl");
    sb.append("Y2tlZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8iKSB7CiAg");
    sb.append("ICAgICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgICAgICB9");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgICB9CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJl");
    sb.append("bjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBu");
    sb.append("OyBrKyspIHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgICAgYnVpbGRf");
    sb.append("b2JqKGNoLCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3b3JkcywgZmFsc2UpOwogICAgICAgIH0K");
    sb.append("ICAgICAgfQogICAgfQogIH07CgogIHNlbGYuQnVpbGRGb3JtT2JqZWN0ID0gZnVuY3Rpb24oZm9ybSkg");
    sb.append("ewogICAgdmFyIG9iaiA9IHt9OwogICAgYnVpbGRfb2JqKGZvcm0sIG9iaiwgZmFsc2UsIHRydWUpOwog");
    sb.append("ICAgcmV0dXJuIG9iajsKICB9OwoKICAvLyBIRUxQRVIgfCByZXR1cm4gYW4gb2JqZWN0IG9mIGFsbCB0");
    sb.append("aGUgaW5wdXRzIG9mIHRoZSBnaXZlbiBmb3JtIGVsZW1lbnQKICB2YXIgZ2V0X2Zvcm0gPSBmdW5jdGlv");
    sb.append("biAoZm9ybSwgYWxsb3dfcGFzc3dvcmRzKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBidWlsZF9vYmoo");
    sb.append("Zm9ybSwgb2JqLCBhbGxvd19wYXNzd29yZHMsIHRydWUpOwogICAgcmV0dXJuIG9iajsKICB9OwoKICAv");
    sb.append("LyBIRUxQRVIgfCByZXR1cm4gYSBwYXNzd29yZCBmcm9tIHRoZSBnaXZlbiBmb3JtCiAgdmFyIGdldF9w");
    sb.append("YXNzd29yZCA9IGZ1bmN0aW9uIChlbCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9");
    sb.append("PSAiSU5QVVQiICYmIGVsLnR5cGUudG9VcHBlckNhc2UoKSA9PSAiUEFTU1dPUkQiKSB7CiAgICAgIHJl");
    sb.append("dHVybiBbZWwubmFtZSwgZWwudmFsdWVdOwogICAgfQogICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsK");
    sb.append("ICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAg");
    sb.append("IGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5b");
    sb.append("a107CiAgICAgICAgdmFyIHJlc3VsdCA9IGdldF9wYXNzd29yZChjaCk7CiAgICAgICAgaWYgKHJlc3Vs");
    sb.append("dCAhPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CiAgICAgIH0KICAg");
    sb.append("IH0KICAgIHJldHVybiBudWxsOwogIH07CgogIHZhciB3cmFwcGVycyA9IHt9OwogIHZhciB3cmFwcGVy");
    sb.append("c19vbmxvYWQgPSB7fTsKICBzZWxmLlBSV1AgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICB3cmFw");
    sb.append("cGVyc1tuYW1lXSA9IGZvbzsKICAgIGlmIChuYW1lIGluIHdyYXBwZXJzX29ubG9hZCkgewogICAgICB2");
    sb.append("YXIgdG9sb2FkID0gd3JhcHBlcnNfb25sb2FkW25hbWVdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IHRvbG9hZC5sZW5ndGg7IGsrKykgewogICAgICAgIHRvbG9hZFtrXSgpOwogICAgICB9CiAgICB9CiAg");
    sb.append("fTsKCiAgLy8gPC4uLiByeDp3cmFwPWNvbnN0ID4KICBzZWxmLldQID0gZnVuY3Rpb24gKGRvbSwgc3Rh");
    sb.append("dGUsIG5hbWUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UpIHsKICAgIGlmIChuYW1lIGluIHdyYXBw");
    sb.append("ZXJzKSB7CiAgICAgIHdyYXBwZXJzW25hbWVdKGRvbSwgc3RhdGUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0");
    sb.append("aENhc2UsIHNlbGYpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGxvYWRlciA9IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNl");
    sb.append("LCBzZWxmKTsKICAgICAgfTsKICAgICAgaWYgKG5hbWUgaW4gd3JhcHBlcnNfb25sb2FkKSB7CiAgICAg");
    sb.append("ICAgd3JhcHBlcnNfb25sb2FkW25hbWVdLnB1c2gobG9hZGVyKTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICB3cmFwcGVyc19vbmxvYWRbbmFtZV0gPSBbbG9hZGVyXTsKICAgICAgfQogICAgfQogIH07CgogIC8v");
    sb.append("IFJVTlRJTUUgfCByZWdpc3RlciB0aGUgcGFnZSBmb3IgdGhlIHVyaSB0byB0aGUgZ2l2ZW4gZm9vKCku");
    sb.append("CiAgc2VsZi5QRyA9IGZ1bmN0aW9uICh1cmksIGZvbykgewogICAgdmFyIGhlYWQgPSByb3V0ZXI7CiAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IHVyaS5sZW5ndGg7IGsrKykgewogICAgICB2YXIgcGFydCA9IHVy");
    sb.append("aVtrXTsKICAgICAgaWYgKCEocGFydCBpbiBoZWFkKSkgewogICAgICAgIGhlYWRbcGFydF0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICBoZWFkID0gaGVhZFtwYXJ0XTsKICAgIH0KICAgIGhlYWRbIkAiXSA9IGZvbzsK");
    sb.append("ICB9OwoKICB2YXIgcm91dGUgPSBmdW5jdGlvbiAocGFydHMsIGF0LCBoZWFkLCB2aWV3KSB7CiAgICBp");
    sb.append("ZiAoYXQgPCBwYXJ0cy5sZW5ndGgpIHsKICAgICAgaWYgKCJudW1iZXIiIGluIGhlYWQpIHsKICAgICAg");
    sb.append("ICB2YXIgbmVjayA9IGhlYWRbIm51bWJlciJdOwogICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHBh");
    sb.append("cnRzW2F0XSk7CiAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7CiAgICAgICAgICBmb3IgKHZhciBicmFu");
    sb.append("Y2ggaW4gbmVjaykgewogICAgICAgICAgICB2aWV3W2JyYW5jaF0gPSB2YWw7CiAgICAgICAgICAgIHZh");
    sb.append("ciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAxLCBuZWNrW2JyYW5jaF0sIHZpZXcpOwogICAg");
    sb.append("ICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbmRp");
    sb.append("ZGF0ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkZWxldGUgdmlld1ticmFuY2hdOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0KCiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0IiBpbiBoZWFkKSB7CiAgICAgICAg");
    sb.append("dmFyIG5lY2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZhbCA9IHBhcnRzW2F0XTsKICAgICAg");
    sb.append("ICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwog");
    sb.append("ICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwg");
    sb.append("dmlldyk7CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVy");
    sb.append("biBjYW5kaWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdmlld1ticmFuY2hdOwogICAg");
    sb.append("ICAgIH0KICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFkKSB7CiAgICAgICAgdmFyIG5lY2sg");
    sb.append("PSBoZWFkWyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7CiAgICAgICAg");
    sb.append("ICBpZiAoYnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gcm91");
    sb.append("dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAgICAgaWYgKGNhbmRp");
    sb.append("ZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiQCIg");
    sb.append("aW4gaGVhZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAgICAgIH0KICAgIH0KICB9OwoKCiAg");
    sb.append("c2VsZi5yZXN1bWVfdXJpID0gIi8iOwogIHNlbGYuZ2F0ZXMgPSBbXTsKICAvKiogUlVOVElNRSB8IDxn");
    sb.append("YXRlLWV4aXQgZ3VhcmQ9InJlYWQiIHNldD0iIj4gKi8KICBzZWxmLklHID0gZnVuY3Rpb24oc3RhdGVS");
    sb.append("ZWFkLCByZWFkLCBzdGF0ZVdyaXRlLCB3cml0ZSkgewogICAgdmFyIHNtID0gewogICAgICB2YWx1ZTog");
    sb.append("ZmFsc2UsCiAgICAgIHJ1bjogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAg");
    sb.append("ICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIG9ialt3cml0ZV0gPSB0cnVlOwogICAgICAgICAg");
    sb.append("dmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZVdyaXRlLnZpZXcsIG9iaik7CiAgICAgICAgICBzdGF0ZVdy");
    sb.append("aXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGVS");
    sb.append("ZWFkLCByZWFkLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICBzbS52YWx1ZSA9IHZhbHVlOwogICAgfSk7");
    sb.append("CiAgICBzZWxmLmdhdGVzLnB1c2goc20pOwogIH07CiAgc2VsZi5nb3RvID0gZnVuY3Rpb24gKHVyaSwg");
    sb.append("bm93KSB7CiAgICBzZWxmLnJlc3VtZV91cmkgPSB1cmk7CiAgICB2YXIgYmxvY2tlZCA9IGZhbHNlOwog");
    sb.append("ICAgZm9yICh2YXIgayA9IDA7IGsgPCBzZWxmLmdhdGVzLmxlbmd0aDsgaysrKSB7CiAgICAgIGlmIChz");
    sb.append("ZWxmLmdhdGVzW2tdLnJ1bigpKSB7CiAgICAgICAgYmxvY2tlZCA9IHRydWU7CiAgICAgIH0KICAgIH0K");
    sb.append("ICAgIGlmIChibG9ja2VkKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChub3cpIHsKICAgICAg");
    sb.append("c2VsZi5nb3RvX25vdyh1cmkpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuZ290b19ub3codXJpKTsKICAgICAgfSwgMSk7CiAgICB9CiAg");
    sb.append("fTsKICAvLyBSVU5USU1FOiA8dGFnIC4uLiByeDpldmVudD0iLi4uIHJlc3VtZSAuLi4iPi4uCiAgc2Vs");
    sb.append("Zi5iUiA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVuOiBmdW5jdGlvbigpIHsKICAg");
    sb.append("ICAgICBzZWxmLmdhdGVzID0gW107CiAgICAgICAgc2VsZi5nb3RvKHNlbGYucmVzdW1lX3VyaSwgZmFs");
    sb.append("c2UpOwogICAgICB9LAogICAgICBtZXJnZTogZnVuY3Rpb24oKSB7fQogICAgfTsKICB9OwogIHNlbGYu");
    sb.append("Z290b19ub3cgPSBmdW5jdGlvbih1cmkpIHsKICAgIGlmICh1cmkuc3RhcnRzV2l0aCgiLyIpKSB7CiAg");
    sb.append("ICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIHVyaSwgdHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICB3");
    sb.append("aW5kb3cubG9jYXRpb24uaHJlZiA9IGZpeEhyZWYodXJpKTsKICAgIH0KICB9OwogIHNlbGYuaW5pdCA9");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIGZpeFBhdGgod2luZG93Lmxv");
    sb.append("Y2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB3aW5kb3cu");
    sb.append("b25wb3BzdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4");
    sb.append("UGF0aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNl");
    sb.append("KTsKICAgIH07CiAgfTsKCiAgLy8gQVBJIHwgUnVuIHRoZSBwYWdlIGluIHRoZSBnaXZlbiBwbGFjZQog");
    sb.append("IHNlbGYucnVuID0gZnVuY3Rpb24gKHdoZXJlLCByYXdQYXRoLCBwdXNoKSB7CiAgICB2YXIgcGF0aCA9");
    sb.append("IHJhd1BhdGg7CiAgICB3aGlsZSAocGF0aC5lbmRzV2l0aCgiLyIpICYmIHBhdGggIT0gIi8iKSB7CiAg");
    sb.append("ICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpOwogICAgfQogICAgZm9y");
    sb.append("IChjb25LZXkgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS50cmVlLm51");
    sb.append("a2UoKTsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS5udWtlKCk7CiAgICB9CiAgICB2YXIgcGFydHMg");
    sb.append("PSAocGF0aC5zdGFydHNXaXRoKCIvIikgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpLnNwbGl0KCIv");
    sb.append("Iik7CiAgICB2YXIgaW5pdCA9IHt9OwogICAgdHJ5IHsKICAgICAgaW5pdC52aWV3ZXJfdGltZXpvbmUg");
    sb.append("PSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICAgIGlu");
    sb.append("aXQudmlld2VyX2xhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlOwogICAgfSBjYXRjaCAoYnJvd3Nl");
    sb.append("ckJhZCkgewogICAgICAvLyB3ZSBqdXN0IGRvbid0IHNlZSB0aGUgdmlld3N0YXRlIGlmIHdlIGRvbid0");
    sb.append("IGhhdmUgdGhlc2UgYXZhaWxhYmxlCiAgICB9CiAgICB2YXIgZm9vID0gcm91dGUocGFydHMsIDAsIHJv");
    sb.append("dXRlciwgaW5pdCk7CiAgICBudWtlKHdoZXJlKTsKICAgIGlmIChmb28gIT0gbnVsbCkgewogICAgICB3");
    sb.append("aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIHZhciBzdGF0ZSA9IHsgc2VydmljZTogY29ubmVjdGlv");
    sb.append("biwgZGF0YTogbnVsbCwgdmlldzogZnJlc2god2hlcmUpLCBjdXJyZW50OiAidmlldyIgfTsKICAgICAg");
    sb.append("c3RhdGUudmlldy5pbml0ID0gaW5pdDsKICAgICAgc2VsZi5nYXRlcyA9IFtdOwogICAgICBzZWxmLnJl");
    sb.append("c3VtZV91cmkgPSBwYXRoOwogICAgICBmb28od2hlcmUsIHN0YXRlKTsKICAgICAgc3RhdGUudmlldy50");
    sb.append("cmVlLnN1YnNjcmliZShzdGF0ZS52aWV3LmRlbHRhKTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0");
    sb.append("ZShpbml0KTsKICAgICAgaWYgKHB1c2gpIHsKICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUo");
    sb.append("e30sICIiLCBmaXhIcmVmKHBhdGgpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHBhdGgg");
    sb.append("IT0gIi80MDQiKSB7CiAgICAgICAgc2VsZi5ydW4od2hlcmUsICIvNDA0Iik7CiAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgLy8gZGVmYXVsdCA0MDQKICAgICAgfQogICAgfQogICAgd2hlcmUuYXBwZW5kQ2hpbGQo");
    sb.append("Y29ubmVjdGlvbk1vbml0b3JEb20pOwogIH07CgogIHZhciBpZGVudGl0aWVzID0ge307CgogIHNlbGYu");
    sb.append("U0lHTk9VVCA9IGZ1bmN0aW9uICgpIHsKICAgIGlkZW50aXRpZXMgPSB7fTsKICAgIGxvY2FsU3RvcmFn");
    sb.append("ZS5yZW1vdmVJdGVtKCJpZGVudGl0eV9kZWZhdWx0Iik7CiAgICB2YXIgYXhlID0gW107CiAgICBmb3Ig");
    sb.append("KHZhciBjaWQgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgdmFyIGNvID0gY29ubmVjdGlvbnNbY2lkXTsK");
    sb.append("ICAgICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7CiAgICAgICAgY28ucHRyLmVuZCh7IHN1Y2Nlc3M6IGZ1");
    sb.append("bmN0aW9uICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAgICB9CiAgICAgIGF4");
    sb.append("ZS5wdXNoKGNpZCk7CiAgICB9CiAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykg");
    sb.append("ewogICAgICBkZWxldGUgY29ubmVjdGlvbnNbYXhlW2tdXTsKICAgIH0KCiAgICBzZWxmLmdvdG8oIi8i");
    sb.append("LCBmYWxzZSk7CiAgfTsKCiAgc2VsZi5HT09HTEVfU0lHTl9PTiA9IGZ1bmN0aW9uIChhY2Nlc3NUb2tl");
    sb.append("bikgewogICAgY29ubmVjdGlvbi5Jbml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICBpZGVudGl0aWVzWyJkZWZhdWx0");
    sb.append("Il0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0");
    sb.append("eV9kZWZhdWx0IiwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgc2VsZi5nb3RvKCIvIiwgZmFsc2Up");
    sb.append("OwogICAgICB9LAogICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29s");
    sb.append("ZS5sb2coIkdvb2dsZSBmYWlsdXJlOiAiICsgcmVhc29uKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAg");
    sb.append("LyoqIFJVTlRJTUUgfCByZWRpcmVjdCB0byBhIHBhZ2Ugd2l0aCBzdGF0ZSAqLwogIHNlbGYuYVJEcCA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSwgcHVsbGVyKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2");
    sb.append("YXIgdXJpID0gcHVsbGVyKHN0YXRlLnZpZXcuaW5pdCk7CiAgICAgIHJldHVybiB1cmk7CiAgICB9Owog");
    sb.append("IH07CgogIC8qKiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBzdGF0aWMgcGFnZSAqLwogIHNlbGYuYVJE");
    sb.append("eiA9IGZ1bmN0aW9uIChyYXcpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBy");
    sb.append("YXc7CiAgICB9CiAgfTsKCiAgLyoqIGZvciBjdXN0b20gZWxlbWVudHMgdG8gbGVhcm4gb2YgdGhlIGlk");
    sb.append("ZW50aXR5ICovCiAgc2VsZi5JRCA9IGZ1bmN0aW9uIChpZGVudGl0eU5hbWUsIHJlZGlyZWN0VG9GdW5j");
    sb.append("KSB7CiAgICBpZiAoaWRlbnRpdHlOYW1lID09PSB0cnVlKSB7CiAgICAgIGlkZW50aXR5TmFtZSA9ICJk");
    sb.append("ZWZhdWx0IjsKICAgIH0KICAgIC8vIElGIGlkZW50aXR5IGNvbnRhaW5zIGRvdHMKICAgIHZhciBpZGVu");
    sb.append("dGl0eSA9IG51bGw7CiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uICgpIHsKICAgIH07CgogICAgdmFy");
    sb.append("IHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lKTsKICAg");
    sb.append("IGlmICh2YWwpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gdmFsOwogICAgfQoKICAg");
    sb.append("IGlmIChpZGVudGl0eU5hbWUuc3RhcnRzV2l0aCgiZGlyZWN0OiIpKSB7CiAgICAgIC8vIFVzZSwgYXMg");
    sb.append("aXMKICAgICAgaWRlbnRpdHkgPSBpZGVudGl0eU5hbWUuc3Vic3RyaW5nKDcpOwogICAgfSBlbHNlIGlm");
    sb.append("IChpZGVudGl0eU5hbWUgaW4gaWRlbnRpdGllcykgewogICAgICBpZGVudGl0eSA9IGlkZW50aXRpZXNb");
    sb.append("aWRlbnRpdHlOYW1lXTsKICAgICAgY2xlYW51cCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkZWxldGUg");
    sb.append("aWRlbnRpdGllc1tpZGVudGl0eU5hbWVdOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJp");
    sb.append("ZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lKTsKICAgICAgICBzZWxmLmdvdG8ocmVkaXJlY3RUb0Z1bmMo");
    sb.append("KSwgZmFsc2UpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gd2hhdGV2ZXIgcGFnZSB3ZSBh");
    sb.append("cmUsIG5lZWRzIHRvIGRpZSB3aGljaCBtZWFucyB3ZSBuZWVkIHRvIG51a2UgZXZlcnl0aGluZyEKICAg");
    sb.append("ICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuZ290byhyZWRpcmVj");
    sb.append("dFRvRnVuYygpLCBmYWxzZSk7CiAgICAgIH0sIDEwKTsKICAgICAgcmV0dXJuIHsgYWJvcnQ6IHRydWUg");
    sb.append("fTsKICAgIH0KCiAgICByZXR1cm4geyBhYm9ydDogZmFsc2UsIGNsZWFudXA6IGNsZWFudXAsIGlkZW50");
    sb.append("aXR5OiBpZGVudGl0eSB9OwogIH07CgogIC8qIEZvciBjdXN0b20gY2FsbGJhY2tzIHRvIHJlZGlyZWN0");
    sb.append("IGFuZCBpbnZhbGlkYXRlIElEIGZhaWx1cmVzICovCiAgc2VsZi5GSURDTCA9IGZ1bmN0aW9uIChjYWxs");
    sb.append("YmFjaywgbG9va3VwKSB7CiAgICByZXR1cm4gewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0");
    sb.append("KSB7CiAgICAgICAgY2FsbGJhY2suc3VjY2VzcyhyZXN1bHQpOwogICAgICB9LAogICAgICBuZXh0OiBm");
    sb.append("dW5jdGlvbiAoaXRlbSkgewogICAgICAgIGNhbGxiYWNrLm5leHQoaXRlbSk7CiAgICAgIH0sCiAgICAg");
    sb.append("IGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FsbGJhY2suY29tcGxldGUoKTsKICAgICAg");
    sb.append("fSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNhbGxiYWNrLmZhaWx1");
    sb.append("cmUocmVhc29uKTsKICAgICAgICBpZiAocmVhc29uID09IDQwMzQwMyB8fCByZWFzb24gPT0gNDAzNTAw");
    sb.append("IHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAgIGxvb2t1cC5jbGVhbnVwKCk7CiAgICAgICAg");
    sb.append("fQogICAgICB9CiAgICB9OwogIH07CgogIHZhciBjdXN0b21EYXRhU291cmNlcyA9IHt9OwoKICAvKiog");
    sb.append("cHJvdmlkZSBjdXN0b20gZGF0YSAqLwogIHNlbGYuUFJDVURBID0gZnVuY3Rpb24gKG5hbWUsIGZvbykg");
    sb.append("ewogICAgY3VzdG9tRGF0YVNvdXJjZXNbbmFtZV0gPSBmb287CiAgfTsKCiAgLy8gPGN1c3RvbWRhdGEg");
    sb.append("c3JjPXNyYyAocGFyYW1ldGVyOng9eSkqID4KICBzZWxmLkNVREEgPSBmdW5jdGlvbiAocGFyZW50LCBw");
    sb.append("cmlvclN0YXRlLCBzcmMsIHJ4b2JqLCByZWRpcmVjdFRvLCBjaGlsZE1ha2VyKSB7CiAgICB2YXIgdW5z");
    sb.append("dWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDEwLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBjdXN0");
    sb.append("b21UcmVlID0gZmFsc2U7CiAgICAgIGlmIChzcmMgaW4gY3VzdG9tRGF0YVNvdXJjZXMpIHsKICAgICAg");
    sb.append("ICB2YXIgY29ucyA9IGN1c3RvbURhdGFTb3VyY2VzW3NyY107CiAgICAgICAgaWYgKHR5cGVvZiAoY29u");
    sb.append("cykgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY3VzdG9tVHJlZSA9IGNvbnMocnhvYmosIHByaW9y");
    sb.append("U3RhdGUsIHJlZGlyZWN0VG8sIHNlbGYpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWN1c3Rv");
    sb.append("bVRyZWUpIHsKICAgICAgICBjdXN0b21UcmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgICB9CiAgICAg");
    sb.append("IHZhciBzdGF0ZSA9IHsKICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAg");
    sb.append("ZGF0YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rpb24sIHRyZWU6IGN1c3RvbVRyZWUs");
    sb.append("IGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgdmlldzogbmV3X2Rl");
    sb.append("bHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgICBjdXJyZW50OiAiZGF0YSIKICAgICAgfTsK");
    sb.append("ICAgICAgY2hpbGRNYWtlcihzdGF0ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIp");
    sb.append("OwogICAgfSk7CiAgfTsKCiAgLy8gPHRpdGxlIHZhbHVlPSIuLi4iIC8+CiAgc2VsZi5TVCA9IGZ1bmN0");
    sb.append("aW9uIChyeG9iaikgewogICAgZG9jdW1lbnQudGl0bGUgPSByeG9iai52YWx1ZTsKICAgIHJ4b2JqLl9f");
    sb.append("ID0gZGVib3VuY2UoMSwgZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHJ4b2JqLnZh");
    sb.append("bHVlOwogICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5jPgogIHNlbGYuVlN5ID0gZnVuY3Rpb24gKHBh");
    sb.append("cmVudCwgcHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWlsKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vu");
    sb.append("c3ViKCk7CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfc3luYyhmdW5jdGlv");
    sb.append("biAoc3luY2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAg");
    sb.append("ICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzeW5jZWQpIHsKICAgICAg");
    sb.append("ICBhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBub3RhdmFpbChwYXJl");
    sb.append("bnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAg");
    sb.append("ICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7");
    sb.append("CiAgfTsKCiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVuY3Rpb24gKGNvLCBzdGF0ZSwgY2xlYW51cCwg");
    sb.append("cmV0cnlfc20pIHsKICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzID0gMDsKICAgIHJldHJ5X3Nt");
    sb.append("LmJhY2tvZmYgPSAxOwogICAgcmV0dXJuIHsKICAgICAgbmV4dDogZnVuY3Rpb24gKHBheWxvYWQpIHsK");
    sb.append("ICAgICAgICBjby5kZWJ1Z2dlcihwYXlsb2FkKTsKICAgICAgICBjby5zZXRfY29ubmVjdGVkKHRydWUp");
    sb.append("OwogICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzID0gMDsKICAgICAgICByZXRyeV9zbS5i");
    sb.append("YWNrb2ZmID0gMTsKICAgICAgICBpZiAoImRhdGEiIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAg");
    sb.append("IGNvLnRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0YSk7CiAgICAgICAgfQogICAgICAgIGlmICgi");
    sb.append("b3V0c3RhbmRpbmciIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNvLm9uZGVjaWRlKHBheWxv");
    sb.append("YWQuZGVsdGEub3V0c3RhbmRpbmcpOwogICAgICAgIH0KICAgICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4g");
    sb.append("cGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRl");
    sb.append("bHRhLnZpZXdzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIGlmICgnbG9nJyBpbiBwYXlsb2FkLmRlbHRh");
    sb.append("KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2FkLmRlbHRhLmxvZyk7CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGlmICgndmlld3BvcnQnIGluIHBheWxvYWQuZGVsdGEgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQu");
    sb.append("ZGVsdGEpIHsKICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBheWxvYWQuZGVsdGEudmlld3BvcnQ7CiAg");
    sb.append("ICAgICAgICBpZiAodmlld3BvcnQgaW4gY28uaGFuZGxlcnMpIHsKICAgICAgICAgICAgY28uaGFuZGxl");
    sb.append("cnNbdmlld3BvcnRdKHBheWxvYWQuZGVsdGEubWVzc2FnZSwgY28pOwogICAgICAgICAgfQogICAgICAg");
    sb.append("IH0KICAgICAgICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVyJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAg");
    sb.append("ICAgICB2YXIgZmlsdGVyID0ge307CiAgICAgICAgICB2YXIga2V5cyA9IHBheWxvYWQuZGVsdGFbJ3Zp");
    sb.append("ZXctc3RhdGUtZmlsdGVyJ107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3Ro");
    sb.append("OyBrKyspIHsKICAgICAgICAgICAgZmlsdGVyW2tleXNba11dID0gdHJ1ZTsKICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIGNvLmZpbHRlciA9IGZpbHRlcjsKICAgICAgICAgIGNvLmhhc19maWx0ZXIgPSB0cnVlOwog");
    sb.append("ICAgICAgIH0KICAgICAgICBpZiAoJ2dvdG8nIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHNl");
    sb.append("bGYuZ290byhwYXlsb2FkLmRlbHRhLmdvdG8sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAg");
    sb.append("IGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gc2hvdWxkbid0IHJlYWxpc3RpY2FsbHkg");
    sb.append("aGFwcGVuIFRPRE86IHZhbGlkYXRlIDwtIHRydXRoCiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZChmYWxz");
    sb.append("ZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24g");
    sb.append("KHJlYXNvbikgewogICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBmYWlsdXJlCiAgICAgICAgY28uc2V0X2Nv");
    sb.append("bm5lY3RlZChmYWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgICBpZiAocmVhc29uID09");
    sb.append("IDQwMzQwMyB8fCByZWFzb24gPT0gNDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAg");
    sb.append("IGNsZWFudXAoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gaXMgaXQgYW4g");
    sb.append("ZXhwZWN0ZWQgZXJyb3IgdGhhdCB3aWxsIGhhcHBlbiBhIGJ1bmNoPwogICAgICAgIHZhciBleHBlY3Rl");
    sb.append("ZF9lcnJvciA9IHJlYXNvbiA9PSA5OTk7CiAgICAgICAgLy8gZG8gd2Ugbm90IGtub3cgYWJvdXQgYW4g");
    sb.append("ZXJyb3IgdGhhdCBoYXBwZW5zIGEgYnVuY2g/IGlmIHNvLCB0aGVuIGxldCdzIGF0IGxlYXN0IHRyeSBh");
    sb.append("Z2FpbiBhIG51bWJlciBvZiBmaW5pdGUgdGltZXMuCiAgICAgICAgdmFyIGJsaW5kX3JldHJ5ID0gcmV0");
    sb.append("cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPCAxMDsKICAgICAgICBpZiAoYmxpbmRfcmV0cnkpIHsKICAg");
    sb.append("ICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzKys7CiAgICAgICAgfQogICAgICAgIC8vIHJl");
    sb.append("dHJ5IG9uIGVpdGhlciBjYXNlCiAgICAgICAgaWYgKGV4cGVjdGVkX2Vycm9yIHx8IGJsaW5kX3JldHJ5");
    sb.append("KSB7CiAgICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gTWF0aC5jZWlsKE1hdGgubWluKHJldHJ5X3Nt");
    sb.append("LmJhY2tvZmYgKyBNYXRoLnJhbmRvbSgpICogcmV0cnlfc20uYmFja29mZiArIChibGluZF9yZXRyeSA/");
    sb.append("IDEwMCA6IDEpLCAxMDAwKSk7CiAgICAgICAgICBjb25zb2xlLmxvZygiY29ubmVjdC1mYWlsdXJlfHJl");
    sb.append("dHJ5aW5nLi4uICgiICsgcmV0cnlfc20uYmFja29mZiArICIpOyByZWFzb249IiArIHJlYXNvbiArIChi");
    sb.append("bGluZF9yZXRyeSA/ICIgW2JsaW5kXSIgOiAiIikpOwogICAgICAgICAgLy8gVE9ETzogbmVlZCBhIGRp");
    sb.append("ZmZlcmVudCBmZWVkYmFjayBtZWNoYW5pc20gKG1heWJlIGEgbnVtYmVyIHVuZGVyIHRoZSB3aWZpIGlj");
    sb.append("b24/KQogICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJl");
    sb.append("dHJ5X3NtLmdvKCk7CiAgICAgICAgICB9LCByZXRyeV9zbS5iYWNrb2ZmKTsKICAgICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgICAgY29uc29sZS5sb2coImdhdmUgdXAgY29ubmVjdGlvbjsiICsgY28ubGFiZWwgKyAi");
    sb.append("OyByZWFzb249IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgdmFyIHNl");
    sb.append("dHVwX2NvID0gZnVuY3Rpb24oZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSkgewogICAgdmFyIHN5bmNf");
    sb.append("dHJlZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gbGV0J3MgY29weSBvdXQgdGhlIHRyZWUgZnJvbSB0");
    sb.append("aGUgdmlld3N0YXRlCiAgICAgIHZhciBuZXdfdHJlZSA9IHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJl");
    sb.append("ZS5jb3B5KCkpOwoKICAgICAgLy8gaWYgd2UgaGF2ZSBnb3QgYSBmaWx0ZXIgZnJvbSB0aGUgc2VydmVy");
    sb.append("LCB0aGVuIGxldCdzIGZpbHRlcgogICAgICBpZiAoY28uaGFzX2ZpbHRlcikgewogICAgICAgIC8vIHJl");
    sb.append("Y29uc3RydWN0IHRoZSBuZXcgdmlldyBiYXNlZCBvbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBmaWx0");
    sb.append("ZXIgYW5kIHRoZSBuZXcgc3RhdGUKICAgICAgICB2YXIgZmlsdGVyZWQgPSB7fTsKICAgICAgICBmb3Ig");
    sb.append("KHZhciBrIGluIG5ld190cmVlKSB7CiAgICAgICAgICBpZiAoY28uZmlsdGVyW2tdKSB7CiAgICAgICAg");
    sb.append("ICAgIGZpbHRlcmVkW2tdID0gbmV3X3RyZWVba107CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg");
    sb.append("IC8vIGFzc3VtZSB0aGUgbmV3IHRyZWUKICAgICAgICBuZXdfdHJlZSA9IGZpbHRlcmVkOwogICAgICB9");
    sb.append("CiAgICAgIC8vIGlmIHRoZSBjbG9uZSAoaS5lLiBzdHJpbmdpZmllZCB2ZXJzaW9uKSBpcyB0aGUgc2Ft");
    sb.append("ZSBhcyB3aGF0IHdlIGxhc3Qgc2VudCwgdGhlbiBkb24ndCBzZW5kIGFueXRoaW5nCiAgICAgIHZhciBw");
    sb.append("cmlvcl9jbG9uZSA9IEpTT04uc3RyaW5naWZ5KG5ld190cmVlKTsKICAgICAgaWYgKHByaW9yX2Nsb25l");
    sb.append("ID09IGNvLnZpZXdzdGF0ZV9jbG9uZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjby52");
    sb.append("aWV3c3RhdGVfc2VudCA9IGZhbHNlOwogICAgICBjby52c3NlcSsrOwogICAgICBjby5zeW5jKCk7CiAg");
    sb.append("ICAgIHZhciBzeW5jZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvLnZzc2VxID09IHRoaXMu");
    sb.append("Ym91bmQpIHsKICAgICAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgICAgIGNvLnN5");
    sb.append("bmMoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh7IGJvdW5kOiBjby52c3NlcSB9KTsKICAgICAgY28u");
    sb.append("dmlld3N0YXRlX2Nsb25lID0gSlNPTi5zdHJpbmdpZnkobmV3X3RyZWUpOwogICAgICBjby5wdHIudXBk");
    sb.append("YXRlKG5ld190cmVlLCB7IHN1Y2Nlc3M6IHN5bmNlZCwgZmFpbHVyZTogc3luY2VkIH0pOwogICAgfTsK");
    sb.append("ICAgIHZhciBiaW5kID0gZnVuY3Rpb24gKHNlbmROb3cpIHsKICAgICAgdW5zdWIudmlldyA9IHN0YXRl");
    sb.append("LnZpZXcudHJlZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChjby5wdHIgPT0gbnVs");
    sb.append("bCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBzeW5jX3RyZWUoKTsKICAgICAg");
    sb.append("fSk7CiAgICAgIGlmIChzZW5kTm93KSB7CiAgICAgICAgc3luY190cmVlKCk7CiAgICAgIH0KICAgIH07");
    sb.append("CiAgICBpZiAoY28ucHRyICE9IG51bGwgJiYgY28uYm91bmQgPT0gZGVzaXJlZCkgewogICAgICBiaW5k");
    sb.append("KHRydWUpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBpZiAoY28ucHRyICE9IG51bGwpIHsK");
    sb.append("ICAgICAgY28ucHRyLmVuZCh7IHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rp");
    sb.append("b24gKCkgeyB9IH0pOwogICAgICBjby5wdHIgPSBudWxsOwogICAgfQogICAgcmV0dXJuIGJpbmQ7CiAg");
    sb.append("fTsKCiAgLy8gPGNvbm5lY3Rpb24gYmlsbGluZyAuLi4+CiAgc2VsZi5CQ09OTkVDVCA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1YiA9IHsKICAgICAgdmlldzogZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18gPSBkZWJvdW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIGlmICghKCduYW1lJyBpbiByeG9iaikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAg");
    sb.append("dmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24gKCkgeyByZXR1cm4g");
    sb.append("cnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgICByZXR1");
    sb.append("cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4b2JqLm5hbWUpOwog");
    sb.append("ICAgICB2YXIgZGVzaXJlZCA9ICI6YmlsbGluZzoiICsgaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZh");
    sb.append("ciBiaW5kID0gc2V0dXBfY28oZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5k");
    sb.append("ID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2ly");
    sb.append("ZWQ7CiAgICAgIHZhciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgY2xlYW51");
    sb.append("cCA9IGlkTG9va3VwLmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uaWRlbnRpdHkg");
    sb.append("PSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7fTsKICAgICAgY28udmlld3N0YXRlX3NlbnQg");
    sb.append("PSB0cnVlOwogICAgICBjby5sYWJlbCA9ICJCaWxsaW5nIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAg");
    sb.append("ICAgIGNvLnZpYV9iaWxsaW5nID0gdHJ1ZTsKICAgICAgY28udmlhX2RvbWFpbiA9IGZhbHNlOwogICAg");
    sb.append("ICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25k");
    sb.append("ZXIoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rp");
    sb.append("b24oKSB7CiAgICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9j");
    sb.append("bG9uZSA9ICJ7fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVjdGlvbi5CaWxsaW5nQ29ubmVjdGlvbkNy");
    sb.append("ZWF0ZShpZGVudGl0eSwgcmV0cnlfc20ucmVzcG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0cnlfc20u");
    sb.append("Z28oKTsKICAgICAgY28udHJlZS51cGRhdGUoe30pOwogICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwog");
    sb.append("IH07CgoKICBzZWxmLmRvbWFpbiA9IGxvY2F0aW9uLmhvc3RuYW1lOwogIHNlbGYuaG9zdCA9IGxvY2F0");
    sb.append("aW9uLmhvc3Q7CiAgc2VsZi5wcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sOwoKICBzZWxmLm1vYmls");
    sb.append("ZUluaXQgPSBmdW5jdGlvbihvdmVycmlkZURvbWFpbikgewogICAgc2VsZi5kb21haW4gPSBvdmVycmlk");
    sb.append("ZURvbWFpbjsKICAgIHNlbGYuaG9zdCA9IG92ZXJyaWRlRG9tYWluOwogICAgc2VsZi5wcm90b2NvbCA9");
    sb.append("ICJodHRwcyI7CiAgfTsKCiAgLy8gPGNvbm5lY3Rpb24gdXNlLWRvbWFpbiAuLi4+CiAgc2VsZi5EQ09O");
    sb.append("TkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1YiA9IHsKICAgICAgdmll");
    sb.append("dzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18gPSBkZWJvdW5jZSg1LCBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeG9iaikpIHsKICAgICAgICByZXR1cm47");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rp");
    sb.append("b24gKCkgeyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQp");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("KHJ4b2JqLm5hbWUpOwogICAgICB2YXIgZG9tYWluID0gc2VsZi5kb21haW47CiAgICAgIHZhciBkZXNp");
    sb.append("cmVkID0gZG9tYWluICsgaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28o");
    sb.append("ZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CgogICAgICB2YXIgaWRl");
    sb.append("bnRpdHkgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVh");
    sb.append("bnVwOwogICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAg");
    sb.append("IGNvLmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28u");
    sb.append("bGFiZWwgPSAiRG9tYWluOiIgKyBkb21haW4gKyAiIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAgICAg");
    sb.append("IGNvLnZpYV9kb21haW4gPSB0cnVlOwogICAgICBjby52aWFfYmlsbGluZyA9IGZhbHNlOwogICAgICBj");
    sb.append("by5kb21haW4gPSBkb21haW47CiAgICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5y");
    sb.append("ZXNwb25kZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgc3RhdGUsIGNsZWFudXAsIHJldHJ5X3NtKTsKICAg");
    sb.append("ICAgcmV0cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3");
    sb.append("CiAgICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0");
    sb.append("aW9uLkNvbm5lY3Rpb25DcmVhdGVWaWFEb21haW4oaWRlbnRpdHksIGRvbWFpbiwgc2FmZV9maWx0ZXIo");
    sb.append("c3RhdGUudmlldy50cmVlLmNvcHkoKSksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAg");
    sb.append("IHJldHJ5X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7");
    sb.append("CiAgICB9KTsKICB9OwoKICAvLyA8Y29ubmVjdGlvbiAuLi4+CiAgc2VsZi5DT05ORUNUID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlLCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgdmFyIHZhbGlkID0gJ2tleScgaW4gcnhvYmogJiYgJ3NwYWNlJyBpbiByeG9iaiAmJiAnbmFt");
    sb.append("ZScgaW4gcnhvYmo7CiAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAg");
    sb.append("ICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24gKCkgeyByZXR1");
    sb.append("cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgICBy");
    sb.append("ZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4b2JqLm5hbWUp");
    sb.append("OwogICAgICB2YXIgZGVzaXJlZCA9IHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsg");
    sb.append("aWRMb29rdXAuaWRlbnRpdHk7IC8vIFRPRE86IG5lZWQgc29tZSBraW5kIG9mIGhhc2hpbmcgZnVuY3Rp");
    sb.append("b24gaGVyZQogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUp");
    sb.append("OwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAg");
    sb.append("Y28uYm91bmQgPSBkZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7");
    sb.append("CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwog");
    sb.append("ICAgICBjby5zcGFjZSA9IHJ4b2JqLnNwYWNlOwogICAgICBjby5rZXkgPSByeG9iai5rZXk7CiAgICAg");
    sb.append("IGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgIGNvLmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZp");
    sb.append("ZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28ubGFiZWwgPSBjby5zcGFjZSArICIvIiArIGNvLmtl");
    sb.append("eSArICIgWyAiICsgcnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9IGZhbHNlOwog");
    sb.append("ICAgICBjby52aWFfYmlsbGluZyA9IGZhbHNlOwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAg");
    sb.append("cmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRy");
    sb.append("eV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gYmlhcyB0byBu");
    sb.append("b3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9ICJ7fSI7CiAgICAgICAgY28ucHRy");
    sb.append("ID0gY29ubmVjdGlvbi5Db25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByeG9iai5zcGFjZSwgcnhvYmou");
    sb.append("a2V5LCBzYWZlX2ZpbHRlcihzdGF0ZS52aWV3LnRyZWUuY29weSgpKSwgcmV0cnlfc20ucmVzcG9uZGVy");
    sb.append("KTsKICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgY28udHJlZS51cGRhdGUoe30pOwog");
    sb.append("ICAgICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07CgogIHNlbGYuSU5URVJOQUwgPSBmdW5jdGlvbiAo");
    sb.append("cHJpb3JTdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgc2VydmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNl");
    sb.append("LAogICAgICBkYXRhOiB7IGNvbm5lY3Rpb246IG51bGwsIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwgZGVs");
    sb.append("dGE6IHt9LCBwYXJlbnQ6IG51bGwsIHBhdGg6IG51bGwgfSwKICAgICAgdmlldzogbmV3X2RlbHRhX2Nv");
    sb.append("cHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDogImRhdGEiCiAgICB9OwogIH07CgogIHZh");
    sb.append("ciByZWNhbGxfZW1haWwgPSBmdW5jdGlvbiAoZWwpIHsKICAgIGlmIChlbC50YWdOYW1lLnRvVXBwZXJD");
    sb.append("YXNlKCkgPT0gIklOUFVUIikgewogICAgICBpZiAoImVtYWlsIiA9PSBlbC50eXBlICYmICJlbWFpbCIg");
    sb.append("PT0gZWwubmFtZSkgewogICAgICAgIGVsLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImVtYWls");
    sb.append("X3JlbWVtYmVyIik7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVs");
    sb.append("KSB7CiAgICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0");
    sb.append("aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgcmVjYWxsX2Vt");
    sb.append("YWlsKGVsLmNoaWxkcmVuW2tdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICBzZWxmLmFV");
    sb.append("UCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlk");
    sb.append("TG9va3VwID0gc2VsZi5JRChpZGVudGl0eU5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4");
    sb.append("X2ZvcndhcmQ7IH0pOyAvLyBUT0RPOiBtYWtlIHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsK");
    sb.append("ICAgICAgcmV0dXJuOwogICAgfQogICAgZm9ybS5hY3Rpb24gPSAiaHR0cHM6Ly9hd3MtdXMtZWFzdC0y");
    sb.append("LmFkYW1hLXBsYXRmb3JtLmNvbS9+dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAg");
    sb.append("Zm9ybS5lbmN0eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwogICAgdmFyIGlkZW50aXR5SW5wdXQg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgaWRlbnRpdHlJbnB1dC50eXBlID0g");
    sb.append("ImhpZGRlbiI7CiAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgaWRlbnRpdHlJ");
    sb.append("bnB1dC52YWx1ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0");
    sb.append("eUlucHV0KTsKICAgIHZhciBpZnJhbWVUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJh");
    sb.append("bWUiKTsKICAgIGlmcmFtZVRhcmdldC5uYW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAg");
    sb.append("IGlmcmFtZVRhcmdldC53aWR0aCA9ICIxIjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7Cgog");
    sb.append("ICAgZm9ybS5hcHBlbmRDaGlsZChpZnJhbWVUYXJnZXQpOwogICAgZm9ybS50YXJnZXQgPSBpZnJhbWVU");
    sb.append("YXJnZXQubmFtZTsKICB9OwoKICBzZWxmLmFEVVAgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50");
    sb.append("aXR5TmFtZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRlbnRpdHlOYW1lLCBm");
    sb.append("dW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9ETzogbWFrZSByeHZh");
    sb.append("cgogICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvcm0uYWN0");
    sb.append("aW9uID0gc2VsZi5wcm90b2NvbCArICIvLyIgKyBzZWxmLmhvc3QgKyAiL351cGxvYWQiOwogICAgZm9y");
    sb.append("bS5tZXRob2QgPSAicG9zdCI7CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7");
    sb.append("CiAgICB7CiAgICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5w");
    sb.append("dXQiKTsKICAgICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRlbiI7CiAgICAgIGlkZW50aXR5SW5w");
    sb.append("dXQubmFtZSA9ICJpZGVudGl0eSI7CiAgICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5p");
    sb.append("ZGVudGl0eTsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIH0KICAgIHsK");
    sb.append("ICAgICAgdmFyIGRvbWFpbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAg");
    sb.append("ICAgZG9tYWluSW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgICBkb21haW5JbnB1dC5uYW1lID0gImRv");
    sb.append("bWFpbiI7CiAgICAgIGRvbWFpbklucHV0LnZhbHVlID0gc2VsZi5kb21haW47CiAgICAgIGZvcm0uYXBw");
    sb.append("ZW5kQ2hpbGQoZG9tYWluSW5wdXQpOwogICAgfQogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3VtZW50");
    sb.append("LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FEXyIg");
    sb.append("KyBNYXRoLnJhbmRvbSgpOwogICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1lVGFy");
    sb.append("Z2V0LmhlaWdodCA9ICIxIjsKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFyZ2V0KTsKICAgIGZv");
    sb.append("cm0udGFyZ2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlv");
    sb.append("bj1kb21haW46c2lnbi1pbgogIHNlbGYuYWREU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50");
    sb.append("aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5v");
    sb.append("bnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAg");
    sb.append("IHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1");
    sb.append("dGhvcml6ZURvbWFpbihzZWxmLmRvbWFpbiwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAg");
    sb.append("ICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVu");
    sb.append("dGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8v");
    sb.append("IFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2Zv");
    sb.append("cndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAg");
    sb.append("ICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0pOwogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9jdW1lbnQ6c2lnbi1pbgog");
    sb.append("IHNlbGYuYURTTyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewog");
    sb.append("ICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24g");
    sb.append("KGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3Jt");
    sb.append("KGZvcm0sIHRydWUpOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplKHJlcS5zcGFjZSwg");
    sb.append("cmVxLmtleSwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5j");
    sb.append("dGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9h");
    sb.append("ZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRl");
    sb.append("bnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBj");
    sb.append("b25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAg");
    sb.append("ICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcg");
    sb.append("aW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwoK");
    sb.append("CiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbi1yZXNldAogIHNlbGYuYWREU09y");
    sb.append("ID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5f");
    sb.append("XyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAg");
    sb.append("ICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1");
    sb.append("ZSk7CiAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemVEb21haW5XaXRoUmVzZXQoc2VsZi5k");
    sb.append("b21haW4sIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCByZXEubmV3X3Bhc3N3b3JkLHsKICAgICAg");
    sb.append("ICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0");
    sb.append("eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJp");
    sb.append("ZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRP");
    sb.append("RE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2Zvcndh");
    sb.append("cmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAg");
    sb.append("IGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAi");
    sb.append("RmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0p");
    sb.append("OwogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9jdW1lbnQ6c2lnbi1pbi1yZXNl");
    sb.append("dAogIHNlbGYuYURTT3IgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmop");
    sb.append("IHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0");
    sb.append("aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRf");
    sb.append("Zm9ybShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZVdpdGhSZXNl");
    sb.append("dChyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCByZXEubmV3X3Bh");
    sb.append("c3N3b3JkLHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRl");
    sb.append("bnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3Rv");
    sb.append("cmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsK");
    sb.append("ICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAg");
    sb.append("ICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVf");
    sb.append("ZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwoKICBzZWxmLmF1dG9nZW5pZCA9IDE7CiAgc2VsZi5Y");
    sb.append("ID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmF1dG9nZW5pZCsrOwogICAgcmV0dXJuICd4JyArIHNlbGYu");
    sb.append("YXV0b2dlbmlkOwogIH07CgogIHZhciB0cmFuc2Zvcm1zID0ge307CiAgdHJhbnNmb3Jtc1sncHJpbmNp");
    sb.append("cGFsLmFnZW50J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4LmFnZW50OyB9OwogIHRyYW5zZm9ybXNb");
    sb.append("J3ByaW5jaXBhbC5hdXRob3JpdHknXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHguYXV0aG9yaXR5OyB9");
    sb.append("OwogIHRyYW5zZm9ybXNbJ3RyaW0nXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRyaW0o");
    sb.append("KTsgfTsKICB0cmFuc2Zvcm1zWyd1cHBlciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCku");
    sb.append("dG9VcHBlckNhc2UoKTsgfTsKICB0cmFuc2Zvcm1zWydsb3dlciddID0gZnVuY3Rpb24oeCkgeyByZXR1");
    sb.append("cm4gKCcnICsgeCkudG9Mb3dlckNhc2UoKTsgfTsKICB0cmFuc2Zvcm1zWydpc19lbXB0eV9zdHInXSA9");
    sb.append("IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggPT0gIiI7IH07CiAgdHJhbnNmb3Jtc1snaXNfbm90X2VtcHR5");
    sb.append("X3N0ciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geCAhPSAiIjsgfTsKICB0cmFuc2Zvcm1zWydqc29u");
    sb.append("aWZ5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiBKU09OLnN0cmluZ2lmeSh4KTsgfTsKICB0cmFuc2Zv");
    sb.append("cm1zWyd0aW1lX25vdyddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gRGF0ZS5ub3coKSArICIiOyB9Owog");
    sb.append("IHRyYW5zZm9ybXNbJ3NpemVfYnl0ZXMnXSA9IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4w");
    sb.append("OwogICAgaWYgKHR5cGVvZih4cmF3KSA9PSAnbnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIHRyeSB7CiAgICAgICAgeCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0");
    sb.append("Y2ggKGV4KSB7CgogICAgICB9CiAgICB9CiAgICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICBp");
    sb.append("ZiAoaXZhbCA8IDEwMjQpIHsKICAgICAgcmV0dXJuIGl2YWwgKyAiIEIiOwogICAgfQogICAgaXZhbCAv");
    sb.append("PSAxMDI0OwogICAgaWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGl2YWwg");
    sb.append("KiAxMCkgLyAxMC4wICsgIiBLQiI7CiAgICB9CiAgICBpdmFsIC89IDEwMjQ7CiAgICBpZiAoaXZhbCA8");
    sb.append("IDEwMjQpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoaXZhbCAqIDEwKSAvIDEwLjAgKyAiIE1CIjsK");
    sb.append("ICAgIH0KICAgIGl2YWwgLz0gMTAyNDsKICAgIGlmIChpdmFsIDwgMTAyNCkgewogICAgICByZXR1cm4g");
    sb.append("TWF0aC5yb3VuZChpdmFsICogMTApIC8gMTAuMCArICIgR0IiOwogICAgfQogIH0KICB0cmFuc2Zvcm1z");
    sb.append("Wyd2dWxnYXJfZnJhY3Rpb24nXSA9IGZ1bmN0aW9uKHhyYXcpIHsKICAgIHZhciB4ID0gMC4wOwogICAg");
    sb.append("aWYgKHR5cGVvZih4cmF3KSA9PSAnbnVtYmVyJykgewogICAgICB4ID0geHJhdzsKICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgIHRyeSB7CiAgICAgICAgeCA9IHBhcnNlRmxvYXQoeHJhdyk7CiAgICAgIH0gY2F0Y2ggKGV4");
    sb.append("KSB7CgogICAgICB9CiAgICB9CiAgICB2YXIgaXZhbCA9IE1hdGguZmxvb3IoeCk7CiAgICB2YXIgY2hh");
    sb.append("bmdlID0geCAtIGl2YWw7CiAgICB2YXIgc3VmZml4ID0gIiI7CiAgICBpZiAoY2hhbmdlIDw9IDAuMDYy");
    sb.append("NSkgewogICAgICAvLyAwCiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjE4NzUpIHsKICAgICAgc3Vm");
    sb.append("Zml4ID0gIuKFmyI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjMxMjUpIHsKICAgICAgc3VmZml4");
    sb.append("ID0gIsK8IjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuNDM3NSkgewogICAgICBzdWZmaXggPSAi");
    sb.append("4oWcIjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuNTYyNSkgewogICAgICBzdWZmaXggPSAiwr0i");
    sb.append("OwogICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0gMC42ODc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ0iOwog");
    sb.append("ICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0gMC44MTI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCviI7IC8vIDMv");
    sb.append("NAogICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0gMC45Mzc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZ4iOwog");
    sb.append("ICAgfSAvLyBlbHNlIDEKICAgIHJldHVybiBpdmFsICsgc3VmZml4OwogIH0KICB0cmFuc2Zvcm1zWyd0");
    sb.append("aW1lX2FnbyddID0gZnVuY3Rpb24oZHQpIHsKICAgIC8vIG9ubHkgdHJhbnNmb3JtIHN0cmluZ3MKICAg");
    sb.append("IGlmICh0eXBlb2YgKGR0KSA9PSAic3RyaW5nIikgewogICAgICAvLyBsZXQncyBzdHJpcCBvdXQgZXZl");
    sb.append("cnl0aGluZyBhZnRlciB0aGUgYnJhY2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAgICAgdmFyIGsgPSBz");
    sb.append("LmluZGV4T2YoJ1snKTsKICAgICAgaWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBzLnN1YnN0cmluZygw");
    sb.append("LCBrKTsKICAgICAgfQogICAgICB2YXIgZCA9IERhdGUucGFyc2Uocyk7CiAgICAgIGlmIChOdW1iZXIu");
    sb.append("aXNOYU4oZCkpIHsKICAgICAgICAvLyBpdCBpc24ndCBhIG51bWJlciwgc28gd2UgZGlkbid0IGdldCBh");
    sb.append("IGRhdGUgc3RhbXA7IGRlZmF1bHQgdG8gdGhlIGlucHV0CiAgICAgICAgcmV0dXJuIGR0OwogICAgICB9");
    sb.append("CiAgICAgIC8vIHdlIGFyZSBpbnRlcmVzdGVkIGluIHByb2R1Y2luZyBhIHN0cmluZyBsaWtlICJYIG1p");
    sb.append("bnV0ZXMgYWdvIiwgc28gc3RhcnQgd2l0aCBzZWNvbmRzCiAgICAgIHZhciBkZWx0YSA9IChEYXRlLm5v");
    sb.append("dygpIC0gZCkvMTAwMDsgLy8gc2Vjb25kczsKICAgICAgaWYgKGRlbHRhIDwgNjApIHsKICAgICAgICBy");
    sb.append("ZXR1cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIHNlY29uZHMgYWdvIjsKICAgICAgfQogICAgICAvLyBp");
    sb.append("dCB3YXNuJ3QgOTAgc2Vjb25kcyBhZ28gb3IgbGVzcywgc28gbGV0J3MgcmVmaW5lIHRvd2FyZHMgbWlu");
    sb.append("dXRlcwogICAgICBkZWx0YSAvPSA2MDsgLy8gbm93IGl0IGlzIG1pbnV0ZXMKICAgICAgaWYgKGRlbHRh");
    sb.append("IDwgNjApIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIG1pbnV0ZXMgYWdvIjsK");
    sb.append("ICAgICAgfQogICAgICAvLyBpdCB3YXNuJ3QgOTAgbWludXRlcyBhZ28sIHNvIGxldCdzIGp1c3QgcHV0");
    sb.append("IHRoZSB0aW1lIHN0YW1wIHVwCiAgICAgIHZhciBkdGhlbiA9IG5ldyBEYXRlKGQpOwogICAgICB2YXIg");
    sb.append("ZG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIGlmIChkdGhlbi50b0xvY2FsZURhdGVTdHJpbmcoKSAhPSBk");
    sb.append("bm93LnRvTG9jYWxlRGF0ZVN0cmluZygpKSB7CiAgICAgICAgcmV0dXJuIGR0aGVuLnRvTG9jYWxlRGF0");
    sb.append("ZVN0cmluZygpICsgIiAiICsgZHRoZW4udG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgIH0KICAgICAg");
    sb.append("cmV0dXJuIGR0aGVuLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgfSBlbHNlIHsKICAgICAgLy8gZG8g");
    sb.append("bm90aGluZwogICAgICByZXR1cm4gZHQ7CiAgICB9CiAgfTsKCiAgc2VsZi5SVFIgPSBmdW5jdGlvbihu");
    sb.append("YW1lLCB0cmFuc2Zvcm0pIHsKICAgIHRyYW5zZm9ybXNbbmFtZV0gPSB0cmFuc2Zvcm07CiAgfTsKICBz");
    sb.append("ZWxmLnJlZ2lzdGVyVHJhbnNmb3JtID0gc2VsZi5SVFI7CgogIC8vIHtibGFofG5hbWV9CiAgc2VsZi5U");
    sb.append("UiA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgIGlmIChuYW1lIGluIHRyYW5zZm9ybXMpIHsKICAgICAgcmV0");
    sb.append("dXJuIHRyYW5zZm9ybXNbbmFtZV07CiAgICB9CiAgICByZXR1cm4gZnVuY3Rpb24oeCkgeyByZXR1cm4g");
    sb.append("eDsgfTsKICB9OwoKICAvLyBUT0RPCiAgdmFyIHZhbGlkYXRvcnMgPSB7fTsKICBzZWxmLlJWID0gZnVu");
    sb.append("Y3Rpb24obmFtZSwgdmFsaWRhdG9yKSB7CiAgICB2YWxpZGF0b3JzW25hbWVdID0gdmFsaWRhdG9yOwog");
    sb.append("IH07CiAgc2VsZi5yZWdpc3RlclZhbGlkYXRvciA9IHNlbGYuUlY7CgogIHZhciBjb21tb25QdXQgPSBm");
    sb.append("dW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIHVybGZhY3RvcnkpIHsKICAg");
    sb.append("IC8vIFdJUAogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9uc3VibWl0ID0g");
    sb.append("ZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9");
    sb.append("IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAgICAgLy8gVE9ETzogdGhpcyBhc3N1bWVzIGV4YWN0bHkg");
    sb.append("b25lIHBhc3N3b3JkIGluIHRoZSByb290IG1lc3NhZ2UKICAgICAgdmFyIHB3cyA9IGdldF9wYXNzd29y");
    sb.append("ZChmb3JtKTsKCiAgICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1cmwgPSB1");
    sb.append("cmxmYWN0b3J5KHJ4b2JqKTsKICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsK");
    sb.append("ICAgICAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBp");
    sb.append("ZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIw");
    sb.append("MCkgewogICAgICAgICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVu");
    sb.append("dC1UeXBlIik7CiAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gInRleHQvZXJyb3IiKSB7CiAgICAgICAg");
    sb.append("ICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgdGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAg");
    sb.append("ICAgcmV0dXJuOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiYXBwbGljYXRpb24vanNv");
    sb.append("biIpIHsKICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNl");
    sb.append("VGV4dCk7CiAgICAgICAgICAgICAgICBpZiAoJ2lkZW50aXR5JyBpbiBwYXlsb2FkKSB7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAg");
    sb.append("ICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1l");
    sb.append("LCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgICAgICBm");
    sb.append("aXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmlyZV9m");
    sb.append("YWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gY29tbXVuaWNhdGUgdG8gc2VydmVyIik7CiAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHhodHRwLm9wZW4oIlBVVCIsIHVybCwgdHJ1");
    sb.append("ZSk7CiAgICAgICAgeGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICB4aHR0cC5zZW5k");
    sb.append("KEpTT04uc3RyaW5naWZ5KHJlcSkpOwogICAgICB9OwoKICAgICAgaWYgKHB3cyAhPT0gbnVsbCkgewog");
    sb.append("ICAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHB3c1sxXSwgewogICAgICAgICAg");
    sb.append("c3VjY2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICByZXFbcHdzWzBdXSA9IGhh");
    sb.append("c2hlZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgIH0sCiAgICAg");
    sb.append("ICAgICBmYWlsZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJG");
    sb.append("YWlsZWQgdG8gaGFzaCBwYXNzd29yZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVs");
    sb.append("c2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDph");
    sb.append("Y3Rpb249ZG9tYWluOnB1dAogIHNlbGYuYWREUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVu");
    sb.append("dGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwg");
    sb.append("cnhvYmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gc2VsZi5wcm90b2NvbCArICIvLyIgKyBzZWxm");
    sb.append("Lmhvc3QgKyAiLyIgKyByeG9iai5wYXRoOyB9KQogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249");
    sb.append("ZG9jdW1lbnQ6cHV0CiAgc2VsZi5hRFBVVCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlO");
    sb.append("YW1lLCByeG9iaikgewogICAgY29tbW9uUHV0KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2Jq");
    sb.append("LCBmdW5jdGlvbiAocnhvYmopIHsgcmV0dXJuICJodHRwczovLyIgKyBjb25uZWN0aW9uLmhvc3QgKyAi");
    sb.append("LyIgKyByeG9iai5zcGFjZSArICIvIiArIHJ4b2JqLmtleSArICIvIiArIHJ4b2JqLnBhdGg7IH0pCiAg");
    sb.append("fTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1hZGFtYTpzaWduLWluCiAgc2VsZi5hU08gPSBmdW5j");
    sb.append("dGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVu");
    sb.append("Y3Rpb24gKCkgeyB9OwogICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByZWNh");
    sb.append("bGxfZW1haWwoZm9ybSk7CiAgICB9LCAxKTsKICAgIC8vIFRPRE86IHB1bGwgZW1haWwgb3V0IG9mIHRo");
    sb.append("aW4gYWlyCiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVu");
    sb.append("dERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBpZiAo");
    sb.append("cmVxLnJlbWVtYmVyKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVtYmVy");
    sb.append("IiwgcmVxLmVtYWlsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgi");
    sb.append("ZW1haWxfcmVtZW1iZXIiLCAiIik7CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5BY2NvdW50TG9naW4o");
    sb.append("cmVxLmVtYWlsLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9h");
    sb.append("ZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsK");
    sb.append("ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBw");
    sb.append("YXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxz");
    sb.append("ZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJl");
    sb.append("OiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkFjY291bnRM");
    sb.append("b2dpbiBGYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IHJ4OmFjdGlvbj1hZGFtYTpzaWduLXVwCiAgc2VsZi5hU1UgPSBmdW5jdGlvbiAo");
    sb.append("Zm9ybSwgc3RhdGUsIGZvcndhcmRUbykgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQp");
    sb.append("IHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3Jt");
    sb.append("KTsKICAgICAgY29ubmVjdGlvbi5Jbml0U2V0dXBBY2NvdW50KHJlcS5lbWFpbCwgewogICAgICAgIHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uICgvKiBwYXlsb2FkICovKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0");
    sb.append("SXRlbSgiZW1haWwiLCByZXEuZW1haWwpOwogICAgICAgICAgc2VsZi5nb3RvKGZvcndhcmRUbywgZmFs");
    sb.append("c2UpOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVy");
    sb.append("ZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJJbml0U2V0");
    sb.append("dXBBY2NvdW50IEZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9");
    sb.append("OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNldC1wYXNzd29yZAogIHNlbGYuYVNQID0g");
    sb.append("ZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5j");
    sb.append("dGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0");
    sb.append("X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGlmICghKCJlbWFpbCIgaW4gcmVxKSkgewogICAgICAgIHJl");
    sb.append("cS5lbWFpbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbCIpOwogICAgICB9CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24uSW5pdENvbXBsZXRlQWNjb3VudChyZXEuZW1haWwsIGZhbHNlLCByZXEuY29kZSwgewogICAg");
    sb.append("ICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChpbml0KSB7CiAgICAgICAgICB2YXIgaWRlbnRpdHkgPSBpbml0");
    sb.append("LmlkZW50aXR5OwogICAgICAgICAgY29ubmVjdGlvbi5BY2NvdW50U2V0UGFzc3dvcmQoaW5pdC5pZGVu");
    sb.append("dGl0eSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIGlkZW50aXR5");
    sb.append("KTsKICAgICAgICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvLCBmYWxzZSk7CiAgICAgICAgICAgICAg");
    sb.append("ZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmYWlsdXJlOiBmdW5j");
    sb.append("dGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgQWNj");
    sb.append("b3VudFNldFBhc3N3b3JkOiIgKyByZWFzb24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAg");
    sb.append("ICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVf");
    sb.append("ZmFpbHVyZShmb3JtLCAiRmFpbGVkIEluaXRDb21wbGV0ZUFjY291bnQ6IiArIHJlYXNvbik7CiAgICAg");
    sb.append("ICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCgogIHZhciBoeWRyYXRlX2Zvcm0gPSBmdW5jdGlvbihl");
    sb.append("bCwgaW5wdXQpIHsKICAgIHZhciB0YWcgPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICB2YXIg");
    sb.append("aXNTZXR0YWJsZSA9IHRhZyA9PSAiU0VMRUNUIiB8fCB0YWcgPT0gIklOUFVUIiB8fCB0YWcgPT0gIkhJ");
    sb.append("RERFTiI7CiAgICBpZiAoJ25hbWUnIGluIGVsICYmIGlzU2V0dGFibGUpIHsKICAgICAgdmFyIG5hbWUg");
    sb.append("PSBlbC5uYW1lOwogICAgICB2YXIgcGF5bG9hZCA9IGlucHV0OwogICAgICB2YXIga0RvdE9yU2xhc2gg");
    sb.append("PSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdo");
    sb.append("aWxlIChrRG90T3JTbGFzaCA+IDApIHsKICAgICAgICB2YXIgaXRlbSA9IG5hbWUuc3Vic3RyaW5nKDAs");
    sb.append("IGtEb3RPclNsYXNoKTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoa0RvdE9yU2xhc2ggKyAx");
    sb.append("KTsKICAgICAgICBpZiAoaXRlbSBpbiBwYXlsb2FkKSB7CiAgICAgICAgICBwYXlsb2FkID0gcGF5bG9h");
    sb.append("ZFtpdGVtXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAg");
    sb.append("ICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZign");
    sb.append("LycpKTsKICAgICAgfQogICAgICBpZiAobmFtZSBpbiBwYXlsb2FkKSB7CiAgICAgICAgdmFyIHR5cGUg");
    sb.append("PSBlbC50eXBlLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgaWYgKHR5cGUgPT0gIkNIRUNLQk9YIikgewog");
    sb.append("ICAgICAgICAgZWwuY2hlY2tlZCA9IHBheWxvYWRbbmFtZV0gPT0gInRydWUiIHx8IHBheWxvYWRbbmFt");
    sb.append("ZV0gPT09IHRydWUgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJ");
    sb.append("TyIpIHsKICAgICAgICAgIGlmIChwYXlsb2FkW25hbWVdID09IGVsLnZhbHVlKSB7CiAgICAgICAgICAg");
    sb.append("IGVsLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBl");
    sb.append("bC52YWx1ZSA9IHBheWxvYWRbbmFtZV07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAoImNo");
    sb.append("aWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgIHZhciBuID0g");
    sb.append("YXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICB2YXIg");
    sb.append("Y2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICBoeWRyYXRlX2Zvcm0oY2gsIGlucHV0KTsKICAgICAg");
    sb.append("fQogICAgfQogIH0KCgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb246Y29weS1mb3JtOiR0YXJnZXQtaWQK");
    sb.append("ICBzZWxmLmFDRiA9IGZ1bmN0aW9uKGZvcm0sIHRhcmdldEZvcm1JZCkgewogICAgZm9ybS5vbnN1Ym1p");
    sb.append("dCA9IGZ1bmN0aW9uKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGlu");
    sb.append("cHV0ID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0");
    sb.append("RWxlbWVudEJ5SWQodGFyZ2V0Rm9ybUlkKTsKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIGh5ZHJh");
    sb.append("dGVfZm9ybSh0YXJnZXQsIGlucHV0KTsKICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSkKICAgICAgfSBl");
    sb.append("bHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgImZhaWxlZCB0byBmaW5kIGZvcm0gYnkgaWQg");
    sb.append("JyIgKyB0YXJnZXRGb3JtSWQgKyAiJyIpOwogICAgICB9CiAgICB9OwogIH07CgogIC8vIFJVTlRJTUUg");
    sb.append("fCByeDphY3Rpb249c2VuZDokY2hhbm5lbAogIHNlbGYuYVNEID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRl");
    sb.append("LCBjaGFubmVsKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQu");
    sb.append("cHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIG1zZyA9IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAg");
    sb.append("ICAgLy8gVE9ETzogcGFzcyB0aHJvdWdoIHRoZSBkZWJ1Z2dlcgogICAgICBzdGF0ZS5kYXRhLmNvbm5l");
    sb.append("Y3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgbXNnLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKC8q");
    sb.append("IHBheWxvYWQgKi8pIHsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAg");
    sb.append("ICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3Jt");
    sb.append("LCAiU2VuZCBmYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfTsK");
    sb.append("ICAvLyA8dG9kb3Rhc2s+ZGVzY3JpcHRpb248L3RvZG90YXNrPgogIHNlbGYuVEFTSyA9IGZ1bmN0aW9u");
    sb.append("KHBkb20sIGlkLCBzZWN0aW9uLCBkZXNjcmlwdGlvbikgewogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gIiYjOTc0NDsgIiAr");
    sb.append("IGRlc2NyaXB0aW9uICsgIiAoICIgKyBzZWN0aW9uICsgIikgPGJyIC8+IjsKICAgIHBkb20uYXBwZW5k");
    sb.append("Q2hpbGQoZWxlbWVudCk7CiAgfTsKICAvLyBSVU5USU1FOiBwcmUtY29tcHJlc3Npb24gZm9yIHNldHRp");
    sb.append("bmcgYW4gYXR0cmlidXRlCiAgLy8gImQuc2V0QXR0cmlidXRlKGEsdik7IiAtLT4KICAvLyAkLlNBKGQs");
    sb.append("YSx2KTsiCiAgc2VsZi5TQSA9IGZ1bmN0aW9uKGRvbSwgYXR0ciwgdmFsdWUpIHsKICAgIGRvbS5zZXRB");
    sb.append("dHRyaWJ1dGUoYXR0ciwgdmFsdWUpOwogIH07CiAgLy8gUlVOVElNRSB8IDwuLi4gaHJlZj0iIiAuLi4+");
    sb.append("CiAgc2VsZi5IUkVGID0gZnVuY3Rpb24gKGRvbSwgaHJlZikgewogICAgZG9tLnNldEF0dHJpYnV0ZSgi");
    sb.append("aHJlZiIsIGZpeEhyZWYoaHJlZikpOwogICAgZG9tLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7CiAg");
    sb.append("ICAgIHZhciBwYXJ0cyA9IChocmVmLnN0YXJ0c1dpdGgoIi8iKSA/IGhyZWYuc3Vic3RyaW5nKDEpIDog");
    sb.append("aHJlZikuc3BsaXQoIi8iKTsKICAgICAgaWYgKHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIHt9KSkgewog");
    sb.append("ICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHNlbGYuZ290byhocmVmLCB0cnVlKTsK");
    sb.append("ICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogIH07");
    sb.append("CiAgLy8gUlVOVElNRSB8IDwuLi4gY2xhc3M9IiIgLi4uPgogIHNlbGYuQUMgPSBmdW5jdGlvbiAoZG9t");
    sb.append("LCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB2YWx1ZSk7CiAgfTsKICBzZWxm");
    sb.append("LkFDTEFTUyA9IGZ1bmN0aW9uIChkb20sIHZhbHVlKSB7IC8vIHRvIGRlcHJlY2F0ZSBpbiB0aGUgZnV0");
    sb.append("dXJlCiAgICBkb20uc2V0QXR0cmlidXRlKCJjbGFzcyIsIHZhbHVlKTsKICB9OwogIC8vIFJVTlRJTUUg");
    sb.append("fCA8Li4uIHNyYz0iIiAuLi4+CiAgc2VsZi5BU1JDID0gZnVuY3Rpb24gKGRvbSwgdmFsdWUpIHsKICAg");
    sb.append("IGRvbS5zZXRBdHRyaWJ1dGUoInNyYyIsIHZhbHVlKTsKICB9OwogIHdpbmRvdy5yeGh0bWwgPSBzZWxm");
    sb.append("OwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm4g");
    sb.append("ZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwog");
    sb.append("ICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwogIGFzeW5jIHdhaXRfY29u");
    sb.append("bmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlz");
    sb.append("ZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgIH0pOwogICAgfSBlbHNl");
    sb.append("IHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0aGlzLm9uc3RhdHVzY2hh");
    sb.append("bmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAgICAgICBzZWxm");
    sb.append("Lm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAgICAgcHJpb3Ioc3RhdHVz");
    sb.append("KTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0cnVlKTsKICAgICAgICAg");
    sb.append("ICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAg");
    sb.append("IH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25yZWNvbm5lY3QuZm9yRWFj");
    sb.append("aChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAgIH0pOwogIH0KCiAgLyoq");
    sb.append("IGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8K");
    sb.append("ICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHNtLmZpcnN0ID0gdHJ1");
    sb.append("ZTsKICAgIGlmIChzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAg");
    sb.append("ICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAgc20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZh");
    sb.append("aWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRl");
    sb.append("cikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3Bv");
    sb.append("bmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRl");
    sb.append("KHNtLmlkKTsKICAgIH0pKSB7CiAgICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAg");
    sb.append("ICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoc20p");
    sb.append("OwogICAgICB9OwogICAgICByZXR1cm4gc207CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8q");
    sb.append("KiBleGVjdXRlIGEgc3RyZWFtIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gc3RhdGUgbWFjaGluZSAqLwog");
    sb.append("IF9fZXhlY3V0ZV9zdHJlYW0oc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGlmIChzZWxmLl93");
    sb.append("cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBp");
    sb.append("biByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAg");
    sb.append("ICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAg");
    sb.append("ICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0");
    sb.append("ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9");
    sb.append("KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNldChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuX19leGVjdXRlX3N0cmVhbShzbSk7CiAgICAgIH07");
    sb.append("CiAgICAgIHJldHVybiBzbTsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgX19pZCgpIHsKICAg");
    sb.append("IHRoaXMubmV4dElkKys7CiAgICByZXR1cm4gdGhpcy5uZXh0SWQ7CiAgfQoKICAvKipbQkVHSU4tSU5W");
    sb.append("T0tFXSoqLwogIEluaXRTZXR1cEFjY291bnQoZW1haWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvc2V0dXAtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6");
    sb.append("IGVtYWlsfQogICAgfSk7CiAgfQogIEluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NUb2tlbiwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb252ZXJ0LWdvb2ds");
    sb.append("ZS11c2VyIiwgImlkIjpwYXJJZCwgImFjY2Vzcy10b2tlbiI6IGFjY2Vzc1Rva2VufQogICAgfSk7CiAg");
    sb.append("fQogIEluaXRDb21wbGV0ZUFjY291bnQoZW1haWwsIHJldm9rZSwgY29kZSwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiaW5pdC9jb21wbGV0ZS1hY2NvdW50IiwgImlkIjpw");
    sb.append("YXJJZCwgImVtYWlsIjogZW1haWwsICJyZXZva2UiOiByZXZva2UsICJjb2RlIjogY29kZX0KICAgIH0p");
    sb.append("OwogIH0KICBEZWluaXQoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRlaW5pdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7");
    sb.append("CiAgfQogIEFjY291bnRTZXRQYXNzd29yZChpZGVudGl0eSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvc2V0LXBhc3N3b3JkIiwgImlkIjpw");
    sb.append("YXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAg");
    sb.append("fQogIEFjY291bnRHZXRQYXltZW50UGxhbihpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9nZXQtcGF5bWVudC1wbGFuIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQWNjb3VudExvZ2luKGVtYWlsLCBwYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYWNjb3VudC9s");
    sb.append("b2dpbiIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAg");
    sb.append("IH0pOwogIH0KICBQcm9iZShpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoicHJvYmUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0p");
    sb.append("OwogIH0KICBBdXRob3JpdHlDcmVhdGUoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlTZXQoaWRlbnRpdHksIGF1dGhvcml0eSwg");
    sb.append("a2V5U3RvcmUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhv");
    sb.append("cml0eS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1");
    sb.append("dGhvcml0eSwgImtleS1zdG9yZSI6IGtleVN0b3JlfQogICAgfSk7CiAgfQogIEF1dGhvcml0eUdldChp");
    sb.append("ZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRo");
    sb.append("b3JpdHkiOiBhdXRob3JpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5TGlzdChpZGVudGl0eSwgcmVz");
    sb.append("cG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsK");
    sb.append("ICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF1dGhvcml0eS9saXN0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5");
    sb.append("RGVzdHJveShpZGVudGl0eSwgYXV0aG9yaXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvZGVzdHJveSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIFNwYWNlQ3JlYXRlKGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwgdGVtcGxhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("c3BhY2UiOiBzcGFjZSwgInRlbXBsYXRlIjogdGVtcGxhdGV9CiAgICB9KTsKICB9CiAgU3BhY2VHZW5l");
    sb.append("cmF0ZUtleShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL2dlbmVyYXRlLWtleSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZUdldChpZGVudGl0eSwgc3BhY2Us");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2dldCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0K");
    sb.append("ICBTcGFjZVNldChpZGVudGl0eSwgc3BhY2UsIHBsYW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3NldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgInBsYW4iOiBwbGFufQogICAgfSk7CiAgfQogIFNwYWNlUmVkZXBs");
    sb.append("b3lLaWNrKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoic3BhY2UvcmVkZXBsb3kta2ljayIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVNldFJ4aHRtbChpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHJ4aHRtbCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("c3BhY2Uvc2V0LXJ4aHRtbCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgInJ4aHRtbCI6IHJ4aHRtbH0KICAgIH0pOwogIH0KICBTcGFjZUdldFJ4aHRtbChpZGVu");
    sb.append("dGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNw");
    sb.append("YWNlL2dldC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRQb2xpY3koaWRlbnRpdHksIHNwYWNlLCBhY2Nlc3NQ");
    sb.append("b2xpY3ksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJhY2Nlc3MtcG9saWN5IjogYWNjZXNzUG9saWN5fQogICAgfSk7CiAgfQogIFNwYWNlR2V0UG9saWN5");
    sb.append("KGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIg");
    sb.append("cGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvZ2V0LXBvbGljeSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3Bh");
    sb.append("Y2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZU1ldHJpY3MoaWRlbnRpdHksIHNwYWNlLCBwcmVm");
    sb.append("aXgsIG1ldHJpY1F1ZXJ5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9tZXRyaWNzIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6");
    sb.append("IHNwYWNlLCAicHJlZml4IjogcHJlZml4LCAibWV0cmljLXF1ZXJ5IjogbWV0cmljUXVlcnl9CiAgICB9");
    sb.append("KTsKICB9CiAgU3BhY2VEZWxldGUoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAg");
    sb.append("ICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9kZWxldGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSb2xlKGlkZW50");
    sb.append("aXR5LCBzcGFjZSwgZW1haWwsIHJvbGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6InNwYWNlL3NldC1yb2xlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAiZW1haWwiOiBlbWFpbCwgInJvbGUiOiByb2xlfQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlTGlzdERldmVsb3BlcnMoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvbGlzdC1kZXZlbG9wZXJzIiwgImlkIjpwYXJJ");
    sb.append("ZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNl");
    sb.append("UmVmbGVjdChpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvcmVmbGVjdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleX0KICAgIH0pOwogIH0KICBTcGFjZUxpc3QoaWRl");
    sb.append("bnRpdHksIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJt");
    sb.append("YXJrZXIiOiBtYXJrZXIsICJsaW1pdCI6IGxpbWl0fQogICAgfSk7CiAgfQogIERvbWFpbk1hcChpZGVu");
    sb.append("dGl0eSwgZG9tYWluLCBzcGFjZSwgY2VydGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVu");
    sb.append("dGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJjZXJ0aWZpY2F0ZSI6IGNlcnRp");
    sb.append("ZmljYXRlfQogICAgfSk7CiAgfQogIERvbWFpblJlZmxlY3QoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVy");
    sb.append("OiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3JlZmxlY3QiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0KICAgIH0pOwogIH0K");
    sb.append("ICBEb21haW5NYXBEb2N1bWVudChpZGVudGl0eSwgZG9tYWluLCBzcGFjZSwga2V5LCByb3V0ZSwgY2Vy");
    sb.append("dGlmaWNhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFp");
    sb.append("bi9tYXAtZG9jdW1lbnQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6");
    sb.append("IGRvbWFpbiwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJyb3V0ZSI6IHJvdXRlLCAiY2VydGlm");
    sb.append("aWNhdGUiOiBjZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0KGlkZW50aXR5LCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2xpc3QiLCAi");
    sb.append("aWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBEb21haW5MaXN0QnlT");
    sb.append("cGFjZShpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJkb21haW4vbGlzdC1ieS1zcGFjZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBEb21haW5Vbm1hcChpZGVudGl0eSwg");
    sb.append("ZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4v");
    sb.append("dW5tYXAiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFpbiI6IGRvbWFpbn0K");
    sb.append("ICAgIH0pOwogIH0KICBEb21haW5HZXQoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7CiAgICB2");
    sb.append("YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9y");
    sb.append("aXplKHNwYWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJZCwgInNwYWNl");
    sb.append("Ijogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNz");
    sb.append("d29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4sIHVzZXJuYW1l");
    sb.append("LCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9j");
    sb.append("dW1lbnQvYXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2Vy");
    sb.append("bmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVu");
    sb.append("dEF1dGhvcml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNz");
    sb.append("d29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAg");
    sb.append("ICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQv");
    sb.append("YXV0aG9yaXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtl");
    sb.append("eSwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3Jk");
    sb.append("IjogbmV3X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJl");
    sb.append("c2V0KGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21haW4td2l0");
    sb.append("aC1yZXNldCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6IHVzZXJuYW1l");
    sb.append("LCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgIH0p");
    sb.append("OwogIH0KICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9weSwgYXJnLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9jcmVhdGUi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJlbnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBEb2N1bWVudERl");
    sb.append("bGV0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3VtZW50TGlzdChp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("c3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1pdH0K");
    sb.append("ICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtleSwgY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVz");
    sb.append("c2FnZS9kaXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFjZSwga2V5LCBk");
    sb.append("ZWR1cGUsIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6");
    sb.append("IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRlZHVwZSwgImNo");
    sb.append("YW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgQ29ubmVjdGlv");
    sb.append("bkNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3Bv");
    sb.append("bmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFy");
    sb.append("SWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInZpZXdl");
    sb.append("ci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2aWV3ZXJTdGF0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5lY3Rp");
    sb.append("b24vY3JlYXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRv");
    sb.append("bWFpbiI6IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVu");
    sb.append("Y3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hh");
    sb.append("bm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAg");
    sb.append("ICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJS");
    sb.append("ZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJl");
    sb.append("c3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25j");
    sb.append("ZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1");
    sb.append("cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAg");
    sb.append("Y2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAg");
    sb.append("ICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9k");
    sb.append("OiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUs");
    sb.append("IGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAi");
    sb.append("Y29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1l");
    sb.append("LCAiY29udGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBk");
    sb.append("aWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAg");
    sb.append("ICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("ICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAg");
    sb.append("IHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0");
    sb.append("aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAg");
    sb.append("IH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBhc3N3b3JkLCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudHMvaGFzaC1w");
    sb.append("YXNzd29yZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIEJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2Fn");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2Vu");
    sb.append("ZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNz");
    sb.append("YWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9u");
    sb.append("KHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2");
    sb.append("YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAg");
    sb.append("ICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJl");
    sb.append("cXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rp");
    sb.append("b24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdf");
    sb.append("cGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNl");
    sb.append("OiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAg");
    sb.append("IHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("ICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAg");
    sb.append("cmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdl");
    sb.append("IjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihz");
    sb.append("dWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1");
    sb.append("YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0");
    sb.append("YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBk");
    sb.append("aWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJh");
    sb.append("c3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29u");
    sb.append("dGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hh");
    sb.append("Mzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0");
    sb.append("aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAg");
    sb.append("ICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAi");
    sb.append("Y29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1z");
    sb.append("dGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9u");
    sb.append("KHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIs");
    sb.append("IGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9");
    sb.append("IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0");
    sb.append("ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIsICJpZCI6cGFy");
    sb.append("SWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBmaWxl");
    sb.append("bmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFy");
    sb.append("IHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQt");
    sb.append("dHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFzZTY0");
    sb.append("Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2htZW50");
    sb.append("L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01kNSwg");
    sb.append("ImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBmaW5p");
    sb.append("c2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAg");
    sb.append("IHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRh");
    sb.append("Y2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwgZG9tYWluLCBm");
    sb.append("aWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRl");
    sb.append("bnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01kNSwgYmFz");
    sb.append("ZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJhdHRhY2ht");
    sb.append("ZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBjaHVua01k");
    sb.append("NSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBm");
    sb.append("aW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJh");
    sb.append("dHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFtYSA9IHsKICBQ");
    sb.append("cm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIENvbm5lY3Rpb246");
    sb.append("IFdlYlNvY2tldEFkYW1hQ29ubmVjdGlvbgp9Owo=");
    return sb.toString();
  }
}
