/*
* Adama Platform and Language
* Copyright (C) 2021 - 2023 by Adama Platform Initiative, LLC
* 
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as published
* by the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
* 
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU Affero General Public License for more details.
* 
* You should have received a copy of the GNU Affero General Public License
* along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cywgb3B0aW1hbCkgewogICAgaWYgKG9wdGltYWwgJiYg");
    sb.append("cy5sZW5ndGggPT0gMCkgewogICAgICAvLyBubyB2YWx1ZSBpbiBtZXJnaW5nIGFnYWluc3QgYSBmYXV4");
    sb.append("IHRyZWUgd2l0aG91dCBzdWJzY3JpcHRpb25zCiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAodmFy");
    sb.append("IGtleSBpbiBkZWx0YSkgeyAvLyBmb3IgZWFjaCBiaXQgb2YgZGF0YSB3aXRoaW4gdGhlIHRyZWUKICAg");
    sb.append("ICAgdmFyIGVLZXkgPSAiIyIgKyBrZXk7IC8vIGNvbXB1dGUgdGhlIHNlY3JldCBkYXRhIHBhdGgKICAg");
    sb.append("ICAgdmFyIHByaW9yID0gdHJlZVtrZXldOyAvLyBmaW5kIHRoZSBwcmlvciBzdGF0ZSB3aXRoaW4gdGhl");
    sb.append("IHRyZWUKICAgICAgdmFyIG5leHQgPSBkZWx0YVtrZXldOyAvLyBicmluZyB0aGUgY2hhbmdlIHByZXNl");
    sb.append("bnQgZm9yIHRoZSBjdXJyZW50IGtleQogICAgICBpZiAobmV4dCA9PSBudWxsKSB7IC8vIHRoZSBpdGVt");
    sb.append("IGlzIGdvaW5nIHBvb2YKICAgICAgICAvLyB0aGUgcHJpb3IgdmFsdWUgaXMgYW4gYXJyYXksIHNvIHdl");
    sb.append("IG1heSBoYXZlIHNvbWUgc3BlY2lhbCB0aGluZ3MgYXNzb2NpYXRlIHdpdGggaXQKICAgICAgICBpZiAo");
    sb.append("QXJyYXkuaXNBcnJheShwcmlvcikpIHsgLy8gVU5URVNUCiAgICAgICAgICBpZiAoZUtleSBpbiB0cmVl");
    sb.append("KSB7CiAgICAgICAgICAgIGRlbChzdWIocywgZUtleSkpOwogICAgICAgICAgfQogICAgICAgICAgZGVs");
    sb.append("ZXRlIHRyZWVbZUtleV07CiAgICAgICAgfQogICAgICAgIGRlbChzdWIocywga2V5KSk7IC8vIGlzc3Vl");
    sb.append("IGEgZGVsZXRlIGZvciBhbGwgdGhlIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBraWQKICAgICAgICBkZWxl");
    sb.append("dGUgdHJlZVtrZXldOyAvLyBkZWxldGUgdGhlIGRhdGEgaW4gdGhlIHRyZWUKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBpZiAodHlwZW9mIChuZXh0KSA9PSAib2JqZWN0IiAmJiAhQXJyYXkuaXNBcnJheShuZXh0");
    sb.append("KSkgeyAvLyBpZiB0aGUgZGVsdGEgaXMgYW4gb2JqZWN0CiAgICAgICAgICB2YXIgYXJyID0gQXJyYXku");
    sb.append("aXNBcnJheShwcmlvcikgfHwgIkBvIiBpbiBuZXh0IHx8ICJAcyIgaW4gbmV4dDsgLy8gZGV0ZWN0IGlm");
    sb.append("IHdlIG5lZWQgdG8gdXNlIGFycmF5IGxvZ2ljCiAgICAgICAgICBpZiAoYXJyKSB7IC8vIHdlIGhhdmUg");
    sb.append("ZGV0ZWN0ZWQgYW4gYXJyYXkKICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRyZWUpKSB7IC8vIGxldCdz");
    sb.append("IG1ha2Ugc3VyZSB0aGUgdHJlZSBoYXMgYW4gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICB0cmVlW2tl");
    sb.append("eV0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIShlS2V5IGluIHRyZWUpKSB7IC8v");
    sb.append("IGxldCdzIG1ha2Ugc3VyZSB0aGUgc2VjcmV0IGRhdGEgZXhpc3RzIGFzIHdlbGwKICAgICAgICAgICAg");
    sb.append("ICB0cmVlW2VLZXldID0ge307CiAgICAgICAgICAgICAgaWYgKCJAbyIgaW4gbmV4dCkgeyAvLyBpZiB3");
    sb.append("ZSBoYXZlIGEgYnVuY2ggb2Yga2V5cywgdGhlbiBsZXQncyBtYWtlIHN1cmUgdG8gcHJlc2VydmUgdGhh");
    sb.append("dCBmb3IgbWFrZV9kZWx0YQogICAgICAgICAgICAgICAgdHJlZVtlS2V5XVsiQG8iXSA9IHRydWU7CiAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyZWVbZUtleV0uX19rZXkgPSBrZXk7IC8vIGFubm90");
    sb.append("YXRlIHRoZSBuZXcgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkKICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("ICB2YXIgZUJhc2UgPSB0cmVlW2VLZXldOyAvLyBnZXQgdGhlIHNlY3JldCAoYW5kIHJlYWwpIGRhdGEg");
    sb.append("Zm9yIHRoZSBvYmplY3QgaW4gcXVlc3Rpb24KICAgICAgICAgICAgdmFyIGVTdWIgPSBzdWIocywga2V5");
    sb.append("KTsgLy8gc2NvcGUgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUga2V5CiAgICAgICAgICAgIHZhciBvcmRl");
    sb.append("cmluZyA9IG51bGw7IC8vIGRldGVjdGlvbiBvZiBpZiB3ZSBoYXZlIEBvIG9yZGVyaW5nIHRvIHJlb3Jk");
    sb.append("ZXIgdGhlIHZhbHVlcwogICAgICAgICAgICB2YXIgcmVzaXplID0gbnVsbDsgLy8gZGV0ZWN0aW9uIG9m");
    sb.append("IGFuIGFycmF5IHdpdGhvdXQgX19rZXkKICAgICAgICAgICAgdmFyIGRlbGF5ID0ge307IC8vIHdlIGRl");
    sb.append("bGF5IGFsbCBldmVudHMgc3VjaCB0aGF0IHRoZSBhcnJheSBjYW4gYmUgYnVpbHQgZm9yIGlubGluZSBt");
    sb.append("YWtlX2RlbHRhIGNhbGxzIHRvIHdvcmsKICAgICAgICAgICAgZm9yICh2YXIgYUtleSBpbiBuZXh0KSB7");
    sb.append("IC8vIGZvciBlYWNoIGZpZWxkIHdpdGhpbiB0aGUgZGlmZmVyZW5jZQogICAgICAgICAgICAgIHZhciB2");
    sb.append("YWwgPSBuZXh0W2FLZXldOwogICAgICAgICAgICAgIGlmIChhS2V5ID09ICJAbyIpIHsgLy8gdGhlIHZh");
    sb.append("bHVlIGlzIGEgbmV3IG9yZGVyaW5nIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgb3JkZXJpbmcg");
    sb.append("PSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhS2V5ID09ICJAcyIpIHsgLy8gdGhlIHZhbHVl");
    sb.append("IGlzIGEgcmVzaXplIG9mIHRoZSBhcnJheQogICAgICAgICAgICAgICAgcmVzaXplID0gdmFsOwogICAg");
    sb.append("ICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09IG51bGwpIHsgLy8gZGVsZXRlIHRoZSBlbGVtZW50CiAg");
    sb.append("ICAgICAgICAgICAgICBpZiAoYUtleSBpbiBlQmFzZSkgeyAvLyBpZiBpdCBleGlzdHMgd2l0aGluIHRo");
    sb.append("ZSBzZWNyZXQga2V5CiAgICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsK");
    sb.append("ICAgICAgICAgICAgICAgICAgICBkZWwoc3ViKGVTdWIsIHgpKTsgLy8gaXNzdWUgZGVsZXRlcwogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGV0ZSBlQmFzZVt4XTsgLy8gZGVsZXRlIHRoZSB2YWx1ZQogICAgICAg");
    sb.append("ICAgICAgICAgICAgIGRlbF9rZXkoZVN1YiwgeCk7IC8vIGRlbGV0ZSB0aGUga2V5cyBmcm9tIHRoZSBv");
    sb.append("YmplY3QKICAgICAgICAgICAgICAgICAgICBmaXJlX2RlbChlU3ViLCB4KTsKICAgICAgICAgICAgICAg");
    sb.append("ICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB3ZSBoYXZlIGRh");
    sb.append("dGEKICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZSBkYXRhIGRpZG4n");
    sb.append("dCBleGlzdCwgc28gZmlyZSBhbiBhZGRpdGlvbiB0byBleHRlbmQgdGhlIHN1YnNjcmlwdGlvbnMKICAg");
    sb.append("ICAgICAgICAgICAgICAgZmlyZV9hZGQoZVN1YiwgYUtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgICB2YXIgblZhbCA9IG5leHRbYUtleV07IC8vIGdldCB0aGUgbmV3IHZhbHVlCiAgICAg");
    sb.append("ICAgICAgICAgICBpZiAodHlwZW9mIChuVmFsKSA9PSAib2JqZWN0IikgeyAvLyBpZiB0aGUgbmV3IHZh");
    sb.append("bHVlIGlzIGFuIG9iamVjdAogICAgICAgICAgICAgICAgICBpZiAoIShhS2V5IGluIGVCYXNlKSkgeyAv");
    sb.append("LyB0aGVuIG1ha2Ugc3VyZSB0aGUgbmV3IGl0ZW0gaXMgd2l0aGluIHRoZSBzZWNyZXQgdHJlZQogICAg");
    sb.append("ICAgICAgICAgICAgICAgIGVCYXNlW2FLZXldID0ge307CiAgICAgICAgICAgICAgICAgICAgZUJhc2Vb");
    sb.append("YUtleV0uX19rZXkgPSBhS2V5OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGRl");
    sb.append("bGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICBtZXJnZShlQmFzZVt4");
    sb.append("XSwgbmV4dFt4XSwgc3ViKGVTdWIsIHgpLCBldmVudHMsIG9wdGltYWwpOyAvLyByZWN1cnNlOiBtZXJn");
    sb.append("ZSB0aGUgZGlmZmVyZW5jZSBpbnRvIHRoZSBzZWNyZXQgdHJlZSBhbmQgcHVibGlzaCB0byBhbGwgZWxl");
    sb.append("bWVudCBzdWJzY3JpcHRpb25zCiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVC");
    sb.append("YXNlW3hdLCBldmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IHsgLy8gb3RoZXJ3aXNlLCBzZXQgdGhlIHZhbHVlIGludG8gdGhlIHRyZWUKICAgICAgICAgICAgICAg");
    sb.append("ICAgZUJhc2VbYUtleV0gPSBuVmFsOwogICAgICAgICAgICAgICAgICBkZWxheVthS2V5XSA9IGZ1bmN0");
    sb.append("aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgeCksIGVCYXNlW3hdLCBl");
    sb.append("dmVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg");
    sb.append("ICAgLy8gYW5kIHRlbGwgZXZlcnlvbmUgdGhlIG5ldyB2YWx1ZSBmb3IgdGhpcwogICAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYmVmb3JlID0gdHJlZVtrZXldOyAvLyBzdGFz");
    sb.append("aCBhIHBvaW50ZXIgdG8gdGhlIGFycmF5CiAgICAgICAgICAgIHZhciBkZWxheU9yZGVyID0gW107Cgog");
    sb.append("ICAgICAgICAgICBpZiAob3JkZXJpbmcgIT0gbnVsbCkgeyAvLyBhbiBvcmRlcmluZyBjaGFuZ2UgaXMg");
    sb.append("aGFwcGVuaW5nCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107IC8vIHdlIHdpbGwgcmVidWlsZCB0");
    sb.append("aGUgYXJyYXkgaGVyZQogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsgLy8gYW5kIHJlY29yZCB0aGUg");
    sb.append("a2V5cyBoZXJlCiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmRlcmluZy5sZW5ndGg7");
    sb.append("IGsrKykgeyAvLyBmb3IgZWFjaCBvcmRlcmluZyBpbnN0cnVjdGlvbgogICAgICAgICAgICAgICAgdmFy");
    sb.append("IGluc3RyID0gb3JkZXJpbmdba107CiAgICAgICAgICAgICAgICB2YXIgdHlwZV9pbnN0ciA9IHR5cGVv");
    sb.append("ZiAoaW5zdHIpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVfaW5zdHIgPT0gInN0cmluZyIgfHwgdHlw");
    sb.append("ZV9pbnN0ciA9PSAibnVtYmVyIikgeyAvLyBpZiB0aGUgaW5zdHJ1Y3Rpb24gcmVmZXJzIHRvIGFuIGl0");
    sb.append("ZW0KICAgICAgICAgICAgICAgICAgYWZ0ZXIucHVzaChlQmFzZVtpbnN0cl0pOyAvLyBwdXNoIHRoZSBp");
    sb.append("dGVtIGludG8gdGhlIG5ldyBhcnJheQogICAgICAgICAgICAgICAgICBtc2cucHVzaCgiIiArIGluc3Ry");
    sb.append("KTsgLy8gcmVjb3JkIHRoZSBrZXkgb2YgdGhlIGl0ZW0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZSwgdGhlIGluc3RydWN0aW9uIGlzIGEgcmFuZ2UKICAgICAgICAgICAgICAgICAgdmFy");
    sb.append("IHN0YXJ0ID0gaW5zdHJbMF07CiAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBpbnN0clsxXTsKICAg");
    sb.append("ICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDw9IGVuZDsgaisrKSB7IC8vIGl0ZXJh");
    sb.append("dGUgb3ZlciB0aGUgcmFuZ2UgYW5kIGNvcHkKICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlW2pd");
    sb.append("KSB7CiAgICAgICAgICAgICAgICAgICAgICBhZnRlci5wdXNoKGJlZm9yZVtqXSk7IC8vIHRoZSBpdGVt");
    sb.append("cyBmcm9tIHRoZSBwcmV2aW91cyBjb3B5CiAgICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZv");
    sb.append("cmVbal0uX19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgICAgICAgZGVsYXlPcmRlci5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZpcmUo");
    sb.append("c3ViKGVTdWIsICJ+IiksIG1zZywgZXZlbnRzKTsgLy8gdGVsbCBzdWJzY3JpcHRpb25zIGFib3V0IHRo");
    sb.append("ZSBuZXcgb3JkZXJpbmcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSBh");
    sb.append("ZnRlcjsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNpemUgIT0gbnVsbCkgeyAvLyBhbHRlcm5hdGl2");
    sb.append("ZWx5LCBhbiBhcnJheSB3aXRob3V0IGtleXMgaXMgYmVpbmcgcmVzaXplZAogICAgICAgICAgICAgIHZh");
    sb.append("ciBhZnRlciA9IFtdOwogICAgICAgICAgICAgIHZhciBtc2cgPSBbXTsKICAgICAgICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IHJlc2l6ZTsgaysrKSB7IC8vIHdlIHJlYnVpbGQgdGhlIGFycmF5CiAgICAg");
    sb.append("ICAgICAgICAgICBhZnRlcltrXSA9IGVCYXNlWyIiICsga107CiAgICAgICAgICAgICAgICBtc2cucHVz");
    sb.append("aCgiIiArIGspOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIGZvciAoYUtleSBpbiBkZWxheSkgewogICAgICAgICAgICAgIGRlbGF5W2FLZXldKGFLZXkpOwog");
    sb.append("ICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVsYXlPcmRlci5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICAgICAgICAgIGRlbGF5T3JkZXJba10oKTsKICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICBmaXJlKGVTdWIsIHRyZWVba2V5XSwgZXZlbnRzKTsgLy8gdGVsbCBldmVyeW9uZSBhYm91");
    sb.append("dCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIShrZXkgaW4g");
    sb.append("dHJlZSkgfHwgdHlwZW9mICh0cmVlW2tleV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgdHJl");
    sb.append("ZVtrZXldID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGUgPSBzdWIocywga2V5KTsK");
    sb.append("ICAgICAgICAgICAgbWVyZ2UodHJlZVtrZXldLCBuZXh0LCBlLCBldmVudHMsIG9wdGltYWwpOwogICAg");
    sb.append("ICAgICAgICBmaXJlKGUsIHRyZWVba2V5XSwgZXZlbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVs");
    sb.append("c2UgeyAvLyBub3QgYW4gb2JqZWN0LCBzbyBpdCBpcyBhIHZhbHVlCiAgICAgICAgICB0cmVlW2tleV0g");
    sb.append("PSBuZXh0OyAvLyBzdGFzaCB0aGUgbmV3IHZhbHVlCiAgICAgICAgICBmaXJlKHN1YihzLCBrZXkpLCBu");
    sb.append("ZXh0LCBldmVudHMpOyAvLyBhbmQgdGVsbCBldmVyeW9uZSBhYm91dCBpdAogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogICAgZmlyZShzLCB0cmVlLCBldmVudHMpOwogIH07CgogIHZhciBmaXJlX2V2ZW50cyA9");
    sb.append("IGZ1bmN0aW9uIChldmVudHMpIHsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZlbnRzLmxlbmd0aDsg");
    sb.append("aysrKSB7CiAgICAgIGV2ZW50c1trXSgpOwogICAgfQogIH07CgogIHRoaXMudXBkYXRlX2luX3Byb2dy");
    sb.append("ZXNzID0gZmFsc2U7CiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgIHRoaXMudXBk");
    sb.append("YXRlX2luX3Byb2dyZXNzID0gdHJ1ZTsKICAgIHZhciBhcnIgPSBbXTsgLy8gY29udmVydCB0aGUgc3Vi");
    sb.append("c2NyaXB0aW9ucyBpbnRvIGFuIGFycmF5CiAgICBmb3IgKHZhciBrIGluIGFsbF9zdWJzY3JpcHRpb25z");
    sb.append("KSB7CiAgICAgIGFyci5wdXNoKGFsbF9zdWJzY3JpcHRpb25zW2tdKTsKICAgIH0KICAgIHZhciBldmVu");
    sb.append("dHMgPSBbXTsKICAgIG1lcmdlKHJvb3QsIGRlbHRhLCBhcnIsIGV2ZW50cywgZmFsc2UpOyAvLyBleGVj");
    sb.append("dXRlIHRoZSBtZXJnZSBhbmQgZmlyZSBldmVudHMKICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB3");
    sb.append("aGlsZSAodGhpcy5zdWJzY3JpYmVfZGVsYXkubGVuZ3RoID4gMCkgewogICAgICB2YXIgY29weSA9IHRo");
    sb.append("aXMuc3Vic2NyaWJlX2RlbGF5OwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxheSA9IFtdOwogICAgICB2");
    sb.append("YXIgZmxhdCA9IFtdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvcHkubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICBpZiAoIWNvcHlba10uYWJvcnRlZCkgewogICAgICAgICAgZmxhdC5wdXNoKGNvcHlba10u");
    sb.append("c3ViKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZXZlbnRzID0gW107CiAgICAgIG1lcmdlKHt9LCBt");
    sb.append("YWtlX29wdGltYWxfZGVsdGEocm9vdCwgZmxhdCksIGZsYXQsIGV2ZW50cywgdHJ1ZSk7IC8vIGV4ZWN1");
    sb.append("dGUgdGhlIG1lcmdlIGFuZCBmaXJlIGV2ZW50cwogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAg");
    sb.append("fQogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB9OwoKICAvLyBmaXggdGhlIGNh");
    sb.append("bGxiYWNrIHN0cnVjdHVyZSBmcm9tIHRoZSB1c2VyJ3MgaGFwcHkgbGFuZCB0byB0aGUgcmlnb3Igb2Yg");
    sb.append("dGhlIGZvcm1hdCBuZWVkZWQKICB2YXIgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViID0gZnVuY3Rp");
    sb.append("b24gKGNhbGxiYWNrLCBzdWIpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrKSkgeyAvLyBp");
    sb.append("ZiB0aGUgY2FsbGJhY2sgaXMgYW4gYXJyYXksIHRoZW4gZmxhdHRlbiB0aGUgYXJyYXkgaW50byB0aGUg");
    sb.append("bmV3IG9iamVjdAogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNrW2tdLCBzdWIpOwogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09ICJvYmplY3QiKSB7IC8vIG9oLCB0");
    sb.append("aGUgY2FsbGJhY2sgaXMgYW4gb2JqZWN0CiAgICAgIGZvciAodmFyIGtleSBpbiBjYWxsYmFjaykgeyAv");
    sb.append("LyBpdGVyYXRlIG92ZXIgZWFjaCBrZXkKICAgICAgICBpZiAoa2V5ID09ICJAZSIpIHsgLy8gZm9yY2Ug");
    sb.append("dGhlIGZ1bmN0aW9ucyB0byBtZXJnZSB0b2dldGhlcgogICAgICAgICAgdHJhbnNmb3JtX2NhbGxiYWNr");
    sb.append("X2ludG9fc3ViKGNhbGxiYWNrW2tleV0sIHN1Yik7CiAgICAgICAgfSBlbHNlIHsgLy8gbm9ybWFsIGZs");
    sb.append("b3cKICAgICAgICAgIGlmICghKGtleSBpbiBzdWIpKSB7IC8vIGRpdmUgaW50byB0aGUgb2JqZWN0IGFu");
    sb.append("ZCBtYWtlIHN1cmUgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGZpZWxkCiAgICAgICAgICAgIHN1Yltr");
    sb.append("ZXldID0ge307CiAgICAgICAgICB9CiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIo");
    sb.append("Y2FsbGJhY2tba2V5XSwgc3ViW2tleV0pOyAvLyByZWN1cnNlIGFuZCBwYWlyIHRoZSBldmVudHMgdG8g");
    sb.append("dGhlIG5ldyBzdWJzY3JpcHRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9m");
    sb.append("IChjYWxsYmFjaykgPT0gImZ1bmN0aW9uIikgeyAvLyBpdCdzIGEgZnVuY3Rpb24KICAgICAgaWYgKCEo");
    sb.append("IkBlIiBpbiBzdWIpKSB7IC8vIGxldCdzIGVuc3VyZSB0aGVyZSBpcyBhbiBldmVudCBsaXN0CiAgICAg");
    sb.append("ICAgc3ViWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCBqdXN0");
    sb.append("IGFkZCBpdAogICAgICAgIHN1YlsiQGUiXS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfQogIH07");
    sb.append("CgogIC8vIGNvbnZlcnQgdGhlIHRyZWUgdG8gYSBkZWx0YTsgdGhpcyB0cmVlIGlzIGFzc3VtZWQgdG8g");
    sb.append("aGF2ZSBiZWVuIG1lcmdlZCBhbHJlYWR5CiAgdmFyIG1ha2VfZGVsdGEgPSBmdW5jdGlvbiAoc3QpIHsK");
    sb.append("ICAgIHZhciBkZWx0YSA9IHt9OyAvLyB0aGUgZGVsdGEgdG8gY29uc3RydWN0CiAgICBmb3IgKHZhciBr");
    sb.append("IGluIHN0KSB7IC8vIGZvciBlYWNoIGtleSB3aXRoaW4gdGhlIG9iamVjdAogICAgICBpZiAoa1swXSA9");
    sb.append("PSAiIyIgfHwgayA9PSAiQG8iIHx8IGsgPT0gIl9fa2V5IikgY29udGludWU7IC8vIHNraXAgdGhlc2UK");
    sb.append("ICAgICAgdmFyIHYgPSBzdFtrXTsKICAgICAgaWYgKCgiIyIgKyBrKSBpbiBzdCkgeyAvLyB0aGUgcmVz");
    sb.append("dWx0IGlzIGFuIGFycmF5CiAgICAgICAgdmFyIHB2ID0gc3RbJyMnICsga107CiAgICAgICAgdmFyIGQg");
    sb.append("PSB7fTsKICAgICAgICBpZiAoIkBvIiBpbiBwdikgeyAvLyBhbmQgd2UgaGF2ZSBhIHNwZWNpZmljIG9y");
    sb.append("ZGVyaW5nIHRvIG1lbW9pemUKICAgICAgICAgIHZhciBvID0gW107CiAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsgLy8gY29weSB0aGUgZWxlbWVudHMgZnJvbSB0aGUgYXJy");
    sb.append("YXkKICAgICAgICAgICAgdmFyIHZqID0gdltqXTsKICAgICAgICAgICAgaWYgKHZqKSB7CiAgICAgICAg");
    sb.append("ICAgICAgZFt2ai5fX2tleV0gPSBtYWtlX2RlbHRhKHZqKTsgLy8gdXNpbmcgdGhlIF9fa2V5IGVtYmVk");
    sb.append("ZGVkIGluIHRoZSBvYmplY3QKICAgICAgICAgICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRbIkBvIl0gPSBvOwogICAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IG90aGVyd2lzZTsgcmVjb3JkIHRoZSBzaXplIGFzIHdlIHJlY3Vyc2UKICAgICAgICAgIGZvciAodmFy");
    sb.append("IGogPSAwOyBqIDwgdi5sZW5ndGg7IGorKykgewogICAgICAgICAgICBkWyIiICsgal0gPSBtYWtlX2Rl");
    sb.append("bHRhKHB2W2pdKTsKICAgICAgICAgIH0KICAgICAgICAgIGRbIkBzIl0gPSB2Lmxlbmd0aDsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgZGVsdGFba10gPSBkOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiAodikgPT0gIm9i");
    sb.append("amVjdCIpIHsgLy8gaXQncyBqdXN0IGFuIG9iamVjdCwgc28gcmVjdXJzZSBkaXJlY3RseQogICAgICAg");
    sb.append("IGRlbHRhW2tdID0gbWFrZV9kZWx0YSh2KTsKICAgICAgfSBlbHNlIHsgLy8gZmluYWxseSwgaXQgaXMg");
    sb.append("YSB2YWx1ZSBzbyBqdXN0IHNldCBpdAogICAgICAgIGRlbHRhW2tdID0gdjsKICAgICAgfQogICAgfQog");
    sb.append("ICAgcmV0dXJuIGRlbHRhOwogIH07CiAgdGhpcy5NYWtlRGVsdGEgPSBtYWtlX2RlbHRhOwoKICB2YXIg");
    sb.append("bWFrZV9vcHRpbWFsX2RlbHRhID0gZnVuY3Rpb24oc3QsIHN1YnMpIHsKICAgIHZhciBmaWx0ZXIgPSB7");
    sb.append("fTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc3Vicy5sZW5ndGg7IGsrKykgewogICAgICB2YXIgcyA9");
    sb.append("IHN1YnNba107CiAgICAgIGlmICh0eXBlb2YocykgPT0gImZ1bmN0aW9uIikgewogICAgICAgIC8vIGZh");
    sb.append("bGxiYWNrIHdoZW4gdGhlIGhpZ2ggbGV2ZWwgaXMgYSBmdW5jdGlvbiAod2UgbmVlZCBpdCBhbGwhKQog");
    sb.append("ICAgICAgIHJldHVybiBtYWtlX2RlbHRhKHN0KTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YocykgPT0g");
    sb.append("Im9iamVjdCIpIHsKICAgICAgICBmb3IgKHZhciBqIGluIHMpIHsKICAgICAgICAgIGZpbHRlcltqXSA9");
    sb.append("IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB2YXIgbmV3X3N0ID0ge307IC8vIHRoZSBk");
    sb.append("ZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsgaW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdp");
    sb.append("dGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAi");
    sb.append("X19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQogICAgICBpZiAoayBpbiBmaWx0ZXIpIHsKICAg");
    sb.append("ICAgICBuZXdfc3Rba10gPSBzdFtrXTsKICAgICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7CiAgICAg");
    sb.append("ICAgICBuZXdfc3RbIiMiICsga10gPSBzdFsiIyIgKyBrXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0K");
    sb.append("ICAgIHJldHVybiBtYWtlX2RlbHRhKG5ld19zdCk7CiAgfTsKCiAgdGhpcy5zdWJzY3JpYmVfZGVsYXkg");
    sb.append("PSBbXTsKCiAgLy8gYHN1YnNjcmliZWAgdGhlIGdpdmVuIHN0cnVjdHVyYWwgY2FsbGJhY2sKICB0aGlz");
    sb.append("LnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgdmFyIHN1YiA9IHt9OwogICAgdHJh");
    sb.append("bnNmb3JtX2NhbGxiYWNrX2ludG9fc3ViKGNhbGxiYWNrLCBzdWIpOyAgLy8gdHJhbnNmb3JtIHRoZSBj");
    sb.append("YWxsYmFjayBpbnRvIGEgc2FmZSBjYWxsYmFjawogICAgdmFyIFMgPSAiIiArIGlkKys7IC8vIGNyZWF0");
    sb.append("ZSBhbiBpZCBmb3IgdGhlIHN1YnNjcmlwdGlvbgogICAgYWxsX3N1YnNjcmlwdGlvbnNbU10gPSBzdWI7");
    sb.append("IC8vIHJlY29yZCB0aGUgc3Vic2NyaXB0aW9uCiAgICBpZiAodGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3Mp");
    sb.append("IHsKICAgICAgdmFyIHNtID0ge307CiAgICAgIHNtLnN1YiA9IHN1YjsKICAgICAgc20uYWJvcnRlZCA9");
    sb.append("IGZhbHNlOwogICAgICB0aGlzLnN1YnNjcmliZV9kZWxheS5wdXNoKHNtKTsKICAgICAgcmV0dXJuIGZ1");
    sb.append("bmN0aW9uKCkgewogICAgICAgIHNtLmFib3J0ZWQgPSB0cnVlOwogICAgICAgIGRlbGV0ZSBhbGxfc3Vi");
    sb.append("c2NyaXB0aW9uc1tTXTsKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBkZWx0YSA9IG1ha2Vf");
    sb.append("b3B0aW1hbF9kZWx0YShyb290LCBbc3ViXSk7CiAgICAgIHZhciBldmVudHMgPSBbXTsKICAgICAgbWVy");
    sb.append("Z2Uoe30sIGRlbHRhLCBbc3ViXSwgZXZlbnRzLCB0cnVlKTsgLy8gZXhlY3V0ZSB0aGUgY2FsbGJhY2sg");
    sb.append("bm93IG9uIGEgY2FsbGJhY2sgb2YgYWxsIGRhdGEgdG8gZmlyZSBldmVudHMgYW5kIGZpbGwgdGhlIHN1");
    sb.append("YnNjcmlwdGlvbiBvYmplY3QKICAgICAgZmlyZV9ldmVudHMoZXZlbnRzKTsKICAgICAgcmV0dXJuIGZ1");
    sb.append("bmN0aW9uICgpIHsgLy8gcmV0dXJuIGEgbWV0aG9kIHRvIHVuc3Vic2NyaWJlCiAgICAgICAgZGVsZXRl");
    sb.append("IGFsbF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfQogIH07Cn0=");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2JpbGxpbmcpIHsKICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0g");
    sb.append("IkJpbGlsbmcgZG9jdW1lbnQgbm90IHN1cHBvcnRlZCI7CiAgICAgIHZpZXdDaGFubmVscy5pbm5lckhU");
    sb.append("TUwgPSB2aWV3SnNvbi5pbm5lckhUTUw7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChjby52aWFf");
    sb.append("ZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBjby5kb21haW4s");
    sb.append("IGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChjby5pZGVudGl0");
    sb.append("eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNvbm5lY3Rpb25T");
    sb.append("ZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFyIHN3aXRjaF90");
    sb.append("b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7CiAgICBudWtl");
    sb.append("KHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIGNvbm5lY3Rpb25zW25hbWVdLnJl");
    sb.append("bmRlcmVkID0gIiI7CiAgICByZW5kZXIobmFtZSk7CiAgfTsKICBjb25uZWN0aW9uU2VsZWN0b3Iub25j");
    sb.append("aGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaF90b19jb25uZWN0aW9uKGNvbm5lY3Rpb25TZWxl");
    sb.append("Y3Rvci52YWx1ZSk7CiAgfTsKICB2YXIgcmVmcmVzaF9zZWxlY3QgPSBmdW5jdGlvbigpIHsKICAgIG51");
    sb.append("a2UoY29ubmVjdGlvblNlbGVjdG9yKTsKICAgIGZvciAodmFyIG5hbWUgaW4gY29ubmVjdGlvbnMpIHsK");
    sb.append("ICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQu");
    sb.append("dmFsdWUgPSBuYW1lOwogICAgICBvcHQuaW5uZXJUZXh0ID0gbmFtZTsKICAgICAgY29ubmVjdGlvblNl");
    sb.append("bGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7CiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHsKICAgICAg");
    sb.append("ICBzd2l0Y2hfdG9fY29ubmVjdGlvbihuYW1lKTsKICAgICAgICBjb25uZWN0aW9uU2VsZWN0b3IudmFs");
    sb.append("dWUgPSBuYW1lOwogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi50b2dnbGUgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgIGlmIChzZWxmLnNob3duKSB7CiAgICAgIHRyeSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1v");
    sb.append("dmVDaGlsZChzZWxmLnJvb3QpOwogICAgICB9IGNhdGNoIChub3RwcmVzZW50KSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5zaG93biA9ICFzZWxmLnNob3duOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNlbGYucm9v");
    sb.append("dCk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgc2VsZi5yb290ID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSBsb2NhbFN0b3JhZ2Uu");
    sb.append("Z2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIik7CiAgICAgIGlmICghZGVidWdnZXJQb3NpdGlv");
    sb.append("biB8fCBkZWJ1Z2dlclBvc2l0aW9uID09ICIiKSB7CiAgICAgICAgZGVidWdnZXJQb3NpdGlvbiA9ICJ0");
    sb.append("b3A6MHB4OyBsZWZ0OjBweDt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiOwogICAgICB9CiAgICAgIHNl");
    sb.append("bGYucm9vdC5zdHlsZSA9ICJwb3NpdGlvbjphYnNvbHV0ZTsiICsgZGVidWdnZXJQb3NpdGlvbiArICI7");
    sb.append("YmFja2dyb3VuZDogIzAwMDtib3JkZXI6MXB4IHNvbGlkIHJlZDt6LWluZGV4OjEwMDA7IG92ZXJmbG93");
    sb.append("OnNjcm9sbCI7CiAgICAgIHZhciB0aXRsZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICB0aXRsZUJhci5pbm5lckhUTUwgPSAiQWRhbWEgRGVidWdnZXIiOwogICAgICB0aXRsZUJh");
    sb.append("ci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogIzBmMDsgY3Vyc29yOm1vdmU7IHdpZHRo");
    sb.append("OjEwMCU7IGZvbnQtdmFyaWFudDogc21hbGwtY2FwczsgcGFkZGluZzoycHg7IHRleHQtYWxpZ246IGNl");
    sb.append("bnRlcjsiOwogICAgICB0aXRsZUJhci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2KSB7CiAgICAgICAg");
    sb.append("ZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVjdCA9IHNlbGYucm9vdC5nZXRCb3VuZGlu");
    sb.append("Z0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgc3RhcnQgPSB7eDogZXYuY2xpZW50WCwgeTogZXYuY2xp");
    sb.append("ZW50WX07CiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG54KSB7CiAgICAgICAgICBzZWxmLnJv");
    sb.append("b3Quc3R5bGUubGVmdCA9IChyZWN0LmxlZnQgKyBueC5jbGllbnRYIC0gc3RhcnQueCkgKyAicHgiOwog");
    sb.append("ICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRvcCA9IChyZWN0LnRvcCArIG54LmNsaWVudFkgLSBzdGFy");
    sb.append("dC55KSArICJweCI7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlv");
    sb.append("bihueCkgewogICAgICAgICAgdXBkYXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVt");
    sb.append("KCJBZGFtYURlYnVnZ2VyUG9zaXRpb24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0");
    sb.append("OiIrc2VsZi5yb290LnN0eWxlLmxlZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAg");
    sb.append("ICB9OwogICAgICAgIHdpbmRvdy5vbm1vdXNldXAgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgdXBk");
    sb.append("YXRlKG54KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBZGFtYURlYnVnZ2VyUG9zaXRp");
    sb.append("b24iLCAidG9wOiIrc2VsZi5yb290LnN0eWxlLnRvcCsiOyBsZWZ0OiIrc2VsZi5yb290LnN0eWxlLmxl");
    sb.append("ZnQrIjt3aWR0aDo4MDBweDtoZWlnaHQ6NjAwcHgiKTsKICAgICAgICAgIHdpbmRvdy5vbm1vdXNlbW92");
    sb.append("ZSA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7");
    sb.append("fTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBzZWxmLnJvb3Qu");
    sb.append("YXBwZW5kQ2hpbGQodGl0bGVCYXIpOwogICAgICBzZWxmLnJvb3QuYXBwZW5kQ2hpbGQoY29ubmVjdGlv");
    sb.append("blNlbGVjdG9yKTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHZpZXdKc29uKTsKICAgICAgc2Vs");
    sb.append("Zi5yb290LmFwcGVuZENoaWxkKHZpZXdDaGFubmVscyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5k");
    sb.append("Q2hpbGQoc2VsZi5yb290KTsKICAgIH0KICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICB9OwoK");
    sb.append("ICBzZWxmLnJlZ2lzdGVyID0gZnVuY3Rpb24oY29ubmVjdGlvbikgewogICAgY29ubmVjdGlvbnNbY29u");
    sb.append("bmVjdGlvbi5uYW1lXSA9IGNvbm5lY3Rpb247CiAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUgPSBuZXcg");
    sb.append("QWRhbWFUcmVlKCk7CiAgICBjb25uZWN0aW9uLmRlYnVnZ2luZyA9ICI/IjsKICAgIHJlZnJlc2hfc2Vs");
    sb.append("ZWN0KCk7CiAgICByZXR1cm4gZnVuY3Rpb24ocGF5bG9hZCkgewogICAgICBpZiAoY29ubmVjdGlvbi5i");
    sb.append("b3VuZCAhPSBjb25uZWN0aW9uLmRlYnVnZ2luZyAmJiBjdXJyZW50ID09IGNvbm5lY3Rpb24ubmFtZSkg");
    sb.append("ewogICAgICAgIHJlbmRlcihjb25uZWN0aW9uLm5hbWUpOwogICAgICB9CiAgICAgIGlmICgiZGF0YSIg");
    sb.append("aW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgIGNvbm5lY3Rpb24uZGVidWdfdHJlZS51cGRhdGUocGF5");
    sb.append("bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgfQogICAgICAvKgogICAgICBpZiAoIm91dHN0YW5kaW5nIiBp");
    sb.append("biBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBjby5vbmRlY2lkZShwYXlsb2FkLmRlbHRhLm91dHN0");
    sb.append("YW5kaW5nKTsKICAgICAgfQogICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAg");
    sb.append("ICAgIH0KICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7Ci8vICAgICAgICBzZWxmLmdv");
    sb.append("dG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgfQogICAgICAqLwogICAgfQogIH07CiAgcmV0dXJu");
    sb.append("IHNlbGY7Cn0pKCk7");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CiAgY29ubmVjdGlvbi5rZWVwYWxpdmUoKTsKCiAgd2luZG93LmFkZEV2ZW50TGlzdGVu");
    sb.append("ZXIoJ2Vycm9yJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgIHZhciBwYXlsb2FkID0ge307CiAgICBwYXls");
    sb.append("b2FkLm1lc3NhZ2UgPSBldmVudC5tZXNzYWdlOwogICAgcGF5bG9hZC5maWxlbmFtZSA9IGV2ZW50LmZp");
    sb.append("bGVuYW1lOwogICAgcGF5bG9hZC5saW5lbm8gPSBldmVudC5saW5lbm87CiAgICBwYXlsb2FkLmNvbG5v");
    sb.append("ID0gZXZlbnQuY29sbm87CiAgICBwYXlsb2FkLmZpbGVuYW1lID0gZXZlbnQuZmlsZW5hbWU7CiAgICBj");
    sb.append("b25uZWN0aW9uLmxvZygid2luZG93LmVycm9yIiwgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpOwogIH0p");
    sb.append("OwoKICBjb25uZWN0aW9uLmJ1bXAoInJ4aHRtbCIpOwoKICB2YXIgcm9vdFJlcGxhY2UgPSAiLyI7CiAg");
    sb.append("dmFyIGZpeFBhdGggPSBmdW5jdGlvbiAocGF0aCkgewogICAgcmV0dXJuIHBhdGg7CiAgfTsKICBpZiAo");
    sb.append("d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKCIuYWRhbWEtcGxhdGZvcm0uY29tIikgJiYg");
    sb.append("IXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiaWRlLmFkYW1hLXBsYXRmb3JtLmNvbSIp");
    sb.append("KSB7CiAgICAvLyB0aGlzIGV4aXN0cyBpZiBzb21lb25lIGlzIHRyeWluZyB0byB1c2UgdGhlIGdsb2Jh");
    sb.append("bCBkb21haW4gZm9yIHRoZWlyIHNpdGUKICAgIHZhciBwYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRo");
    sb.append("bmFtZS5zcGxpdCgiLyIpOwogICAgcm9vdFJlcGxhY2UgPSBbcGFydHNbMF0sIHBhcnRzWzFdLCBwYXJ0");
    sb.append("c1syXSwgIiJdLmpvaW4oIi8iKTsKICAgIHZhciBvZmZzZXQgPSBwYXJ0c1swXS5sZW5ndGggKyBwYXJ0");
    sb.append("c1sxXS5sZW5ndGggKyBwYXJ0c1syXS5sZW5ndGggKyAyOwogICAgZml4UGF0aCA9IGZ1bmN0aW9uIChw");
    sb.append("YXRoKSB7CiAgICAgIHJldHVybiBwYXRoLnN1YnN0cmluZyhvZmZzZXQpOwogICAgfTsKICB9CgogIHZh");
    sb.append("ciBmaXhIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHsKICAgIGlmICghaHJlZikgewogICAgICByZXR1cm4g");
    sb.append("IiMiOwogICAgfQogICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgiLyIpKSB7CiAgICAgIHJldHVybiByb290");
    sb.append("UmVwbGFjZSArIGhyZWYuc3Vic3RyaW5nKDEpOwogICAgfQogICAgcmV0dXJuIGhyZWY7CiAgfTsKCiAg");
    sb.append("dmFyIGdldF9jb25uZWN0aW9uX29iaiA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAobmFtZSBpbiBj");
    sb.append("b25uZWN0aW9ucykgewogICAgICByZXR1cm4gY29ubmVjdGlvbnNbbmFtZV07CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICB2YXIgb2JqID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgcHRyOiBudWxsLAogICAg");
    sb.append("ICAgIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgICBvdXRzdGFuZGluZzoge30sCiAgICAgICAg");
    sb.append("ZGVjaXNpb25zOiB7fSwKICAgICAgICBjaG9pY2Vfc3Viczoge30sCiAgICAgICAgcmVzZXRzOiB7fSwK");
    sb.append("ICAgICAgICBjb25uZWN0aW9uX2V2ZW50czoge30sCiAgICAgICAgc3luY19ldmVudHM6IHt9LAogICAg");
    sb.append("ICAgIGlkOiAwLAogICAgICAgIGNvbm5lY3Rpb25fc3RhdGU6IGZhbHNlLAogICAgICAgIGNob2ljZXM6");
    sb.append("IHt9LAogICAgICAgIGJvdW5kOiAiIiwKICAgICAgICB2aWV3c3RhdGVfc2VudDogdHJ1ZSwKICAgICAg");
    sb.append("ICB2aWV3c3RhdGVfY2xvbmU6ICIiLAogICAgICAgIGhhc19maWx0ZXI6IGZhbHNlLAogICAgICAgIHN5");
    sb.append("bmNlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB7fSwKICAgICAgICB2c3NlcTogMCwKICAgICAgICBk");
    sb.append("ZWJ1Z2dlcjogZnVuY3Rpb24gKGRlbHRhKSB7IH0sCiAgICAgICAgcmF3OiBjb25uZWN0aW9uCiAgICAg");
    sb.append("IH07CiAgICAgIG9iai5udWtlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbl9l");
    sb.append("dmVudHMgPSB7fTsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzID0ge307CiAgICAgICAgdGhpcy5jaG9p");
    sb.append("Y2Vfc3VicyA9IHt9OwogICAgICB9LmJpbmQob2JqKTsKICAgICAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7");
    sb.append("CiAgICAgICAgb2JqLmRlYnVnZ2VyID0gQWRhbWEuRGVidWdnZXIucmVnaXN0ZXIob2JqKTsKICAgICAg");
    sb.append("fQogICAgICBvYmouc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc3luY2VkID0gdGhpcy5j");
    sb.append("b25uZWN0aW9uX3N0YXRlICYmIHRoaXMudmlld3N0YXRlX3NlbnQ7CiAgICAgICAgaWYgKHRoaXMuc3lu");
    sb.append("Y2VkID09IHN5bmNlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLnN5");
    sb.append("bmNlZCA9IHN5bmNlZDsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGlu");
    sb.append("IG9iai5zeW5jX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLnN5bmNfZXZlbnRzW3N1Yl0oc3lu");
    sb.append("Y2VkKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAg");
    sb.append("ICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0");
    sb.append("ZSBvYmouc3luY19ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgIH0uYmluZChvYmopOwogICAg");
    sb.append("ICBvYmouc3Vic2NyaWJlX3N5bmMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgcyA9");
    sb.append("ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5zeW5jX2V2ZW50c1tzXSA9IGNhbGxiYWNrOwog");
    sb.append("ICAgICAgIGNhbGxiYWNrKHRoaXMuc3luY2VkKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICAgICAgZGVsZXRlIHRoaXMuc3luY19ldmVudHNbc107CiAgICAgICAgfS5iaW5kKHRoaXMpOwog");
    sb.append("ICAgICB9OwogICAgICBvYmouc2V0X2Nvbm5lY3RlZCA9IGZ1bmN0aW9uIChjcykgewogICAgICAgIGlm");
    sb.append("ICh0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPT0gY3MpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9");
    sb.append("CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX3N0YXRlID0gY3M7CiAgICAgICAgdmFyIGF4ZSA9IFtdOwog");
    sb.append("ICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY29ubmVjdGlvbl9ldmVudHMpIHsKICAgICAgICAgIGlm");
    sb.append("ICghKG9iai5jb25uZWN0aW9uX2V2ZW50c1tzdWJdKGNzKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2go");
    sb.append("c3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUu");
    sb.append("bGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouY29ubmVjdGlvbl9ldmVudHNbYXhlW2td");
    sb.append("XTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBv");
    sb.append("YmouY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSAiLXwiICsg");
    sb.append("dGhpcy5pZCsrOwogICAgICAgIHRoaXMuY29ubmVjdGlvbl9ldmVudHNbc10gPSBjYWxsYmFjazsKICAg");
    sb.append("ICAgICBjYWxsYmFjayh0aGlzLmNvbm5lY3Rpb25fc3RhdGUpOwogICAgICAgIHJldHVybiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9uX2V2ZW50c1tzXTsKICAgICAgICB9");
    sb.append("LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX2FueSA9IGZ1");
    sb.append("bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAgICAg");
    sb.append("ICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAgICAgfS5iaW5kKHRoaXMpOwog");
    sb.append("ICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsLCBj");
    sb.append("YWxsYmFjaykgewogICAgICAgIHZhciBzID0gY2hhbm5lbCArICJ8IiArIHRoaXMuaWQrKzsKICAgICAg");
    sb.append("ICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAgICAgfS5iaW5kKHRoaXMpOwog");
    sb.append("ICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9yZXNldCA9IGZ1bmN0aW9uIChjYWxs");
    sb.append("YmFjaykgewogICAgICAgIHZhciBkciA9ICJyZXNldHwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMu");
    sb.append("cmVzZXRzW2RyXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICBkZWxldGUgdGhpcy5yZXNldHNbZHJdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5iaW5k");
    sb.append("KG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfY2hvaWNlID0gZnVuY3Rpb24gKGNoYW5uZWwsIGNhbGxi");
    sb.append("YWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsgdGhpcy5pZCsrOwogICAgICAgIHRo");
    sb.append("aXMuY2hvaWNlX3N1YnNbc10gPSBjYWxsYmFjazsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlX3N1YnNbc107CiAgICAgICAgfS5iaW5kKHRoaXMpOwog");
    sb.append("ICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLm9uY2hvaWNlcyA9IGZ1bmN0aW9uIChjaGFubmVsLCBj");
    sb.append("aG9pY2UpIHsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9yICh2YXIgc3ViIGluIG9iai5j");
    sb.append("aG9pY2Vfc3VicykgewogICAgICAgICAgaWYgKHN1Yi5zdGFydHNXaXRoKGNoYW5uZWwgKyAifCIpKSB7");
    sb.append("CiAgICAgICAgICAgIGlmICghb2JqLmNob2ljZV9zdWJzW3N1Yl0oY2hvaWNlKSkgewogICAgICAgICAg");
    sb.append("ICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAg");
    sb.append("ICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBv");
    sb.append("YmouY2hvaWNlX3N1YnNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIG9iai5vbmRlY2lk");
    sb.append("ZSA9IGZ1bmN0aW9uIChvdXRzdGFuZGluZykgewogICAgICAgIHZhciBheGVSZXNldCA9IFtdOwogICAg");
    sb.append("ICAgIGZvciAodmFyIGRyIGluIG9iai5yZXNldHMpIHsKICAgICAgICAgIHZhciByID0gb2JqLnJlc2V0");
    sb.append("c1tkcl07CiAgICAgICAgICBpZiAoIShyKCkpKSB7CiAgICAgICAgICAgIGF4ZVJlc2V0LnB1c2goZHIp");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZVJlc2V0");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnJlc2V0c1theGVSZXNldFtrXV07CiAg");
    sb.append("ICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRzdGFuZGluZykgewogICAgICAgICAg");
    sb.append("b2JqLm91dHN0YW5kaW5nW2NoXSA9IHsgb3B0aW9uczogW10gfTsKICAgICAgICB9CiAgICAgICAgdmFy");
    sb.append("IG4gPSBvdXRzdGFuZGluZy5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKysp");
    sb.append("IHsKICAgICAgICAgIHZhciBvID0gb3V0c3RhbmRpbmdba107CiAgICAgICAgICBvYmoub3V0c3RhbmRp");
    sb.append("bmdbby5jaGFubmVsXSA9IG87CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRz");
    sb.append("dGFuZGluZykgewogICAgICAgICAgdmFyIG91dCA9IG9iai5vdXRzdGFuZGluZ1tjaF07CiAgICAgICAg");
    sb.append("ICB2YXIgYXhlID0gW107CiAgICAgICAgICBmb3IgKHZhciBzdWIgaW4gb2JqLmRlY2lzaW9ucykgewog");
    sb.append("ICAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2ggKyAifCIpIHx8IHN1Yi5zdGFydHNXaXRoKCIt");
    sb.append("fCIpKSB7CiAgICAgICAgICAgICAgaWYgKCFvYmouZGVjaXNpb25zW3N1Yl0ob3V0LCBjaCkpIHsKICAg");
    sb.append("ICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5ndGg7IGsrKykgewog");
    sb.append("ICAgICAgICAgICBkZWxldGUgb2JqLmRlY2lzaW9uc1theGVba11dOwogICAgICAgICAgfQogICAgICAg");
    sb.append("IH0KICAgICAgfTsKICAgICAgY29ubmVjdGlvbnNbbmFtZV0gPSBvYmo7CiAgICAgIHJldHVybiBvYmo7");
    sb.append("CiAgICB9CiAgfTsKICBzZWxmLmdldENvbm5lY3Rpb25CeU5hbWUgPSBnZXRfY29ubmVjdGlvbl9vYmo7");
    sb.append("CgogIHNlbGYubWFrZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgQWRhbWFUcmVlKCk7CiAg");
    sb.append("fTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRoZSBnaXZlbiAnc3ViJyB0byBjaGFuZ2VzIHdpdGhp");
    sb.append("biBzdGF0ZSBmb3IgdGhlIGdpdmVuIGZpZWxkIG5hbWVkIG5hbWUKICB2YXIgc3Vic2NyaWJlID0gZnVu");
    sb.append("Y3Rpb24gKHN0YXRlLCBuYW1lLCBzdWIpIHsKICAgIHZhciBzcyA9IHNlbGYucEkoc3RhdGUsIG5hbWUp");
    sb.append("OwogICAgdmFyIHMgPSBzc1tzcy5jdXJyZW50XTsKICAgIGlmIChzID09IG51bGwpIHsKICAgICAgY29u");
    sb.append("c29sZS5lcnJvcihzcy5jdXJyZW50ICsgIiBpcyBub3QgYXZhaWxhYmxlOyB1bmFibGUgdG8gc3Vic2Ny");
    sb.append("aWJlLiIpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIkBlIiBpbiBzLmRlbHRhKSB7CiAgICAg");
    sb.append("IHMuZGVsdGFbIkBlIl0ucHVzaChzdWIpOwogICAgfSBlbHNlIHsKICAgICAgcy5kZWx0YVsiQGUiXSA9");
    sb.append("IFtzdWJdOwogICAgfQogIH07CiAgc2VsZi5zdWJzY3JpYmUgPSBzdWJzY3JpYmU7CgogIC8vIEhFTFBF");
    sb.append("UiB8IGNyZWF0ZSBmcmVzaCBzdGF0ZQogIHZhciBmcmVzaCA9IGZ1bmN0aW9uICh3aGVyZSkgewogICAg");
    sb.append("cmV0dXJuIHsKICAgICAgdHJlZTogbmV3IEFkYW1hVHJlZSgpLAogICAgICBkZWx0YToge30sCiAgICAg");
    sb.append("IHBhcmVudDogbnVsbCwKICAgICAgcGF0aDogbnVsbCwKICAgICAgd2hlcmU6IHdoZXJlCiAgICB9Owog");
    sb.append("IH07CiAgc2VsZi5mcmVzaCA9IGZyZXNoOwoKICAvLyBIRUxQRVI6IHJlbW92ZSBwb3RlbnRpYWxseSBz");
    sb.append("ZW5zaXRpdmUgaW5mb3JtYXRpb24gZnJvbSBhbiBvYmplY3QKICB2YXIgc2FmZV9maWx0ZXIgPSBmdW5j");
    sb.append("dGlvbihvKSB7CiAgICBpZiAoJ3Bhc3N3b3JkJyBpbiBvKSB7CiAgICAgIGRlbGV0ZSBvWydwYXNzd29y");
    sb.append("ZCddOwogICAgfQogICAgaWYgKCdvbmVfdGltZV9wYXNzd29yZCcgaW4gbykgewogICAgICBkZWxldGUg");
    sb.append("b1snb25lX3RpbWVfcGFzc3dvcmQnXTsKICAgIH0KICAgIHJldHVybiBvOwogIH0KCiAgLy8gSEVMUEVS");
    sb.append("IHwgY3JlYXRlIGEgbmV3IGRlbHRhIGNvcHkgZnJvbSB0aGUgZ2l2ZW4gc3BlY2lmaWMgc3RhdGUgKGku");
    sb.append("ZS4gZWl0aGVyIGRhdGEgb3IgdmlldykKICB2YXIgbmV3X2RlbHRhX2NvcHkgPSBmdW5jdGlvbiAoc3Mp");
    sb.append("IHsKICAgIGlmIChzcyA9PSBudWxsKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgdmFyIHBh");
    sb.append("cmVudCA9IG51bGw7CiAgICBpZiAoc3MucGFyZW50ICE9IG51bGwpIHsKICAgICAgcGFyZW50ID0gbmV3");
    sb.append("X2RlbHRhX2NvcHkoc3MucGFyZW50KTsKICAgIH0KICAgIHZhciBuZXdfZGVsdGEgPSB7fTsKICAgIGlm");
    sb.append("IChwYXJlbnQgIT0gbnVsbCkgewogICAgICBwYXJlbnQuZGVsdGFbc3MucGF0aF0gPSBuZXdfZGVsdGE7");
    sb.append("CiAgICB9CiAgICByZXR1cm4geyB0cmVlOiBzcy50cmVlLCBwYXJlbnQ6IHBhcmVudCwgZGVsdGE6IG5l");
    sb.append("d19kZWx0YSwgcGF0aDogc3MucGF0aCB9OwogIH07CiAgc2VsZi5tYWtlRGVsdGFDb3B5ID0gbmV3X2Rl");
    sb.append("bHRhX2NvcHk7CgogIC8vIEhFTFBFUiB8IGNvbnN0cnVjdCBhIHBhdGggdG8KICB2YXIgcGF0aF90byA9");
    sb.append("IGZ1bmN0aW9uIChzcywgb2JqKSB7CiAgICBpZiAoc3MucGFyZW50ICE9IG51bGwpIHsKICAgICAgdmFy");
    sb.append("IHBlZWwgPSB7fTsKICAgICAgcGVlbFtzcy5wYXRoXSA9IG9iajsKICAgICAgcmV0dXJuIHBhdGhfdG8o");
    sb.append("c3MucGFyZW50LCBwZWVsKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsK");
    sb.append("ICBzZWxmLnBhdGhUbyA9IHBhdGhfdG87CgogIC8vIEhFTFBFUiB8IGdldCB0aGUgcm9vdCBvZiB0aGUg");
    sb.append("c3BlY2lmaWMgc3RhdGUgKGkuZS4gZWl0aGVyIHRoZSBkYXRhJ3Mgcm9vdCBvciB0aGUgdmlldydzIHJv");
    sb.append("b3QpCiAgdmFyIHJvb3Rfb2YgPSBmdW5jdGlvbiAoc3MpIHsKICAgIHZhciB4ID0gc3M7CiAgICB3aGls");
    sb.append("ZSAoeC5wYXJlbnQgIT0gbnVsbCkgewogICAgICB4ID0geC5wYXJlbnQ7CiAgICB9CiAgICByZXR1cm4g");
    sb.append("eDsKICB9OwogIHNlbGYucm9vdE9mID0gcm9vdF9vZjsKCiAgLy8gSEVMUEVSIHwgcmVtb3ZlIGFsbCB0");
    sb.append("aGUgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gRE9NIG5vZGUKICB2YXIgbnVrZSA9IGZ1bmN0aW9uIChw");
    sb.append("YXJlbnQpIHsKICAgIHZhciBsYXN0ID0gcGFyZW50Lmxhc3RDaGlsZDsKICAgIHdoaWxlIChsYXN0KSB7");
    sb.append("CiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChsYXN0KTsKICAgICAgbGFzdCA9IHBhcmVudC5sYXN0Q2hp");
    sb.append("bGQ7CiAgICB9CiAgfTsKICBzZWxmLm51a2UgPSBudWtlOwoKICAvLyBIRUxQRVI6IGRlYm91bmNlIHRo");
    sb.append("ZSBnaXZlbiBmdW5jdGlvbmFsIHdoZW4gcmFwaWQgZnVuY3Rpb24gc3ByZWFkIGlzIGV4cGVjdGVkCiAg");
    sb.append("dmFyIGRlYm91bmNlID0gZnVuY3Rpb24gKG1zLCBmb28pIHsKICAgIHZhciBzdGF0dXMgPSB7IGluZmxp");
    sb.append("Z2h0OiBmYWxzZSwgdGltZW91dDogbnVsbCB9OwogICAgc3RhdHVzLmluZmxpZ2h0ID0gZmFsc2U7CiAg");
    sb.append("ICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXN0YXR1cy5pbmZsaWdodCkgewogICAgICAg");
    sb.append("IHN0YXR1cy5pbmZsaWdodCA9IHRydWU7CiAgICAgICAgc3RhdHVzLnRpbWVvdXQgPSB3aW5kb3cuc2V0");
    sb.append("VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzdGF0dXMuaW5mbGlnaHQgPSBmYWxzZTsKICAg");
    sb.append("ICAgICAgIHN0YXR1cy50aW1lb3V0ID0gbnVsbDsKICAgICAgICAgIGZvbygpOwogICAgICAgIH0sIG1z");
    sb.append("IC8qIG1zICovKTsgLy8gZGVib3VuY2UgdGhlIHBhcmFtZXRlcnMKICAgICAgfQogICAgfTsKICB9Owog");
    sb.append("IHNlbGYuZGVib3VuY2UgPSBkZWJvdW5jZTsKCiAgLy8gSEVMUEVSIHwgcHJlcGFyZSBhIGZyZWUgdW5z");
    sb.append("dWJzY3JpYmUgb2JqZWN0CiAgdmFyIG1ha2VfdW5zdWIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4g");
    sb.append("ewogICAgICBfX2RhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgfSwgX192aWV3OiBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIH0KICAgIH07CiAgfTsKCiAgLy8gSEVMUEVSIHwgYXVnbWVudCBhbiBleGlzdGluZyBvYmpl");
    sb.append("Y3Qgd2l0aCB1bnN1YnNjcmliZSBkYXRhCiAgdmFyIGFkZF91bnN1YiA9IGZ1bmN0aW9uIChvYmopIHsK");
    sb.append("ICAgIG9iai5fX2RhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwogICAgb2JqLl9fdmlldyA9IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgIH07CiAgfTsKCiAgLy8gSEVMUEVSIHwgZmlyZSB0aGUgdW5zdWJzY3JpYmUgY2Fs");
    sb.append("bHMgd2l0aGluIGFuIG9iamVjdAogIHZhciBmaXJlX3Vuc3ViID0gZnVuY3Rpb24gKHVuc3ViKSB7CiAg");
    sb.append("ICB1bnN1Yi5fX2RhdGEoKTsKICAgIHVuc3ViLl9fdmlldygpOwogIH07CgogIHZhciBpc0VtcHR5RGVs");
    sb.append("dGEgPSBmdW5jdGlvbihkZWx0YSkgewogICAgaWYgKHR5cGVvZihkZWx0YSkgPT0gImZ1bmN0aW9uIikg");
    sb.append("ewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVsdGEpKSB7");
    sb.append("CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVsdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAo");
    sb.append("IWlzRW1wdHlEZWx0YShkZWx0YVtqXSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9");
    sb.append("CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mKGRlbHRhKSA9PSAib2JqZWN0IikgewogICAgICBm");
    sb.append("b3IgKHZhciBrIGluIGRlbHRhKSB7CiAgICAgICAgaWYgKCFpc0VtcHR5RGVsdGEoZGVsdGFba10pKSB7");
    sb.append("CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4g");
    sb.append("dHJ1ZTsKICB9CgogIC8vIEhFTFBFUiB8IHN1YnNjcmliZSB0byBzdGF0ZSBhbmQgcG9wdWxhdGUgdW5z");
    sb.append("dWJzY3JpYmUgb2JqZWN0CiAgdmFyIHN1YnNjcmliZV9zdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgdW5z");
    sb.append("dWIpIHsKICAgIC8vICAmJiAhaXNFbXB0eURlbHRhKHN0YXRlLmRhdGEpCiAgICB1bnN1Yi5fX2RhdGEg");
    sb.append("PSBmdW5jdGlvbiAoKSB7CiAgICB9OwogICAgdW5zdWIuX192aWV3ID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("fTsKCiAgICBpZiAoc3RhdGUuZGF0YSAhPSBudWxsKSB7CiAgICAgIHZhciBkZWx0YSA9IHJvb3Rfb2Yo");
    sb.append("c3RhdGUuZGF0YSkuZGVsdGE7CiAgICAgIGlmICghaXNFbXB0eURlbHRhKGRlbHRhKSkgewogICAgICAg");
    sb.append("IHVuc3ViLl9fZGF0YSA9IHN0YXRlLmRhdGEudHJlZS5zdWJzY3JpYmUoZGVsdGEpOwogICAgICB9CiAg");
    sb.append("ICB9CiAgICAvLyAgJiYgIWlzRW1wdHlEZWx0YShzdGF0ZS52aWV3KQogICAgaWYgKHN0YXRlLnZpZXcg");
    sb.append("IT0gbnVsbCkgewogICAgICB2YXIgZGVsdGEgPSByb290X29mKHN0YXRlLnZpZXcpLmRlbHRhOwogICAg");
    sb.append("ICBpZiAoIWlzRW1wdHlEZWx0YShkZWx0YSkpIHsKICAgICAgICB1bnN1Yi5fX3ZpZXcgPSBzdGF0ZS52");
    sb.append("aWV3LnRyZWUuc3Vic2NyaWJlKGRlbHRhKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIFJVTlRJTUUg");
    sb.append("fCBTd2l0Y2ggdG8gdGhlIHZpZXcgb2JqZWN0CiAgc2VsZi5wViA9IGZ1bmN0aW9uIChzdGF0ZSkgewog");
    sb.append("ICAgcmV0dXJuIHsgc2VydmljZTogc3RhdGUuc2VydmljZSwgZGF0YTogc3RhdGUuZGF0YSwgdmlldzog");
    sb.append("c3RhdGUudmlldywgY3VycmVudDogInZpZXciIH07CiAgfTsKICBzZWxmLm5ld1N0YXRlVmlld09mID0g");
    sb.append("c2VsZi5wVjsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgZGF0YSBvYmplY3QKICBzZWxmLnBE");
    sb.append("ID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBk");
    sb.append("YXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAiZGF0YSIgfTsKICB9Owog");
    sb.append("IHNlbGYubmV3U3RhdGVEYXRhT2YgPSBzZWxmLnBEOwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRo");
    sb.append("ZSByb290IG9iamVjdCAvIChSb290KQogIHNlbGYucFIgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZh");
    sb.append("ciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBz");
    sb.append("dGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0");
    sb.append("YXRlLmN1cnJlbnRdOwogICAgd2hpbGUgKHByaW9yICE9IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5j");
    sb.append("dXJyZW50XSA9IHByaW9yOwogICAgICBwcmlvciA9IHByaW9yLnBhcmVudDsKICAgIH0KICAgIHJldHVy");
    sb.append("biBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVJvb3RPZiA9IHNlbGYucFI7CgogIC8vIFJVTlRJTUUg");
    sb.append("fCAuLi8gKFVwKQogIHNlbGYucFUgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0ID0geyBz");
    sb.append("ZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBj");
    sb.append("dXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1cnJlbnRd");
    sb.append("OwogICAgaWYgKHByaW9yLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIG5leHRbc3RhdGUuY3VycmVudF0g");
    sb.append("PSBwcmlvci5wYXJlbnQ7CiAgICB9CiAgICByZXR1cm4gbmV4dDsKICB9OwogIHNlbGYubmV3U3RhdGVQ");
    sb.append("YXJlbnRPZiA9IHNlbGYucFU7CgogIC8vIFJVTlRJTUUgfCBkaXZlIG9uZSBsZXZlbCBJbnRvIHBhdGgx");
    sb.append("L3BhdGgyLy4uLi4vcGF0aE4KICBzZWxmLnBJID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lKSB7CiAgICB2");
    sb.append("YXIgcHJpb3IgPSBzdGF0ZVtzdGF0ZS5jdXJyZW50XTsKICAgIGlmIChwcmlvciA9PSBudWxsKSB7CiAg");
    sb.append("ICAgIGNvbnNvbGUuZXJyb3Ioc3RhdGUuY3VycmVudCArICIgaXMgbm90IHByZXNlbnQiKTsKICAgICAg");
    sb.append("cmV0dXJuIHN0YXRlOwogICAgfQogICAgaWYgKCEobmFtZSBpbiBwcmlvci5kZWx0YSkpIHsKICAgICAg");
    sb.append("cHJpb3IuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0");
    sb.append("ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0");
    sb.append("ZS5jdXJyZW50IH07CiAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gewogICAgICB0cmVlOiBwcmlvci50");
    sb.append("cmVlLAogICAgICBkZWx0YTogcHJpb3IuZGVsdGFbbmFtZV0sCiAgICAgIHBhcmVudDogcHJpb3IsCiAg");
    sb.append("ICAgIHBhdGg6IG5hbWUKICAgIH07CiAgICBpZiAobmV4dC5jdXJyZW50ID09ICJkYXRhIikgewogICAg");
    sb.append("ICBuZXh0LmRhdGEuY29ubmVjdGlvbiA9IHByaW9yLmNvbm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4g");
    sb.append("bmV4dDsKICB9OwogIHNlbGYubmV3U3RhdGVEaXZlSW50byA9IHNlbGYucEk7CgogIC8vIFJVTlRJTUUg");
    sb.append("fCBleHRlbmQgdGhlIGdpdmVuIHN0YXRlIHdpdGggdGhlIHZpZXcgaGF2aW5nIGEgc2VwYXJhdGUgY2hp");
    sb.append("bGQKICBzZWxmLnBFViA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgaWYgKCEobmFtZSBpbiBz");
    sb.append("dGF0ZS52aWV3LmRlbHRhKSkgewogICAgICBzdGF0ZS52aWV3LmRlbHRhW25hbWVdID0ge307CiAgICB9");
    sb.append("CiAgICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLAogICAgICBkYXRhOiBzdGF0");
    sb.append("ZS5kYXRhLAogICAgICB2aWV3OiB7CiAgICAgICAgdHJlZTogc3RhdGUudmlldy50cmVlLAogICAgICAg");
    sb.append("IGRlbHRhOiBzdGF0ZS52aWV3LmRlbHRhW25hbWVdLAogICAgICAgIHBhcmVudDogc3RhdGUudmlldywK");
    sb.append("ICAgICAgICBwYXRoOiBuYW1lCiAgICAgIH0sCiAgICAgIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQKICAg");
    sb.append("IH07CiAgfTsKICBzZWxmLm5ld1N0YXRlQ3JlYXRlVmlld0NoaWxkID0gc2VsZi5wRVY7CgogIHNlbGYu");
    sb.append("cElFID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3KSB7CiAgICB2YXIgbmV4dCA9IHNl");
    sb.append("bGYucEkoc3RhdGUsIG5hbWUpOwogICAgaWYgKGV4cGFuZFZpZXcpIHsKICAgICAgcmV0dXJuIHNlbGYu");
    sb.append("cEVWKG5leHQsIG5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5leHQ7CiAgICB9CiAgfTsK");
    sb.append("CiAgdmFyIGZvcmsgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewogICAgdmFyIHN0YXRlID0gewogICAg");
    sb.append("ICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IG5ld19kZWx0YV9jb3B5KHBy");
    sb.append("aW9yU3RhdGUuZGF0YSksCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyks");
    sb.append("CiAgICAgIGN1cnJlbnQ6IHByaW9yU3RhdGUuY3VycmVudAogICAgfTsKICAgIGlmIChzdGF0ZS5kYXRh");
    sb.append("ICE9IG51bGwpIHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uID0gcHJpb3JTdGF0ZS5kYXRhLmNv");
    sb.append("bm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4gc3RhdGU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHN1YnNj");
    sb.append("cmliZSBiZXR3ZWVuIHRoZSBzdGF0ZSBhbmQgdGhlIG9iamVjdC4KICAvLyBXaGVuIHRoZSBtZW1iZXIg");
    sb.append("ZmllbGQgd2l0aGluIHN0YXRlIG9mIG5hbWUgY2hhbmdlcywgY29weSB0aGF0IHZhbHVlIGludG8gdGhl");
    sb.append("IG9iaiBhbmQgcnVuIHJlY29tcHV0ZSgpCiAgc2VsZi5ZID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5h");
    sb.append("bWUsIHJlY29tcHV0ZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKCk7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRl");
    sb.append("LCBuYW1lLCBzdWIpOwogIH07CgogIHNlbGYuWTIgPSBmdW5jdGlvbiAoc3RhdGUsIHIsIGtleSwgbmFt");
    sb.append("ZSwgcmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBv");
    sb.append("YmogPSByLl9ba2V5XTsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJlY29tcHV0ZShvYmop");
    sb.append("OwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7");
    sb.append("CiAgfTsKCiAgLy8gUlVOVElNRTogYnVpbGQgYW4gcnhvYmoKICBzZWxmLlJYID0gZnVuY3Rpb24gKHZh");
    sb.append("cnMpIHsKICAgIHZhciBvID0ge307CiAgICBvLl8gPSB7fTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("dmFycy5sZW5ndGg7IGsrKykgewogICAgICBvLl9bdmFyc1trXV0gPSB7fTsKICAgIH0KICAgIG8uX18g");
    sb.append("PSBmdW5jdGlvbigpIHt9OwogICAgcmV0dXJuIG87CiAgfTsKCiAgLy8gUlVOVElNRSB8IEp1c3Qgc3Vi");
    sb.append("c2NyaWJlZSB2YWx1ZSB0byB0aGUgb2JqZWN0IGZpZWxkIG9mIG5hbWUgKG5vLXJlY29tcHV0ZSkKICBz");
    sb.append("ZWxmLllTID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5hbWUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlv");
    sb.append("biAodmFsdWUpIHsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FIHwgIlRl");
    sb.append("eHQiCiAgc2VsZi5UID0gZnVuY3Rpb24gKHR4KSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4");
    sb.append("dE5vZGUodHgpOwogIH07CgogIC8vIGNvbnZlcnQgYSB2YWx1ZSBpbnRvIGEgYm9vbGVhbgogIHNlbGYu");
    sb.append("QiA9IGZ1bmN0aW9uKHZhbCkgewogICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICByZXR1cm4gdHJ1");
    sb.append("ZTsKICAgIH0KICAgIHJldHVybiB2YWwgPT0gInRydWUiOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dmll");
    sb.append("dy13cml0ZSBuYW1lPSIiIHZhbHVlPSIiPgogIHNlbGYuVlcgPSBmdW5jdGlvbihzdGF0ZSwgbmFtZSwg");
    sb.append("cnhPYmopIHsKICAgIHJ4T2JqLl9fID0gZGVib3VuY2UoNTAsIGZ1bmN0aW9uKCkgewogICAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICAgIHZhciB2YWx1ZSA9IHJ4T2JqLnZhbHVlOwogICAgICBpZiAodHlwZW9mICh2");
    sb.append("YWx1ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0g");
    sb.append("cGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVw");
    sb.append("ZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGxvb2t1cCBwYXRoPS4uLj4K");
    sb.append("ICBzZWxmLkwgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5j");
    sb.append("cmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRv");
    sb.append("bS5ub2RlVmFsdWUgPSB2YWx1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7");
    sb.append("CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uIHRyYW5z");
    sb.append("Zm9ybT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCB0cmFu");
    sb.append("c2Zvcm0pIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIg");
    sb.append("c3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAg");
    sb.append("ZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7CiAgICAgIH0KICAgIH07CiAgICBzdWJzY3Jp");
    sb.append("YmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIHNlbGYuTGggPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJz");
    sb.append("cGFuIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBu");
    sb.append("dWxsKSB7CiAgICAgICAgZG9tLmlubmVySFRNTCA9IHZhbHVlOwogICAgICB9CiAgICB9OwogICAgc3Vi");
    sb.append("c2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogICAgcmV0dXJuIGRvbTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("IHwgPGxvb2t1cCBwYXRoPS4uLiB0cmFuc2Zvcm09IiR0cmFuc2Zvcm0iIC8+CiAgc2VsZi5MVGRUID0g");
    sb.append("ZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCB0cmFuc2Zvcm0sIGZyZXEpIHsKICAgIHZhciBkb20gPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICAvLyBjcmVhdGUgdGhlIG5leHVzIG9iamVjdAogICAg");
    sb.append("dmFyIG9iaiA9IHt9OwogICAgb2JqLmZyZXEgPSBmcmVxOwogICAgb2JqLnZhbHVlID0gIiI7CgogICAg");
    sb.append("Ly8gdXBkYXRlIHdpbGwgZXhlY3V0ZSB0aGUgdHJhbnNmb3JtIG9uIHRoZSB2YWx1ZQogICAgb2JqLnVw");
    sb.append("ZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICBkb20ubm9kZVZhbHVlID0gdHJhbnNmb3JtKHRoaXMudmFs");
    sb.append("dWUpOwogICAgfS5iaW5kKG9iaik7CgogICAgLy8gc3Vic2NyaXB0aW9uIHdpbGwgc3luYyB0aGUgdmFs");
    sb.append("dWUKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlICE9IG51bGwp");
    sb.append("IHsKICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CiAgICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAg");
    sb.append("fQogICAgfS5iaW5kKG9iaik7CgogICAgLy8gcmVmcmVzaCB3aWxsIHJlLWV4ZWN1dGUgdGhlIHVwZGF0");
    sb.append("ZSAoYW5kIHRodXMgdGhlIHRyYW5zZm9ybSkKICAgIG9iai5yZWZyZXNoID0gZnVuY3Rpb24oKSB7CiAg");
    sb.append("ICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvbSkpIHsg");
    sb.append("Ly8gd2lsbCBydW4gc28gbG9uZyBhcyB0aGUgRE9NIGNvbnRhaW5zIHRoZSBub2RlIHdlIG1hbmlwdWxh");
    sb.append("dGVkCiAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5yZWZyZXNoLCB0aGlzLmZyZXEpOwogICAg");
    sb.append("ICB9CiAgICB9LmJpbmQob2JqKTsKICAgIC8vIGtpY2sgb2ZmIHRoZSBhdXRvIHRyYW5zZm9ybQogICAg");
    sb.append("d2luZG93LnNldFRpbWVvdXQob2JqLnJlZnJlc2gsIGZyZXEpOwogICAgc3Vic2NyaWJlKHN0YXRlLCBu");
    sb.append("YW1lLCBzdWIpOwogICAgcmV0dXJuIGRvbTsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRhZz4KICBzZWxm");
    sb.append("LkUgPSBmdW5jdGlvbiAodGFnLCBucykgewogICAgaWYgKG5zID09IHVuZGVmaW5lZCB8fCBucyA9PSBu");
    sb.append("dWxsKSB7CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7CiAgICAgIGlm");
    sb.append("ICh0YWcgPT0gInNlbGVjdCIpIHsKICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywg");
    sb.append("ZnVuY3Rpb24oKSB7IGRvbS5yeHZhbHVlID0gZG9tLnZhbHVlOyB9KTsKICAgICAgfQogICAgICByZXR1");
    sb.append("cm4gZG9tOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnROUyhucywgdGFnKTsKICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZSgieG1sbnMiLCBucyk7CiAgICAg");
    sb.append("IHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsKCiAgc2VsZi5DU3QgPSBmdW5jdGlvbiAocGFyZW50LCBz");
    sb.append("dGF0ZSwgY2hpbGRNYWtlckNvbm5lY3RlZCwgY2hpbGRNYWtlckRpc2Nvbm5lY3RlZCkgewogICAgdmFy");
    sb.append("IHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgaWYgKCFzdGF0ZS5kYXRhLmNvbm5lY3Rpb24pIHsKICAg");
    sb.append("ICAgcmV0dXJuOwogICAgfQogICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNvbm5lY3RlZChmdW5jdGlv");
    sb.append("bihjcykgewogICAgICBpZiAodGhpcy5wcmlvciA9PSBjcykgewogICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("fQogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICB0aGlzLnBy");
    sb.append("aW9yID0gY3M7CiAgICAgIHZhciBuZXdTdGF0ZSA9IGZvcmsoc3RhdGUpOwogICAgICBpZiAoY3MpIHsK");
    sb.append("ICAgICAgICBjaGlsZE1ha2VyQ29ubmVjdGVkKHBhcmVudCwgbmV3U3RhdGUpOwogICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQocGFyZW50LCBuZXdTdGF0ZSk7CiAgICAgIH0K");
    sb.append("ICAgICAgc3Vic2NyaWJlX3N0YXRlKG5ld1N0YXRlLCB1bnN1Yik7CiAgICAgIHJldHVybiBkb2N1bWVu");
    sb.append("dC5ib2R5LmNvbnRhaW5zKHBhcmVudCk7CiAgICB9LmJpbmQoe3ByaW9yOm51bGx9KSk7CiAgfTsKCiAg");
    sb.append("Ly8gZG9jdW1lbnQtZ2V0CiAgc2VsZi5EY0cgPSBmdW5jdGlvbihwYXJlbnQsIHByaW9yU3RhdGUsIHJ4");
    sb.append("T2JqLCBjaGlsZE1ha2VyRmV0Y2hlZCwgY2hpbGRNYWtlckZhaWxlZCkgewogICAgLy8gVE9ETwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgPGRvbWFpbi1nZXQgdXJsPSJwYXRoIiBzZWFyY2g6eD0iLi4uIj4KICBzZWxm");
    sb.append("LkRHID0gZnVuY3Rpb24ocGFyZW50LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRNYWtlckZldGNoZWQs");
    sb.append("IGNoaWxkTWFrZXJGYWlsZWQpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgIHJ4T2Jq");
    sb.append("Ll9fID0gZGVib3VuY2UoNTAsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEoJ3VybCcgaW4gcnhPYmop");
    sb.append("KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBhcmdzID0gW107CiAgICAgIHZhciBp");
    sb.append("ZGVudGl0eSA9IG51bGw7CiAgICAgIGZvciAodmFyIGFyZyBpbiByeE9iaikgewogICAgICAgIHZhciB2");
    sb.append("YWwgPSByeE9ialthcmddOwogICAgICAgIHN3aXRjaCAoYXJnKSB7CiAgICAgICAgICBjYXNlICJfXyI6");
    sb.append("CiAgICAgICAgICBjYXNlICJfIjoKICAgICAgICAgIGNhc2UgInVybCI6CiAgICAgICAgICBjYXNlICJy");
    sb.append("ZWRpcmVjdCI6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiaWRlbnRpdHkiOgogICAg");
    sb.append("ICAgICAgICBpZiAodHlwZW9mKHZhbCkgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBpZGVudGl0");
    sb.append("eSA9IHJ4T2JqW2FyZ107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBk");
    sb.append("ZWZhdWx0OgogICAgICAgICAgICBhcmdzLnB1c2goYXJnICsgIj0iICsgZW5jb2RlVVJJQ29tcG9uZW50");
    sb.append("KHZhbCkpOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgdXJsID0gcnhPYmoudXJsICsgKGFyZ3Mu");
    sb.append("bGVuZ3RoID4gMCA/ICI/IiArIGFyZ3Muam9pbigiJiIpIDogIiIpOwogICAgICB0aGlzLmdlbiArKzsK");
    sb.append("ICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3Qo");
    sb.append("KTsKICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlm");
    sb.append("ICh0aGlzLnhodHRwLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLmdlbiA9PSBzZWxmLmdlbikgewogICAg");
    sb.append("ICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgICAgICBudWtlKHBhcmVudCk7CiAgICAgICAgICB2");
    sb.append("YXIgdHJlZSA9IG5ldyBBZGFtYVRyZWUoKTsKICAgICAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICAg");
    sb.append("ICAgc2VydmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNlLAogICAgICAgICAgICBkYXRhOiB7IGNvbm5lY3Rp");
    sb.append("b246IHByaW9yU3RhdGUuY29ubmVjdGlvbiwgdHJlZTogdHJlZSwgZGVsdGE6IHt9LCBwYXJlbnQ6IG51");
    sb.append("bGwsIHBhdGg6IG51bGwgfSwKICAgICAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0");
    sb.append("ZS52aWV3KSwKICAgICAgICAgICAgY3VycmVudDogImRhdGEiCiAgICAgICAgICB9OwoKICAgICAgICAg");
    sb.append("IGlmICh0aGlzLnhodHRwLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlz");
    sb.append("LnhodHRwLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgICAgaWYgKHR5");
    sb.append("cGUgPT0gImFwcGxpY2F0aW9uL2pzb24iKSB7CiAgICAgICAgICAgICAgdmFyIHRvUHVzaCA9IHRyZWUu");
    sb.append("TWFrZURlbHRhKEpTT04ucGFyc2UodGhpcy54aHR0cC5yZXNwb25zZVRleHQpKTsKICAgICAgICAgICAg");
    sb.append("ICBjaGlsZE1ha2VyRmV0Y2hlZChwYXJlbnQsIHN0YXRlKTsKICAgICAgICAgICAgICBzdWJzY3JpYmVf");
    sb.append("c3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAgICAgICB0cmVlLnVwZGF0ZSh0b1B1c2gpOwogICAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNoaWxkTWFrZXJGYWlsZWQocGFyZW50LCBzdGF0");
    sb.append("ZSk7CiAgICAgICAgICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoaWxkTWFrZXJGYWlsZWQocGFyZW50LCBz");
    sb.append("dGF0ZSk7CiAgICAgICAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAgICAg");
    sb.append("fQogICAgICAgIH0KICAgICAgfS5iaW5kKHtnZW46c2VsZi5nZW4sIHhodHRwOnhodHRwfSk7CiAgICAg");
    sb.append("IHhodHRwLm9wZW4oIkdFVCIsICIvfmQiICsgdXJsLCB0cnVlKTsKICAgICAgaWYgKGlkZW50aXR5ICE9");
    sb.append("IG51bGwpIHsKICAgICAgICB4aHR0cC5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwgIkJl");
    sb.append("YXJlciAiICsgaWRlbnRpdHkpOwogICAgICB9CiAgICAgIHhodHRwLndpdGhDcmVkZW50aWFscyA9IHRy");
    sb.append("dWU7CiAgICAgIHhodHRwLnNlbmQoKTsKICAgIH0uYmluZCh7dXJsOiIiLCBnZW46MH0pKTsKICAgIHJ4");
    sb.append("T2JqLl9fKCk7CiAgfQoKICAvLyBSVU5USU1FIHwgPHBpY2sgbmFtZT0uLi4+CiAgc2VsZi5QID0gZnVu");
    sb.append("Y3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgcnhPYmosIGNoaWxkTWFrZXJDb25uZWN0ZWQsIGNoaWxk");
    sb.append("TWFrZXJEaXNjb25uZWN0ZWQsIGtlZXBPcGVuKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7");
    sb.append("CiAgICByeE9iai5fXyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4T2JqKSkg");
    sb.append("ewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5uYW1lID09IHJ4T2JqLm5hbWUp");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2Jq");
    sb.append("KHJ4T2JqLm5hbWUpOwogICAgICB0aGlzLm5hbWUgPSByeE9iai5uYW1lOwogICAgICBjby5jb25uZWN0");
    sb.append("ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWQgJiYga2VlcE9wZW4pIHsK");
    sb.append("ICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbnVrZShwYXJlbnQpOwogICAgICAgIGZp");
    sb.append("cmVfdW5zdWIodW5zdWIpOwogICAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICAgIHNlcnZpY2U6IHBy");
    sb.append("aW9yU3RhdGUuc2VydmljZSwKICAgICAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogY28sIHRyZWU6IGNv");
    sb.append("LnRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgICB2aWV3");
    sb.append("OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICAgICAgY3VycmVudDogImRhdGEi");
    sb.append("CiAgICAgICAgfTsKICAgICAgICBpZiAoY3MpIHsKICAgICAgICAgIHRoaXMucmVuZGVyZWQgPSB0cnVl");
    sb.append("OwogICAgICAgICAgY2hpbGRNYWtlckNvbm5lY3RlZChwYXJlbnQsIHN0YXRlKTsKICAgICAgICB9IGVs");
    sb.append("c2UgewogICAgICAgICAgY2hpbGRNYWtlckRpc2Nvbm5lY3RlZChwYXJlbnQsIHN0YXRlKTsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICAgICAgLy8gVE9ETzog");
    sb.append("cmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0uYmluZCh0aGlz");
    sb.append("KSk7CiAgICB9LmJpbmQoeyBuYW1lOiAiIiwgcmVuZGVyZWQ6ZmFsc2UgfSk7CiAgfTsKCiAgLy8gUlVO");
    sb.append("VElNRSB8IDx0ZW1wbGF0ZSBuYW1lPSIuLi4iPgogIHNlbGYuVFAgPSBmdW5jdGlvbiAobmFtZSwgZm9v");
    sb.append("KSB7CiAgICB0ZW1wbGF0ZXNbbmFtZV0gPSBmb287CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWcgcng6");
    sb.append("dGVtcGxhdGU9JG5hbWU+CiAgc2VsZi5VVCA9IGZ1bmN0aW9uIChwYXJlbnQsIHN0YXRlLCBuYW1lLCBj");
    sb.append("aGlsZF9tYWtlcikgewogICAgdmFyIGZvbyA9IHRlbXBsYXRlc1tuYW1lXTsKICAgIGlmICh0eXBlb2Yo");
    sb.append("Zm9vKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgIGZvbyhwYXJlbnQsIHN0YXRlLCBjaGlsZF9tYWtlcik7");
    sb.append("CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmVycm9yKCJmYWlsZWQgdG8gZmluZCB0ZW1wbGF0ZTog");
    sb.append("IiArIG5hbWUpOwogICAgfQogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnN3aXRjaD1wYXRoIC4u");
    sb.append("PgogIHNlbGYuU1cgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBuYW1lLCBjaGlsZHJlbk1h");
    sb.append("a2VyKSB7CiAgICB2YXIgc3dzdCA9IHsgcHJpb3I6IG51bGwgfTsKICAgIGFkZF91bnN1Yihzd3N0KTsK");
    sb.append("ICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09IHRoaXMucHJp");
    sb.append("b3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5wcmlvciA9IHZhbHVlOwogICAg");
    sb.append("ICBmaXJlX3Vuc3ViKHRoaXMpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZv");
    sb.append("cmsocHJpb3JTdGF0ZSk7CiAgICAgIGNoaWxkcmVuTWFrZXIocGFyZW50LCBzZWxmLnBEKHN0YXRlKSwg");
    sb.append("IiIgKyB2YWx1ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdGhpcyk7CgogICAgfS5iaW5k");
    sb.append("KHN3c3QpOwogICAgc3Vic2NyaWJlKHByaW9yU3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVO");
    sb.append("VElNRSB8IDx0YWcgcng6aXRlcmF0ZT1wYXRoIC4uLj4KICBzZWxmLklUID0gZnVuY3Rpb24gKHBhcmVu");
    sb.append("dERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7CiAgICB2YXIgaXRfc3RhdGUgPSBz");
    sb.append("ZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2YXIgZG9tQnlLZXkgPSB7fTsKICAg");
    sb.append("IHZhciB2aWV3VW5TdWJCeUtleSA9IHt9OwogICAgdmFyIGtpbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IGZvciAodmFyIGtleSBpbiB2aWV3VW5TdWJCeUtleSkgewogICAgICAgIGZpcmVfdW5zdWIodmlld1Vu");
    sb.append("U3ViQnlLZXlba2V5XSk7CiAgICAgICAgZGVsZXRlIHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgIH0K");
    sb.append("ICAgICAgZm9yICh2YXIga2V5IGluIGRvbUJ5S2V5KSB7CiAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tl");
    sb.append("eV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1YiA9IHsKICAgICAgIisiOiBmdW5jdGlvbiAoa2V5");
    sb.append("KSB7CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZvcmsoc2VsZi5wSUUoaXRfc3RhdGUsIGtleSwgZXhw");
    sb.append("YW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgICAgICB2YXIgZG9t");
    sb.append("ID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICBkb21CeUtleVtrZXldID0gZG9tOwogICAgICAgIHZp");
    sb.append("ZXdVblN1YkJ5S2V5W2tleV0gPSB1bnN1YjsKICAgICAgICBwYXJlbnREb20uYXBwZW5kKGRvbSk7CiAg");
    sb.append("ICAgICAgdmFyIGl0ZW1fZGVsdGEgPSBuZXdfc3RhdGUuZGF0YS5kZWx0YTsKICAgICAgICBuZXdfc3Rh");
    sb.append("dGUuZGF0YS5kZWx0YSA9IHt9OwogICAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3Vi");
    sb.append("KTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewogICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0");
    sb.append("ZShwYXRoX3RvKG5ld19zdGF0ZS52aWV3LCB7IiRrZXkiOiBrZXl9KSk7CiAgICAgICAgfTsKICAgICAg");
    sb.append("ICByZXR1cm4gaXRlbV9kZWx0YTsKICAgICAgfSwKICAgICAgIi0iOiBmdW5jdGlvbiAoa2V5KSB7CiAg");
    sb.append("ICAgICAgaWYgKGtleSBpbiBkb21CeUtleSkgewogICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxk");
    sb.append("KGRvbUJ5S2V5W2tleV0pOwogICAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgICAgfQog");
    sb.append("ICAgICAgIGlmIChrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsKICAgICAgICAgIGZpcmVfdW5zdWIodmll");
    sb.append("d1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgICBkZWxldGUgdmlld1VuU3ViQnlLZXlba2V5XTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0sCiAgICAgICJ+IjogZnVuY3Rpb24gKG9yZCkgewogICAgICAgIHZhciB2YWx1");
    sb.append("ZVRvU2V0ID0gZmFsc2U7CiAgICAgICAgLy8gdGhlIHZhbHVlcyBhcmUgZmlsbGluZyB1cCBBRlRFciB0");
    sb.append("aGUgdmFsdWUgd2FzIHNldCwKICAgICAgICAvLyBzbyBkZXRlY3QgdGhlIGFic2VuY2Ugb2YgYSB2YWx1");
    sb.append("ZSBhbG9uZyB3aXRoIHRoZSBleGlzdGVuY2Ugb2YgYSB2YWx1ZQogICAgICAgIGlmICghcGFyZW50RG9t");
    sb.append("LnZhbHVlICYmIHBhcmVudERvbS5yeHZhbHVlICE9ICIiKSB7CiAgICAgICAgICB2YWx1ZVRvU2V0ID0g");
    sb.append("cGFyZW50RG9tLnJ4dmFsdWU7CiAgICAgICAgICAvLyB0aGlzIHZhbHVlLCB3ZSB3YW50IHRvIHJlc3Rv");
    sb.append("cmUgb25jZQogICAgICAgIH0KICAgICAgICBudWtlKHBhcmVudERvbSk7CiAgICAgICAgaWYgKG9yZCA9");
    sb.append("PSBudWxsKSB7CiAgICAgICAgICBraWxsKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb3JkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBwYXJlbnRE");
    sb.append("b20uYXBwZW5kKGRvbUJ5S2V5W29yZFtrXV0pOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWVUb1Nl");
    sb.append("dCkgewogICAgICAgICAgcGFyZW50RG9tLnZhbHVlID0gdmFsdWVUb1NldDsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElN");
    sb.append("RTogPHRhZyAuLi4gcng6bW9uaXRvcj0ic3RhdGUtcGF0aCIgcng6cmlzZT0iY29tbWFuZHMuLi4iIHJ4");
    sb.append("OmZhbGw9ImNvbW1hbmRzLi4uIgogIHNlbGYuTU4gPSBmdW5jdGlvbiAoZG9tLCBzdGF0ZSwgbmFtZSwg");
    sb.append("c2tpcEZpcnN0LCBkZWxheSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB3");
    sb.append("aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbiA9IDA7CiAgICAgICAgdHJ5");
    sb.append("IHsKICAgICAgICAgIG4gPSB0eXBlb2YgKHZhbHVlKSA9PSAnbnVtYmVyJyA/IHZhbHVlIDogcGFyc2VJ");
    sb.append("bnQodmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGZhaWxlZFBhcnNpbmdOKSB7CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGlmICh0aGlzLmZpcnN0KSB7CiAgICAgICAgICB0aGlzLmF0ID0gbjsKICAgICAgICAgIHRoaXMu");
    sb.append("Zmlyc3QgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMu");
    sb.append("YXQgPCBuKSB7CiAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudCgicmlzZSIpOwogICAgICAgICAgZG9t");
    sb.append("LmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF0ID4gbikgewogICAgICAg");
    sb.append("ICAgdmFyIGUgPSBuZXcgRXZlbnQoImZhbGwiKTsKICAgICAgICAgIGRvbS5kaXNwYXRjaEV2ZW50KGUp");
    sb.append("OwogICAgICAgIH0KICAgICAgICB0aGlzLmF0ID0gbjsKICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLmRl");
    sb.append("bGF5KTsKICAgIH0uYmluZCh7YXQ6LTEsIGZpcnN0OnNraXBGaXJzdCwgZGVsYXk6ZGVsYXkgPyBkZWxh");
    sb.append("eSA6IDEwfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElN");
    sb.append("RTogPHRhZyAuLi4gcng6cmVwZWF0PSQ+CiAgc2VsZi5SUCA9IGZ1bmN0aW9uIChwYXJlbnREb20sIHN0");
    sb.append("YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBtYWtlcikgewogICAgdmFyIGl0X3N0YXRlID0gc2VsZi5wSUUo");
    sb.append("c3RhdGUsICIkIiArIG5hbWUsIGV4cGFuZFZpZXcpOwogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1");
    sb.append("ZSkgewogICAgICB2YXIgbiA9IDA7CiAgICAgIHRyeSB7CiAgICAgICAgbiA9IHR5cGVvZiAodmFsdWUp");
    sb.append("ID09ICdudW1iZXInID8gdmFsdWUgOiBwYXJzZUludCh2YWx1ZSk7CiAgICAgIH0gY2F0Y2ggKGZhaWxl");
    sb.append("ZFBhcnNpbmdOKSB7CiAgICAgIH0KICAgICAgd2hpbGUgKHRoaXMuYXQgPCBuIC0gMSkgewogICAgICAg");
    sb.append("IHRoaXMuYXQgKys7CiAgICAgICAgdGhpcy50cmFjayArKzsKICAgICAgICB2YXIgbmV3X3N0YXRlID0g");
    sb.append("Zm9yayhzZWxmLnBJRShpdF9zdGF0ZSwgdGhpcy50cmFjayArICIiLCBleHBhbmRWaWV3KSk7CiAgICAg");
    sb.append("ICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgICAgIHZhciBkb20gPSBtYWtlcihzZWxmLnBE");
    sb.append("KG5ld19zdGF0ZSkpOwogICAgICAgIHRoaXMuaXRlbXNbdGhpcy5hdF0gPSB7dW5zdWI6dW5zdWIsIGRv");
    sb.append("bTpkb219OwogICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tKTsKICAgICAgICBpZiAoZXhwYW5kVmll");
    sb.append("dykgewogICAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShwYXRoX3RvKG5ld19zdGF0ZS52aWV3");
    sb.append("LCB7IiRpbmRleCI6IHRoaXMudHJhY2t9KSk7CiAgICAgICAgfQogICAgICAgIHN1YnNjcmliZV9zdGF0");
    sb.append("ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgfQogICAgICB3aGlsZSAodGhpcy5hdCA+PSBuICYmIHRo");
    sb.append("aXMuYXQgPj0gMCkgewogICAgICAgIGZpcmVfdW5zdWIodGhpcy5pdGVtc1t0aGlzLmF0XS51bnN1Yik7");
    sb.append("CiAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKHRoaXMuaXRlbXNbdGhpcy5hdF0uZG9tKTsKICAg");
    sb.append("ICAgICB0aGlzLml0ZW1zW3RoaXMuYXRdID0gbnVsbDsKICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1t0");
    sb.append("aGlzLmF0XTsKICAgICAgICB0aGlzLmF0LS07CiAgICAgIH0KICAgIH0uYmluZCh7aXRlbXM6W10sIGF0");
    sb.append("Oi0xLCB0cmFjazowfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfQogIHZhciBm");
    sb.append("aW5kID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoY2hhbm5l");
    sb.append("bCBpbiBzdGF0ZVsiZGF0YSJdLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmcpIHsKICAgICAgdmFyIGFyciA9");
    sb.append("IHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXS5vcHRpb25zOwogICAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBzID0gYXJy");
    sb.append("W2tdOwogICAgICAgIGlmIChrZXkgaW4gcyAmJiBzW2tleV0gPT0gdmFsdWUpIHsKICAgICAgICAgIHJl");
    sb.append("dHVybiBzOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIHZhciBjdXN0b21zID0ge307CgogIHNlbGYuUFJD");
    sb.append("VUFDID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9tc1tuYW1lXSA9IGZvbzsKICB9OwoK");
    sb.append("ICBzZWxmLmV4Q0MgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUp");
    sb.append("IHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChj");
    sb.append("dXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAgY3VzdG9tc1tjdXN0b21Db21tYW5k");
    sb.append("TmFtZV0oc3RhdGUsIGRvbSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIGN1c3RvbSBldmVudCBv");
    sb.append("biBmb3Jtczsgcng6c3VjY2Vzcz0iLi4uIgogIHZhciBmaXJlX3N1Y2Nlc3MgPSBmdW5jdGlvbiAoZm9y");
    sb.append("bSkgewogICAgZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgic3VjY2VzcyIpKTsKICAgIGZvcm0u");
    sb.append("ZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1Ym1pdHRlZCIpKTsKICB9OwogIHNlbGYuZmlyZV9zdWNj");
    sb.append("ZXNzID0gZmlyZV9zdWNjZXNzOwoKICAvLyBjdXN0b20gZXZlbnQgb24gZm9ybXM7IHJ4OmZhaWxlZD0i");
    sb.append("Li4uIgogIHZhciBmaXJlX2ZhaWx1cmUgPSBmdW5jdGlvbiAoZG9tLCBtc2cpIHsKICAgIHZhciBlID0g");
    sb.append("bmV3IEV2ZW50KCJmYWlsdXJlIik7CiAgICBlLm1lc3NhZ2UgPSBtc2c7CiAgICBjb25zb2xlLmVycm9y");
    sb.append("KG1zZyk7CiAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICB9OwogIHNlbGYuZmlyZV9mYWlsdXJlID0g");
    sb.append("ZmlyZV9mYWlsdXJlOwoKICBzZWxmLmFDQyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgY3VzdG9tQ29t");
    sb.append("bWFuZE5hbWUpIHsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGlmIChzaWdu");
    sb.append("YWwgPT0gbnVsbCkgewogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgbXNnKTsKICAgICAgfQogICAgfTsKICAgIGZvcm0uYWRkRXZl");
    sb.append("bnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBpZiAoY3VzdG9tQ29tbWFu");
    sb.append("ZE5hbWUgaW4gY3VzdG9tcykgewogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZh");
    sb.append("ciBvYmogPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgICAgY3VzdG9tc1tjdXN0b21Db21tYW5k");
    sb.append("TmFtZV0ob2JqLCBzdGF0ZSwgc2lnbmFsLCBzZWxmKTsKICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gZmluZCAn");
    sb.append("IiArIGN1c3RvbUNvbW1hbmROYW1lICsgIiciKTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgfTsKCiAg");
    sb.append("dmFyIG1ha2VfY2hvaWNlX2FycmF5ID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsKSB7CiAgICB2YXIg");
    sb.append("Y2hvaWNlcyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgaWYgKCEoY2hhbm5lbCBp");
    sb.append("biBjaG9pY2VzKSkgewogICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAgICB9CiAgICB2YXIgY2hv");
    sb.append("aWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgIHZhciBhcnIgPSBbXTsKICAgIGZvciAodmFyIGlkIGlu");
    sb.append("IGNob2ljZSkgewogICAgICBhcnIucHVzaChjaG9pY2VbaWRdKTsKICAgIH0KICAgIHJldHVybiBhcnI7");
    sb.append("CiAgfQoKICBzZWxmLmV4RklOID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIGNoYW5uZWwpIHsK");
    sb.append("ICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhcnIg");
    sb.append("PSBtYWtlX2Nob2ljZV9hcnJheShzdGF0ZSwgY2hhbm5lbCk7CiAgICAgIHZhciBjbGVhciA9IGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgICBkZWxldGUgc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXNbY2hhbm5l");
    sb.append("bF07CiAgICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLm9uY2hvaWNlcyhjaGFubmVsLCB7fSk7CiAg");
    sb.append("ICAgIH07CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCBhcnIsIHsK");
    sb.append("ICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjbGVhcigpOwogICAg");
    sb.append("ICAgICAgY29uc29sZS5sb2coImZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9LAogICAgICAgIHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBjbGVhcigpOwogICAgICAgICAgY29u");
    sb.append("c29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgc2VsZi5GSU4gPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBjaGFubmVs");
    sb.append("LCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgZmluYWxp");
    sb.append("emUgPSB7CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxzZQogICAgfTsKICAgIGFk");
    sb.append("ZF91bnN1YihmaW5hbGl6ZSk7CgogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAg");
    sb.append("IGZpcmVfdW5zdWIoZmluYWxpemUpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9");
    sb.append("IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRCZSkgewogICAgICAgIG1h");
    sb.append("a2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZhbHNlKHBh");
    sb.append("cmVudCwgc3RhdGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgZmluYWxpemUp");
    sb.append("OwogICAgfTsKCiAgICBmaW5hbGl6ZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvdXQg");
    sb.append("PSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXTsKICAgICAgaWYg");
    sb.append("KCEob3V0KSkgcmV0dXJuOwogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2VfYXJyYXkocHJpb3JTdGF0");
    sb.append("ZSwgY2hhbm5lbCk7CiAgICAgIHZhciBldmFsID0gKCdtaW4nIGluIG91dCAmJiAnbWF4JyBpbiBvdXQp");
    sb.append("ID8gKG91dC5taW4gPD0gYXJyLmxlbmd0aCAmJiBhcnIubGVuZ3RoIDw9IG91dC5tYXgpIDogdHJ1ZTsK");
    sb.append("ICAgICAgaWYgKGZpbmFsaXplLmV2YWwgIT0gZXZhbCkgewogICAgICAgIGZpbmFsaXplLmV2YWwgPSBl");
    sb.append("dmFsOwogICAgICAgIGNoYW5nZShmaW5hbGl6ZS5ldmFsKTsKICAgICAgfQogICAgfTsKCiAgICBwcmlv");
    sb.append("clN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNoYW5uZWwsIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgZmluYWxpemUudXBkYXRlKCk7CiAgICAgIC8vIFRPRE86IHJldHVybiB3aGV0aGVyIG9y");
    sb.append("IG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9OwoK");
    sb.append("ICB2YXIgZm9ybV9vZiA9IGZ1bmN0aW9uKGRvbSkgewogICAgdmFyIG5leHQgPSBkb207CiAgICB3aGls");
    sb.append("ZSAobmV4dCAhPSBudWxsKSB7CiAgICAgIGlmIChuZXh0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAi");
    sb.append("Rk9STSIpIHsKICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgfQogICAgICBuZXh0ID0gbmV4dC5wYXJl");
    sb.append("bnRFbGVtZW50OwogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgcmVnX2V2ZW50ID0gZnVu");
    sb.append("Y3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIHJ1bm5hYmxlKSB7CiAgICAvLyBUT0RPOiBjb25uZWN0ZWQv");
    sb.append("ZGlzY29ubmVjdGVkIGFzIHNwZWNpYWwgZXZlbnRzIHRvIGNvbnNpZGVyCiAgICBpZiAodHlwZSA9PSAi");
    sb.append("Y2hlY2siIHx8IHR5cGUgPT0gInVuY2hlY2siKSB7CiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKCJj");
    sb.append("aGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy50eXBlID09ICJjaGVjayIgJiYgZG9t");
    sb.append("LmNoZWNrZWQpIHsKICAgICAgICAgIHJ1bm5hYmxlKCk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5");
    sb.append("cGUgPT0gInVuY2hlY2siICYmICFkb20uY2hlY2tlZCkgewogICAgICAgICAgcnVubmFibGUoKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0uYmluZCh7dHlwZTp0eXBlfSkpOwogICAgfSBlbHNlIGlmICh0eXBlID09ICJs");
    sb.append("b2FkIikgewogICAgICB3aW5kb3cuc2V0VGltZW91dChydW5uYWJsZSwgMSk7CiAgICB9IGVsc2UgaWYg");
    sb.append("KHR5cGU9PSJzdWJtaXQiIHx8IHR5cGU9PSJzdWJtaXR0ZWQiKSB7CiAgICAgIHdpbmRvdy5zZXRUaW1l");
    sb.append("b3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBmb3JtID0gZm9ybV9vZihkb20pOwogICAgICAgIGlm");
    sb.append("IChmb3JtKSB7CiAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7CiAgICAgICAgICAg");
    sb.append("ICAgcnVubmFibGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9");
    sb.append("LCAxKTsKICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCJkZWxheToiKSkgewogICAgICAvLyBk");
    sb.append("ZWxheSB3aWxsIHJ1biBhZnRlciAkZGVsYXlUaW1lTVMgSUYgdGhlIGRvbSBlbGVtZW50IGlzIHN0aWxs");
    sb.append("IHZpc2libGUgdG8gdGhlIGRvY3VtZW50CiAgICAgIHZhciBkZWxheVRpbWVNUyA9IHBhcnNlSW50KHR5");
    sb.append("cGUuc3Vic3RyaW5nKDYpKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAg");
    sb.append("ICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKSkgewogICAgICAgICAgcnVubmFibGUoKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0sIGRlbGF5VGltZU1TKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh0eXBl");
    sb.append("ID09ICJjbGljayIpIHsKICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbihl");
    sb.append("dmVudCkgewogICAgICAgICAgdmFyIGZpcmUgPSB0cnVlOwogICAgICAgICAgdHJ5IHsKICAgICAgICAg");
    sb.append("ICAgdmFyIGVsID0gZXZlbnQudGFyZ2V0OwogICAgICAgICAgICB3aGlsZSAoZWwgJiYgZmlyZSkgewog");
    sb.append("ICAgICAgICAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ3ByZXZlbnQ6Y2xpY2snKSkgewogICAgICAg");
    sb.append("ICAgICAgICAgZmlyZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbCA9IGVs");
    sb.append("LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7CiAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICBpZiAoZmlyZSkgewogICAgICAgICAgICBydW5uYWJsZSgpOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVy");
    sb.append("KHR5cGUsIHJ1bm5hYmxlKTsKICAgICAgfQogICAgfQogIH0KCgoKICAvLyBSVU5USU1FOiA8dGFnIC4u");
    sb.append("IHJ4OmV2ZW50PSIuLi4gc2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLmJTID0gZnVuY3Rpb24gKGRv");
    sb.append("bSwgc3RhdGUsIG5hbWUsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9u");
    sb.append("IikgewogICAgICByZXR1cm4gewogICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7fSwgLy8gZG8gbm90aGlu");
    sb.append("ZywgdGhpcyBpcyBhIHNpbXBsZSBtZXJnZQogICAgICAgIG1lcmdlOiBmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgICAgICB2");
    sb.append("YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgICAgICByZXR1cm4gZGVsdGE7");
    sb.append("CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9i");
    sb.append("altuYW1lXSA9IHZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7");
    sb.append("CiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHt9LCAvLyBkbyBub3RoaW5nLCB0");
    sb.append("aGlzIGlzIGEgc2ltcGxlIG1lcmdlCiAgICAgICAgbWVyZ2U6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVs");
    sb.append("dGE7IH0KICAgICAgfQogICAgfQogIH07CgogIHZhciBtZXJnZV9kZWx0YSA9IGZ1bmN0aW9uKGEsIGIp");
    sb.append("IHsKICAgIGlmICh0eXBlb2YoYSkgPT0gIm9iamVjdCIgJiYgdHlwZW9mKGIpID09ICJvYmplY3QiKSB7");
    sb.append("CiAgICAgIHZhciByZXN1bHQgPSB7fTsKICAgICAgZm9yICh2YXIgayBpbiBhKSB7CiAgICAgICAgaWYg");
    sb.append("KGsgaW4gYikgewogICAgICAgICAgcmVzdWx0W2tdID0gbWVyZ2VfZGVsdGEoYVtrXSwgYltrXSk7CiAg");
    sb.append("ICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdFtrXSA9IGFba107CiAgICAgICAgfQogICAgICB9");
    sb.append("CiAgICAgIGZvcih2YXIgayBpbiBiKSB7CiAgICAgICAgaWYgKCEoayBpbiBhKSkgewogICAgICAgICAg");
    sb.append("cmVzdWx0W2tdID0gYltrXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAg");
    sb.append("IH0KICAgIHJldHVybiBhOwogIH07CiAgc2VsZi5NRCA9IG1lcmdlX2RlbHRhOwoKICBzZWxmLm9uQiA9");
    sb.append("IGZ1bmN0aW9uKGRvbSwgdHlwZSwgc3RhdGUsIGFycikgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgc3VtID0ge307CiAgICAgIGZvciAodmFyIGsgPSAw");
    sb.append("OyBrIDwgYXJyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFyIGNtZCA9IGFycltrXTsKICAgICAgICBj");
    sb.append("bWQucnVuKCk7CiAgICAgICAgdmFyIHRvTWVyZ2UgPSBjbWQubWVyZ2UoKQogICAgICAgIHN1bSA9IG1l");
    sb.append("cmdlX2RlbHRhKHN1bSwgdG9NZXJnZSk7CiAgICAgIH0KICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0");
    sb.append("ZShzdW0pOwogICAgfSk7CiAgfTsKCiAgLy8gY2hvb3NlCiAgc2VsZi5leENIID0gZnVuY3Rpb24gKGRv");
    sb.append("bSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsgdmFs");
    sb.append("dWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7CiAg");
    sb.append("ICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIHZhciBjaG9pY2VzID0gc3RhdGUuZGF0YS5j");
    sb.append("b25uZWN0aW9uLmNob2ljZXM7CiAgICAgICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAg");
    sb.append("ICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICAgIH0KICAgICAgICB2YXIgY2hvaWNlID0g");
    sb.append("Y2hvaWNlc1tjaGFubmVsXTsKICAgICAgICB2YXIgdmFsS2V5ID0gcmVzdWx0W2tleV07CiAgICAgICAg");
    sb.append("aWYgKHZhbEtleSBpbiBjaG9pY2UpIHsKICAgICAgICAgIGRlbGV0ZSBjaG9pY2VbdmFsS2V5XTsKICAg");
    sb.append("ICAgICB9IGVsc2UgewogICAgICAgICAgY2hvaWNlW3ZhbEtleV0gPSByZXN1bHQ7CiAgICAgICAgfQog");
    sb.append("ICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2ljZXMoY2hhbm5lbCwgY2hvaWNlKTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewog");
    sb.append("ICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIC8vIGRlY2lkZQogIHNlbGYu");
    sb.append("ZXhEID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewogICAg");
    sb.append("dmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBl");
    sb.append("LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBrZXks");
    sb.append("IGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIGxldCBzdGFy");
    sb.append("dCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2Vu");
    sb.append("ZChjaGFubmVsLCByZXN1bHQsIHsKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsK");
    sb.append("CiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAg");
    sb.append("ICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxICsgIjtsYXRlbmN5PSIgKyAo");
    sb.append("cGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAg");
    sb.append("IGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiBy");
    sb.append("eDpldmVudD0iLi4uIGZpcmU6Y2hhbm5lbCAuLi4iIC4uLj4KICBzZWxmLm9uRlIgPSBmdW5jdGlvbiAo");
    sb.append("c3RhdGUsIGRvbSwgdHlwZSwgY2hhbm5lbCkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUs");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWws");
    sb.append("IHt9LCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2co");
    sb.append("IlNFTlQgJyIgKyBjaGFubmVsICsgIiciKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJGQUlMRUQgVE8gRklSRSAnIiArIGNo");
    sb.append("YW5uZWwgKyAiJyBEVUU6IiArIHJlYXNvbik7ICcnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwog");
    sb.append("IH0KCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIGZvcmNlLWF1dGg9bmFtZSx0b2tl");
    sb.append("biAuLi4iPgogIHNlbGYub25GT1JDRV9BVVRIID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgaWRlbnRpdHlO");
    sb.append("YW1lLCBpZGVudGl0eSkgewogICAgcmVnX2V2ZW50KG51bGwsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBpZGVudGl0eTsKICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIGlkZW50aXR5KTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBzZXQ6bmFtZT12YWx1ZSAuLi4i");
    sb.append("PgogIHNlbGYub25TID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIHZhbHVlKSB7CiAg");
    sb.append("ICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0g");
    sb.append("e307CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgb2JqW25h");
    sb.append("bWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRl");
    sb.append("W3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJ");
    sb.append("TUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0ZTpuYW1lIC4uLiI+CiAgc2VsZi5vblRNID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIG94LCBveSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBk");
    sb.append("b20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtu");
    sb.append("YW1lXSA9IHsKICAgICAgICB4OmV2ZW50LmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCArIG94LAogICAg");
    sb.append("ICAgIHk6ZXZlbnQuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZICsgb3kKICAgICAgfTsKICAgICAgdmFy");
    sb.append("IGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50");
    sb.append("XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4");
    sb.append("OmV2ZW50PSIuLi4gdGU6bmFtZSAuLi4iPgogIHNlbGYub25URSA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlLCBuYW1lKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2");
    sb.append("ZW50KSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gZXZlbnQubWVzc2FnZTsK");
    sb.append("ICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHsKICAgICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRl");
    sb.append("LnZpZXcsIG9iaik7CiAgICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("cmVzZXQgLi4uIj4KICBzZWxmLm9SU1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSkgewogICAg");
    sb.append("cmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgZiA9");
    sb.append("IGZvcm1fb2YoZG9tKTsKICAgICAgaWYgKGYgIT0gbnVsbCkgewogICAgICAgIGYucmVzZXQoKTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHJlc2V0");
    sb.append("IC4uLiI+CiAgc2VsZi5vUkxEID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19l");
    sb.append("dmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbG9jYXRpb24ucmVs");
    sb.append("b2FkKCk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gc3Vi");
    sb.append("bWl0IC4uLiI+CiAgc2VsZi5vU0JNVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAgICBy");
    sb.append("ZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBmID0g");
    sb.append("Zm9ybV9vZihkb20pOwogICAgICBpZiAoZiAhPSBudWxsKSB7CiAgICAgICAgdmFyIGUgPSBuZXcgU3Vi");
    sb.append("bWl0RXZlbnQoJ3N1Ym1pdCcsIHsKICAgICAgICAgICdidWJibGVzJyAgICA6IHRydWUsCiAgICAgICAg");
    sb.append("ICAnY2FuY2VsYWJsZScgOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgZi5kaXNwYXRjaEV2ZW50KGUp");
    sb.append("OwogICAgICB9CiAgICB9KTsKICB9OwoKICBzZWxmLm9OSyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0");
    sb.append("YXRlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAg");
    sb.append("ICAgIHZhciBjdXIgPSBkb207CiAgICAgIHdoaWxlIChjdXIudGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9");
    sb.append("ICJOVUNMRUFSIikgewogICAgICAgIGN1ciA9IGN1ci5wYXJlbnRFbGVtZW50OwogICAgICB9CiAgICAg");
    sb.append("IGlmIChjdXIgIT0gbnVsbCkgewogICAgICAgIG51a2UoY3VyKTsKICAgICAgfQogICAgfSk7CiAgfTsK");
    sb.append("CgogIHNlbGYub1VDSyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAgICByZWdfZXZlbnQo");
    sb.append("c3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGRvbS5jaGVja2VkID0gZmFs");
    sb.append("c2U7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZ290bzp1");
    sb.append("cmkgLi4uIj4KICBzZWxmLm9uR08gPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgdmFsdWUpIHsK");
    sb.append("ICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1cmkg");
    sb.append("PSAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgPyB2YWx1ZSgpIDogdmFsdWU7CiAgICAgIHNl");
    sb.append("bGYuZ290byh1cmksIGZhbHNlKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6");
    sb.append("ZXZlbnQ9Ii4uLiB0b2dnbGU6bmFtZSAuLi4iPgogIHNlbGYub25UID0gZnVuY3Rpb24gKGRvbSwgdHlw");
    sb.append("ZSwgc3RhdGUsIG5hbWUpIHsKICAgIHZhciBjYXB0dXJlZCA9IHsgdmFsdWU6IGZhbHNlIH07CiAgICBy");
    sb.append("ZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0ge307");
    sb.append("CiAgICAgIG9ialtuYW1lXSA9ICFjYXB0dXJlZC52YWx1ZTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90");
    sb.append("byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAg");
    sb.append("IH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2Fw");
    sb.append("dHVyZWQudmFsdWUgPSB2YWx1ZSA9PSB0cnVlOwogICAgfSk7CiAgfTsKCiAgdmFyIG9yZGVyX3RvZ2ds");
    sb.append("ZSA9IGZ1bmN0aW9uKHByaW9yLCB2YWwpIHsKICAgIHZhciBwYXJ0cyA9IHByaW9yLnNwbGl0KCIsIik7");
    sb.append("CiAgICB2YXIgcHJlZml4ID0gJyc7CiAgICB2YXIgbmV4dCA9IFsiIl07CiAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IHBhcnRzLmxlbmd0aDsgaysrKSB7CiAgICAgIGlmIChwYXJ0c1trXSA9PSAiIikgewogICAg");
    sb.append("ICAgIGNvbnRpbnVlOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PSBwYXJ0c1trXSkgewogICAgICAgIHBy");
    sb.append("ZWZpeCA9ICctJzsKICAgICAgfSBlbHNlIGlmICgiLSIgKyB2YWwgPT1wYXJ0c1trXSkgewogICAgICAg");
    sb.append("IHByZWZpeCA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIG5leHQucHVzaChwYXJ0c1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0KICAgIG5leHRbMF0gPSBwcmVmaXggKyB2YWw7CiAgICByZXR1cm4gbmV4dC5qb2lu");
    sb.append("KCIsIik7CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gb3JkZXItdG9nZ2xl");
    sb.append("Om5hbWU9dmFsIC4uLiI+CiAgc2VsZi5vbk9UID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5h");
    sb.append("bWUsIHZhbCkgewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogIiIgfTsKICAgIHJlZ19ldmVudChz");
    sb.append("dGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2Jq");
    sb.append("W25hbWVdID0gb3JkZXJfdG9nZ2xlKGNhcHR1cmVkLnZhbHVlLCB2YWwpOwogICAgICB2YXIgZGVsdGEg");
    sb.append("PSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUu");
    sb.append("dXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAo");
    sb.append("dmFsdWUpIHsKICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIC8vIFJV");
    sb.append("TlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBkZWx0YTpuYW1lPWRpZmYiIC4uLiI+CiAgc2VsZi5v");
    sb.append("bkQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgZGlmZikgewogICAgdmFyIGNhcHR1");
    sb.append("cmVkID0geyB2YWx1ZTogMCB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBjYXB0dXJlZC52YWx1ZSAr");
    sb.append("IGRpZmY7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3Rh");
    sb.append("dGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgICBzdWJzY3JpYmUo");
    sb.append("c3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0g");
    sb.append("Im51bWJlciIpIHsKICAgICAgICBjYXB0dXJlZC52YWx1ZSA9IHZhbHVlOwogICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHZhbHVlKTsKICAgICAgICBpZiAoIWlzTmFOKHZhbCkp");
    sb.append("IHsKICAgICAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsOwogICAgICAgIH0KICAgICAgfQogICAgfSk7");
    sb.append("CiAgfTsKICBzZWxmLkNTRU4gPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBldmFsU3RhdGUs");
    sb.append("IGNoYW5uZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxz");
    sb.append("ZSkgewogICAgdmFyIGNob3NlbiA9IHsKICAgICAgdmFsdWU6ICIiLAogICAgICBvd25lcjogcGFyZW50");
    sb.append("LAogICAgICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6IG51bGwKICAgIH07CiAgICBhZGRfdW5zdWIo");
    sb.append("Y2hvc2VuKTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3Vi");
    sb.append("KGNob3Nlbik7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0");
    sb.append("YXRlKTsKICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVu");
    sb.append("dCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7");
    sb.append("CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBjaG9zZW4pOwogICAgfTsKCiAgICBj");
    sb.append("aG9zZW4udXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgb3V0ID0gcHJpb3JTdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF07CiAgICAgIGlmICghKG91dCkpIHJldHVybjsK");
    sb.append("CiAgICAgIHZhciBjaG9pY2VzID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uY2hvaWNlczsKICAg");
    sb.append("ICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAgICAgIGNob2ljZXNbY2hhbm5lbF0gPSB7");
    sb.append("fTsKICAgICAgfQogICAgICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgICAgdmFyIGV2");
    sb.append("YWwgPSBjaG9zZW4udmFsdWUgaW4gY2hvaWNlOwogICAgICBpZiAoY2hvc2VuLmV2YWwgIT0gZXZhbCkg");
    sb.append("ewogICAgICAgIGNob3Nlbi5ldmFsID0gZXZhbDsKICAgICAgICBjaGFuZ2UoY2hvc2VuLmV2YWwpOwog");
    sb.append("ICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZV9jaG9p");
    sb.append("Y2UoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBjaG9zZW4udXBkYXRlKCk7CiAgICAgIHJldHVy");
    sb.append("biB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJlKGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZh");
    sb.append("bHVlKSB7CiAgICAgIGNob3Nlbi52YWx1ZSA9IHZhbHVlOwogICAgICBjaG9zZW4udXBkYXRlKCk7CiAg");
    sb.append("ICB9KTsKICB9OwoKICBzZWxmLkRFID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgZXZhbFN0");
    sb.append("YXRlLCBjaGFubmVsLCBrZXksIG5hbWUsIHNob3VsZEJlLCBfZXhwYW5kLCBtYWtlclRydWUsIG1ha2Vy");
    sb.append("RmFsc2UpIHsKICAgIHZhciBkZWNpZGUgPSB7CiAgICAgIHZhbHVlOiAiIiwKICAgICAgb3duZXI6IHBh");
    sb.append("cmVudCwKICAgICAgc2hvd246IGZhbHNlLAogICAgICBldmFsOiBudWxsCiAgICB9OwogICAgYWRkX3Vu");
    sb.append("c3ViKGRlY2lkZSk7CiAgICB2YXIgY2hhbmdlID0gZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91");
    sb.append("bnN1YihkZWNpZGUpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJp");
    sb.append("b3JTdGF0ZSk7CiAgICAgIGlmIChzaG93ID09PSBzaG91bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShw");
    sb.append("YXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3Rh");
    sb.append("dGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgZGVjaWRlKTsKICAgIH07Cgog");
    sb.append("ICAgZGVjaWRlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGV2YWwgPSBmaW5kKHByaW9y");
    sb.append("U3RhdGUsIGNoYW5uZWwsIGtleSwgZGVjaWRlLnZhbHVlKSAhPSBudWxsOwogICAgICBpZiAoZGVjaWRl");
    sb.append("LmV2YWwgIT0gZXZhbCkgewogICAgICAgIGRlY2lkZS5ldmFsID0gZXZhbDsKICAgICAgICBjaGFuZ2Uo");
    sb.append("ZGVjaWRlLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9u");
    sb.append("LnN1YnNjcmliZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7CiAgICAgIGRlY2lkZS51cGRhdGUoKTsKICAg");
    sb.append("ICAgLy8gVE9ETzogcmV0dXJuIHdoZXRoZXIgb3Igbm90IHRoaXMgbmVlZHMgdG8gYmUgYXhlZAogICAg");
    sb.append("ICByZXR1cm4gdHJ1ZTsKICAgIH0pOwoKICAgIHN1YnNjcmliZShldmFsU3RhdGUsIG5hbWUsIGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgICAgZGVjaWRlLnVwZGF0");
    sb.append("ZSgpOwogICAgfSk7CiAgfTsKCiAgdmFyIGNvbW1vbklmID0gZnVuY3Rpb24ocGFyZW50LCBvcmlnaW5h");
    sb.append("bFN0YXRlLCBzaG91bGRCZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhp");
    sb.append("ZGluZykgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgaWYgKGZvcmNlSGlkaW5nKSB7");
    sb.append("CiAgICAgIHBhcmVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogICAgcmV0dXJuIGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICB2YXIgc2hvdyA9ICh2YWx1ZSA/IHRydWUgOiBmYWxzZSkgPT09IHNo");
    sb.append("b3VsZEJlOwogICAgICBpZiAodGhpcy5zaG93biA9PSBzaG93KSB7CiAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICB9CiAgICAgIHRoaXMuc2hvd24gPSBzaG93OwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVf");
    sb.append("dW5zdWIodW5zdWIpOwogICAgICB2YXIgbmV4dCA9IHNlbGYucEQoZm9yayhvcmlnaW5hbFN0YXRlKSk7");
    sb.append("CiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgaWYgKGZvcmNlSGlkaW5nKSB7CiAgICAgICAgICBwYXJl");
    sb.append("bnQuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgIH0KICAgICAgICBtYWtlclRydWUocGFyZW50LCBu");
    sb.append("ZXh0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZm9yY2VIaWRpbmcpIHsKICAgICAgICAgIHBh");
    sb.append("cmVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtYWtl");
    sb.append("ckZhbHNlKHBhcmVudCwgbmV4dCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0");
    sb.append("ZShuZXh0LCB1bnN1Yik7CiAgICB9LmJpbmQoeyBzaG93bjogJ25vJyB9KTsKICB9CgogIC8vIFJVTlRJ");
    sb.append("TUUgfCByeDppZiAvIHJ4Omlmbm90ID0gInBhdGgxPXBhdGgyIgogIHNlbGYuSUZlcSA9IGZ1bmN0aW9u");
    sb.append("IChwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHF1ZXJ5U3RhdGVMZWZ0LCBuYW1lTGVmdCwgcXVlcnlTdGF0");
    sb.append("ZVJpZ2h0LCBuYW1lUmlnaHQsIHNob3VsZEJlLCBleHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFs");
    sb.append("c2UsIGZvcmNlSGlkaW5nKSB7CiAgICB2YXIgY29tbW9uID0ge2xlZnQ6ZmFsc2UsIHJpZ2h0OnRydWV9");
    sb.append("OwogICAgY29tbW9uLnMgPSBjb21tb25JZihwYXJlbnQsIG9yaWdpbmFsU3RhdGUsIHNob3VsZEJlLCBl");
    sb.append("eHBhbmRWaWV3LCBtYWtlclRydWUsIG1ha2VyRmFsc2UsIGZvcmNlSGlkaW5nKTsKICAgIGNvbW1vbi5r");
    sb.append("ID0gZGVib3VuY2UoNSwgZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMucyh0aGlzLmxlZnQgPT0gdGhpcy5y");
    sb.append("aWdodCk7CiAgICB9LmJpbmQoY29tbW9uKSk7CiAgICBzdWJzY3JpYmUocXVlcnlTdGF0ZUxlZnQsIG5h");
    sb.append("bWVMZWZ0LCBmdW5jdGlvbiAobGVmdCkgewogICAgICB0aGlzLmxlZnQgPSBsZWZ0OwogICAgICB0aGlz");
    sb.append("LmsoKTsKICAgIH0uYmluZChjb21tb24pKQogICAgc3Vic2NyaWJlKHF1ZXJ5U3RhdGVSaWdodCwgbmFt");
    sb.append("ZVJpZ2h0LCBmdW5jdGlvbiAocmlnaHQpIHsKICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0OwogICAgICB0");
    sb.append("aGlzLmsoKTsKICAgIH0uYmluZChjb21tb24pKTsKICB9OwoKICAvKiogdGhlIGFib3ZlIHNwZWFrcyB0");
    sb.append("byBhIGRlZXAgcGF0dGVybi4gV2UgY291bGQgdGFrZSBhbnkgZXhwcmVzc2lvbiBhbmQgdGhlbiBsaW5l");
    sb.append("YXJpemUgaXQgaW50byByZWFjdGl2ZSBwYXJ0cywgYW5kIHRoZW4gYXNzZW1ibGUgYSBzdGF0ZW1lbnQg");
    sb.append("c3RhdGVtZW50IG9uIHRoZSBmbHkuIFdlIHNob3VsZCBsb29rIGludG8gdXNpbmcgdGhlIGNvbmRpdGlv");
    sb.append("biBsYW5ndWFnZSBmb3IgdGhpcyAqLwoKICAvLyBSVU5USU1FIHwgcng6aWYgLyByeDppZm5vdCA9ICJw");
    sb.append("YXRoIgogIHNlbGYuSUYgPSBmdW5jdGlvbiAocGFyZW50LCBvcmlnaW5hbFN0YXRlLCBxdWVyeVN0YXRl");
    sb.append("LCBuYW1lLCBzaG91bGRCZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlLCBmb3JjZUhp");
    sb.append("ZGluZykgewogICAgc3Vic2NyaWJlKHF1ZXJ5U3RhdGUsIG5hbWUsIGNvbW1vbklmKHBhcmVudCwgb3Jp");
    sb.append("Z2luYWxTdGF0ZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSwgZm9y");
    sb.append("Y2VIaWRpbmcpKTsKICB9OwoKICAvLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1jb3B5OnBhdGgKICBzZWxm");
    sb.append("LmFDUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgbmFtZSkgewogICAgZm9ybS5hZGRFdmVudExpc3Rl");
    sb.append("bmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwog");
    sb.append("ICAgICB2YXIgb2JqID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICBpZiAobmFtZSAhPSAiLiIg");
    sb.append("JiYgbmFtZSAhPSAiIikgewogICAgICAgIHZhciBubyA9IHt9OwogICAgICAgIG5vW25hbWVdID0gb2Jq");
    sb.append("OwogICAgICAgIG9iaiA9IG5vOwogICAgICB9CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUu");
    sb.append("dmlldywgb2JqKTsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgIGZpcmVf");
    sb.append("c3VjY2Vzcyhmb3JtKTsKICAgIH0sIHRydWUpOwogIH07CgogIHNlbGYuVlNQID0gZnVuY3Rpb24oc3Rh");
    sb.append("dGUsIHZhcnMpIHsKICAgIHZhciBzbSA9IHt9OwogICAgc20udmFycyA9IHZhcnM7CiAgICBzbS5sYXN0");
    sb.append("ID0ge307CiAgICBzbS5wYXJhbXMgPSAiIjsKICAgIHNtLm1vZGUgPSAicmVwbGFjZSI7CiAgICBzbS5w");
    sb.append("aW5nID0gZGVib3VuY2UoNSwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gW107CiAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgdGhpcy52YXJzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdmFyIGFyZyA9");
    sb.append("IHRoaXMudmFyc1trXTsKICAgICAgICBpZiAoYXJnIGluIHRoaXMubGFzdCkgewogICAgICAgICAgYXJn");
    sb.append("cy5wdXNoKGFyZyArICI9IiArIHRoaXMubGFzdFthcmddKTsKICAgICAgICB9CiAgICAgIH0KICAgICAg");
    sb.append("dmFyIHJlc3VsdCA9ICI/IiArYXJncy5qb2luKCImIik7CiAgICAgIGlmIChyZXN1bHQgIT0gIj8iICYm");
    sb.append("IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT09IHJlc3VsdCkgewogICAgICAgIHZhciBvYmogPSB7fTsK");
    sb.append("ICAgICAgICBvYmoudmlld2VyX3NlYXJjaF9xdWVyeSA9IHJlc3VsdDsKICAgICAgICB2YXIgZGVsdGEg");
    sb.append("PSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShk");
    sb.append("ZWx0YSk7CiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAiIiwgZml4SHJlZih3");
    sb.append("aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyByZXN1bHQpKTsKICAgICAgfQogICAgfS5iaW5kKHNtKSk7");
    sb.append("CiAgICBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKGZ1bmN0aW9uKHMpIHsKICAgICAgdGhpcy5sYXN0");
    sb.append("ID0gczsKICAgICAgdGhpcy5waW5nKCk7CiAgICB9LmJpbmQoc20pKTsKICB9OwoKICBzZWxmLkYgPSBm");
    sb.append("dW5jdGlvbihvLGspIHsKICAgIGlmIChrIGluIG8pIHsKICAgICAgcmV0dXJuIG9ba107CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gIiI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxpbnB1dCAuLi4gcng6c3luYz1wYXRoIC4u");
    sb.append("Lj4KICBzZWxmLlNZID0gZnVuY3Rpb24gKGVsLCBzdGF0ZSwgbmFtZSwgbXMpIHsKICAgIHZhciB0eXBl");
    sb.append("ID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJDYXNlKCkgOiAidGV4dCI7CiAgICB2YXIg");
    sb.append("c2lnbmFsID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25h");
    sb.append("bWVdID0gdmFsdWU7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAg");
    sb.append("ICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICAgIGlmICh0aGlzLmRlZHVwZSAhPSB2");
    sb.append("YWx1ZSkgewogICAgICAgIHRoaXMuZGVkdXBlID0gdmFsdWU7CiAgICAgICAgZWwuZGlzcGF0Y2hFdmVu");
    sb.append("dChuZXcgRXZlbnQoImFmdGVyc3luYyIpKTsKICAgICAgfQogICAgfS5iaW5kKHtkZWR1cGU6IiJ9KTsK");
    sb.append("ICAgIGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hh");
    sb.append("bmdlJywgZGVib3VuY2UobXMsIGZ1bmN0aW9uICgpIHsKICAgICAgICBzaWduYWwoZWwuY2hlY2tlZCA/");
    sb.append("IHRydWUgOiBmYWxzZSk7CiAgICAgIH0pKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICAgIHNpZ25hbChlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSwgMSk7");
    sb.append("CiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICBlbC5hZGRFdmVudExpc3RlbmVy");
    sb.append("KCdjaGFuZ2UnLCBkZWJvdW5jZShtcywgZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChlbC5jaGVja2Vk");
    sb.append("KSB7CiAgICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSkpOwogICAgfSBl");
    sb.append("bHNlIHsKICAgICAgdmFyIGYgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKCkgewogICAgICAgIHNpZ25h");
    sb.append("bChlbC52YWx1ZSk7CiAgICAgIH0pOwogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBm");
    sb.append("KTsKICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmKQogICAgICBlbC5vbmtleXVwID0g");
    sb.append("ZWwub25jaGFuZ2U7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBz");
    sb.append("aWduYWwoZWwudmFsdWUpOwogICAgICB9LCA1KTsKICAgIH0KICB9OwoKICB2YXIgZmlyc3RPY2N1ciA9");
    sb.append("IGZ1bmN0aW9uKGEsIGIpIHsKICAgIGlmIChhID4gMCAmJiBiID4gMCkgewogICAgICByZXR1cm4gTWF0");
    sb.append("aC5taW4oYSwgYik7CiAgICB9CiAgICBpZiAoYSA+IDApIHsKICAgICAgcmV0dXJuIGE7CiAgICB9IGVs");
    sb.append("c2UgewogICAgICByZXR1cm4gYjsKICAgIH0KICB9OwogIC8vIEhFTFBFUiB8IGV4dHJhY3QgYWxsIHRo");
    sb.append("ZSBpbnB1dHMgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgYnVpbGQgYW4gb2JqZWN0CiAgdmFyIGJ1");
    sb.append("aWxkX29iaiA9IGZ1bmN0aW9uIChlbCwgb2JqVG9JbnNlcnRJbnRvLCBhbGxvd19wYXNzd29yZHMsIGlz");
    sb.append("Um9vdCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRk9STSIgJiYgIWlzUm9v");
    sb.append("dCkgewogICAgICAvLyBkb24ndCBjYXJlIGFib3V0IG5lc3RlZCBmb3JtcwogICAgICByZXR1cm47CiAg");
    sb.append("ICB9CiAgICB2YXIgdXBwZXJUYWcgPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICB2YXIganVz");
    sb.append("dFNldCA9IHVwcGVyVGFnID09ICJURVhUQVJFQSIgfHwgdXBwZXJUYWcgPT0gIlNFTEVDVCI7CiAgICB2");
    sb.append("YXIgaXNJbnB1dEJveCA9IHVwcGVyVGFnID09ICJJTlBVVCI7CiAgICB2YXIgaXNGaWVsZFNldCA9IHVw");
    sb.append("cGVyVGFnID09ICJGSUVMRFNFVCI7CiAgICB2YXIgaXNQdWxsID0gdXBwZXJUYWcgPT0gIlBVTExWQUxV");
    sb.append("RSI7CiAgICB2YXIgaGFzTmFtZSA9ICJuYW1lIiBpbiBlbDsKICAgIHZhciBpbnNlcnRBdCA9IG9ialRv");
    sb.append("SW5zZXJ0SW50bzsKICAgIC8vIHRoZSBhcHBseSBmdW5jdGlvbiBpcyBob3cgd2UgaW5qZWN0IHRoZSB2");
    sb.append("YWx1ZSBpbnRvIHRoZSBvYmplY3QKICAgIHZhciBhcHBseSA9IGZ1bmN0aW9uICh2YWwpIHsgfTsKCiAg");
    sb.append("ICB2YXIgbmFtZSA9ICIiOwogICAgaWYgKGhhc05hbWUgJiYgKGp1c3RTZXQgfHwgaXNJbnB1dEJveCB8");
    sb.append("fCBpc0ZpZWxkU2V0IHx8IGlzUHVsbCkpIHsKICAgICAgbmFtZSA9IGVsLm5hbWU7CiAgICAgIGlmIChu");
    sb.append("YW1lID09ICIiKSB7IC8vIHRoaXMgaXMgYSBzcGVjaWFsIG5hbWUgZm9yIHRoaW5ncyB0aGF0IGRvbid0");
    sb.append("IGdldCBwaWNrZWQgdXAKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGtEb3RPclNsYXNo");
    sb.append("ID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB3");
    sb.append("aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAgdmFyIHBhciA9IG5hbWUuc3Vic3RyaW5nKDAs");
    sb.append("IGtEb3RPclNsYXNoKTsKICAgICAgICBpZiAoIShwYXIgaW4gaW5zZXJ0QXQpKSB7CiAgICAgICAgICBp");
    sb.append("bnNlcnRBdFtwYXJdID0ge307CiAgICAgICAgfQogICAgICAgIGluc2VydEF0ID0gaW5zZXJ0QXRbcGFy");
    sb.append("XTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoa0RvdE9yU2xhc2ggKyAxKTsKICAgICAgICBr");
    sb.append("RG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycp");
    sb.append("KTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoIisiKSkgewogICAgICAgIC8vIGhlcmUs");
    sb.append("IHdlIHB1c2ggdGhlIHZhbHVlIGludG8gdGhlIGFycmF5CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3Ry");
    sb.append("aW5nKDAsIG5hbWUubGVuZ3RoIC0gMSk7CiAgICAgICAgYXBwbHkgPSBmdW5jdGlvbiAodikgewogICAg");
    sb.append("ICAgICAgaWYgKCEobmFtZSBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgICAgaW5zZXJ0QXRbbmFtZV0g");
    sb.append("PSBbdl07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXS5wdXNoKHYp");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaGVyZSB3ZSBz");
    sb.append("ZXQgdGhlIG9iamVjdAogICAgICAgIGFwcGx5ID0gZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIGluc2Vy");
    sb.append("dEF0W25hbWVdID0gdjsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgaWYgKGlzUHVsbCkgewog");
    sb.append("ICAgICBhcHBseShlbC5wdWxsKCkpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGp1c3RTZXQp");
    sb.append("IHsKICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgfSBlbHNlIGlmIChpc0ZpZWxkU2V0KSB7CiAgICAg");
    sb.append("IHZhciBuZXh0T2JqZWN0ID0ge307CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAg");
    sb.append("dmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5b");
    sb.append("a107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG5leHRPYmplY3QsIGFsbG93X3Bhc3N3b3JkcywgZmFs");
    sb.append("c2UpOwogICAgICAgIH0KICAgICAgfQogICAgICBhcHBseShuZXh0T2JqZWN0KTsKICAgIH0gZWxzZSBp");
    sb.append("ZiAoaXNJbnB1dEJveCkgewogICAgICB2YXIgdHlwZSA9ICgidHlwZSIgaW4gZWwpID8gZWwudHlwZS50");
    sb.append("b1VwcGVyQ2FzZSgpIDogIlRFWFQiOwogICAgICBpZiAodHlwZSA9PSAiU1VCTUlUIiB8fCB0eXBlID09");
    sb.append("ICJSRVNFVCIpIHJldHVybjsKICAgICAgaWYgKCh0eXBlID09ICJQQVNTV09SRCIgfHwgbmFtZSA9PSAi");
    sb.append("cGFzc3dvcmQiKSAmJiAhYWxsb3dfcGFzc3dvcmRzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIGlmICh0eXBlID09ICJDSEVDS0JPWCIpIHsKICAgICAgICBhcHBseShlbC5jaGVja2VkID8gdHJ1");
    sb.append("ZSA6IGZhbHNlKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJTyIpIHsKICAgICAgICBpZiAo");
    sb.append("ZWwuY2hlY2tlZCkgewogICAgICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSBl");
    sb.append("bHNlIHsKICAgICAgICBhcHBseShlbC52YWx1ZSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlm");
    sb.append("ICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAg");
    sb.append("IHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewog");
    sb.append("ICAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG9i");
    sb.append("alRvSW5zZXJ0SW50bywgYWxsb3dfcGFzc3dvcmRzLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAg");
    sb.append("ICB9CiAgfTsKCiAgc2VsZi5CdWlsZEZvcm1PYmplY3QgPSBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwgb2JqLCBmYWxzZSwgdHJ1ZSk7CiAgICByZXR1cm4g");
    sb.append("b2JqOwogIH07CgogIC8vIEhFTFBFUiB8IHJldHVybiBhbiBvYmplY3Qgb2YgYWxsIHRoZSBpbnB1dHMg");
    sb.append("b2YgdGhlIGdpdmVuIGZvcm0gZWxlbWVudAogIHZhciBnZXRfZm9ybSA9IGZ1bmN0aW9uIChmb3JtLCBh");
    sb.append("bGxvd19wYXNzd29yZHMpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIGJ1aWxkX29iaihmb3JtLCBvYmos");
    sb.append("IGFsbG93X3Bhc3N3b3JkcywgdHJ1ZSk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIEhFTFBFUiB8");
    sb.append("IHJldHVybiBhIHBhc3N3b3JkIGZyb20gdGhlIGdpdmVuIGZvcm0KICB2YXIgZ2V0X3Bhc3N3b3JkID0g");
    sb.append("ZnVuY3Rpb24gKGVsKSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIg");
    sb.append("JiYgKGVsLnR5cGUudG9VcHBlckNhc2UoKSA9PSAiUEFTU1dPUkQiIHx8IGVsLm5hbWUgPT0gInBhc3N3");
    sb.append("b3JkIikpIHsKICAgICAgcmV0dXJuIFtlbC5uYW1lLCBlbC52YWx1ZV07CiAgICB9CiAgICBpZiAoImNo");
    sb.append("aWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgIHZhciBuID0g");
    sb.append("YXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICB2YXIg");
    sb.append("Y2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0X3Bhc3N3b3JkKGNoKTsK");
    sb.append("ICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAg");
    sb.append("ICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfTsKCiAgdmFyIHdyYXBwZXJzID0g");
    sb.append("e307CiAgdmFyIHdyYXBwZXJzX29ubG9hZCA9IHt9OwogIHNlbGYuUFJXUCA9IGZ1bmN0aW9uIChuYW1l");
    sb.append("LCBmb28pIHsKICAgIHdyYXBwZXJzW25hbWVdID0gZm9vOwogICAgaWYgKG5hbWUgaW4gd3JhcHBlcnNf");
    sb.append("b25sb2FkKSB7CiAgICAgIHZhciB0b2xvYWQgPSB3cmFwcGVyc19vbmxvYWRbbmFtZV07CiAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgdG9sb2FkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgdG9sb2FkW2tdKCk7");
    sb.append("CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyA8Li4uIHJ4OndyYXA9Y29uc3QgPgogIHNlbGYuV1AgPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCBzdGF0ZSwgbmFtZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSkgewogICAg");
    sb.append("aWYgKG5hbWUgaW4gd3JhcHBlcnMpIHsKICAgICAgd3JhcHBlcnNbbmFtZV0oZG9tLCBzdGF0ZSwgcnhv");
    sb.append("YmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwgc2VsZik7CiAgICB9IGVsc2UgewogICAgICB2YXIgbG9hZGVy");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdyYXBwZXJzW25hbWVdKGRvbSwgc3RhdGUsIHJ4b2JqLCBj");
    sb.append("aGlsZE1ha2VyV2l0aENhc2UsIHNlbGYpOwogICAgICB9OwogICAgICBpZiAobmFtZSBpbiB3cmFwcGVy");
    sb.append("c19vbmxvYWQpIHsKICAgICAgICB3cmFwcGVyc19vbmxvYWRbbmFtZV0ucHVzaChsb2FkZXIpOwogICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgIHdyYXBwZXJzX29ubG9hZFtuYW1lXSA9IFtsb2FkZXJdOwogICAgICB9");
    sb.append("CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJlZ2lzdGVyIHRoZSBwYWdlIGZvciB0aGUgdXJpIHRv");
    sb.append("IHRoZSBnaXZlbiBmb28oKS4KICBzZWxmLlBHID0gZnVuY3Rpb24gKHVyaSwgZm9vKSB7CiAgICB2YXIg");
    sb.append("aGVhZCA9IHJvdXRlcjsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdXJpLmxlbmd0aDsgaysrKSB7CiAg");
    sb.append("ICAgIHZhciBwYXJ0ID0gdXJpW2tdOwogICAgICBpZiAoIShwYXJ0IGluIGhlYWQpKSB7CiAgICAgICAg");
    sb.append("aGVhZFtwYXJ0XSA9IHt9OwogICAgICB9CiAgICAgIGhlYWQgPSBoZWFkW3BhcnRdOwogICAgfQogICAg");
    sb.append("aGVhZFsiQCJdID0gZm9vOwogIH07CgogIHZhciByb3V0ZSA9IGZ1bmN0aW9uIChwYXJ0cywgYXQsIGhl");
    sb.append("YWQsIHZpZXcpIHsKICAgIGlmIChhdCA8IHBhcnRzLmxlbmd0aCkgewogICAgICBpZiAoIm51bWJlciIg");
    sb.append("aW4gaGVhZCkgewogICAgICAgIHZhciBuZWNrID0gaGVhZFsibnVtYmVyIl07CiAgICAgICAgdmFyIHZh");
    sb.append("bCA9IHBhcnNlRmxvYXQocGFydHNbYXRdKTsKICAgICAgICBpZiAoIWlzTmFOKHZhbCkpIHsKICAgICAg");
    sb.append("ICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7CiAgICAgICAgICAgIHZpZXdbYnJhbmNoXSA9IHZh");
    sb.append("bDsKICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJh");
    sb.append("bmNoXSwgdmlldyk7CiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAg");
    sb.append("ICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRlbGV0ZSB2aWV3");
    sb.append("W2JyYW5jaF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgidGV4dCIgaW4g");
    sb.append("aGVhZCkgewogICAgICAgIHZhciBuZWNrID0gaGVhZFsidGV4dCJdOwogICAgICAgIHZhciB2YWwgPSBw");
    sb.append("YXJ0c1thdF07CiAgICAgICAgZm9yICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgIHZpZXdb");
    sb.append("YnJhbmNoXSA9IHZhbDsKICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAx");
    sb.append("LCBuZWNrW2JyYW5jaF0sIHZpZXcpOwogICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewog");
    sb.append("ICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHZp");
    sb.append("ZXdbYnJhbmNoXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCJmaXhlZCIgaW4gaGVhZCkgewog");
    sb.append("ICAgICAgIHZhciBuZWNrID0gaGVhZFsiZml4ZWQiXTsKICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4g");
    sb.append("bmVjaykgewogICAgICAgICAgaWYgKGJyYW5jaCA9PSBwYXJ0c1thdF0pIHsKICAgICAgICAgICAgdmFy");
    sb.append("IGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7CiAgICAg");
    sb.append("ICAgICAgIGlmIChjYW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAgICAgICByZXR1cm4gY2FuZGlk");
    sb.append("YXRlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICBpZiAoIkAiIGluIGhlYWQpIHsKICAgICAgICByZXR1cm4gaGVhZFsiQCJdOwogICAgICB9");
    sb.append("CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9OwoKCiAgc2VsZi5yZXN1bWVfdXJpID0gIi8iOwogIHNl");
    sb.append("bGYuZ2F0ZXMgPSBbXTsKICAvKiogUlVOVElNRSB8IDxnYXRlLWV4aXQgZ3VhcmQ9InJlYWQiIHNldD0i");
    sb.append("Ij4gKi8KICBzZWxmLklHID0gZnVuY3Rpb24oc3RhdGVSZWFkLCByZWFkLCBzdGF0ZVdyaXRlLCB3cml0");
    sb.append("ZSkgewogICAgdmFyIHNtID0gewogICAgICB2YWx1ZTogZmFsc2UsCiAgICAgIHJ1bjogZnVuY3Rpb24o");
    sb.append("KSB7CiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAg");
    sb.append("ICAgIG9ialt3cml0ZV0gPSB0cnVlOwogICAgICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZVdy");
    sb.append("aXRlLnZpZXcsIG9iaik7CiAgICAgICAgICBzdGF0ZVdyaXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEp");
    sb.append("OwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAg");
    sb.append("ICAgfSwKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGVSZWFkLCByZWFkLCBmdW5jdGlvbih2YWx1ZSkg");
    sb.append("ewogICAgICBzbS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgICBzZWxmLmdhdGVzLnB1c2goc20pOwog");
    sb.append("IH07CiAgc2VsZi5nb3RvID0gZnVuY3Rpb24gKHVyaSwgbm93KSB7CiAgICBzZWxmLnJlc3VtZV91cmkg");
    sb.append("PSB1cmk7CiAgICB2YXIgYmxvY2tlZCA9IGZhbHNlOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzZWxm");
    sb.append("LmdhdGVzLmxlbmd0aDsgaysrKSB7CiAgICAgIGlmIChzZWxmLmdhdGVzW2tdLnJ1bigpKSB7CiAgICAg");
    sb.append("ICAgYmxvY2tlZCA9IHRydWU7CiAgICAgIH0KICAgIH0KICAgIGlmIChibG9ja2VkKSB7CiAgICAgIHJl");
    sb.append("dHVybjsKICAgIH0KICAgIGlmIChub3cpIHsKICAgICAgc2VsZi5nb3RvX25vdyh1cmkpOwogICAgfSBl");
    sb.append("bHNlIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuZ290");
    sb.append("b19ub3codXJpKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfTsKICAvLyBSVU5USU1FOiA8dGFnIC4uLiBy");
    sb.append("eDpldmVudD0iLi4uIHJlc3VtZSAuLi4iPi4uCiAgc2VsZi5iUiA9IGZ1bmN0aW9uKCkgewogICAgcmV0");
    sb.append("dXJuIHsKICAgICAgcnVuOiBmdW5jdGlvbigpIHsKICAgICAgICBzZWxmLmdhdGVzID0gW107CiAgICAg");
    sb.append("ICAgc2VsZi5nb3RvKHNlbGYucmVzdW1lX3VyaSwgZmFsc2UpOwogICAgICB9LAogICAgICBtZXJnZTog");
    sb.append("ZnVuY3Rpb24oKSB7fQogICAgfTsKICB9OwogIHNlbGYuZ290b19ub3cgPSBmdW5jdGlvbih1cmkpIHsK");
    sb.append("ICAgIGlmICh1cmkuc3RhcnRzV2l0aCgiLyIpKSB7CiAgICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHks");
    sb.append("IHVyaSwgdHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGZpeEhy");
    sb.append("ZWYodXJpKTsKICAgIH0KICB9OwoKICB2YXIgdXJsQmFzZTY0VG9VaW50OEFycmF5ID0gZnVuY3Rpb24o");
    sb.append("YmFzZTY0KSB7CiAgICB2YXIgcmF3RGF0YSA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7CiAgICB2YXIgb3V0");
    sb.append("cHV0QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdEYXRhLmxlbmd0aCk7CiAgICBmb3IgKHZhciBpID0g");
    sb.append("MDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHsKICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRh");
    sb.append("LmNoYXJDb2RlQXQoaSk7CiAgICB9CiAgICByZXR1cm4gb3V0cHV0QXJyYXk7CiAgfQoKICBzZWxmLmN1");
    sb.append("cnJlbnRQdXNoRXZlbnQgPSBmdW5jdGlvbigpIHt9OwoKICB2YXIgZ2V0V2ViUHVzaFN0YXR1cyA9IGZ1");
    sb.append("bmN0aW9uKCkgewogICAgdmFyIHJlc3VsdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWJwdXNoX3N0");
    sb.append("YXR1cyIpOwogICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YocmVzdWx0KSA9PSAic3RyaW5nIikgewogICAg");
    sb.append("ICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgcmV0dXJuICJ1bmtub3duIjsKICB9CgogIHZhciBzZXRQ");
    sb.append("dXNoU3RhdHVzID0gZnVuY3Rpb24oc3RhdHVzKSB7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgid2Vi");
    sb.append("cHVzaF9zdGF0dXMiLCBzdGF0dXMpOwogICAgc2VsZi5jdXJyZW50UHVzaEV2ZW50KCk7CiAgfQoKICB2");
    sb.append("YXIgc2V0UHVzaEV2ZW50ID0gZnVuY3Rpb24oZm9vKSB7CiAgICBzZWxmLmN1cnJlbnRQdXNoRXZlbnQg");
    sb.append("PSBmb287CiAgfTsKCiAgdmFyIHNldHVwU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHJlZ2lzdHJhdGlv");
    sb.append("biwgdmFwaWRQdWJsaWNLZXksIGlkZW50aXR5LCBpZGVudGl0eU5hbWUsIHZlcnNpb24pIHsKICAgIGNv");
    sb.append("bm5lY3Rpb24uYnVtcCgid3BzIik7CiAgICB2YXIgcHVzaEtleUxvY2FsID0gInB1c2hfZW5kcG9pbnRf");
    sb.append("IiArIGlkZW50aXR5TmFtZTsKICAgIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlcgogICAgLmdldFN1YnNj");
    sb.append("cmlwdGlvbigpLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgewogICAgICAgIGlmIChz");
    sb.append("dWJzY3JpcHRpb24pIHsKICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGNvbnN0IGNvbnZlcnRlZFZhcGlkS2V5ID0gdXJsQmFzZTY0VG9VaW50OEFycmF5KHZhcGlkUHVi");
    sb.append("bGljS2V5KTsKICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7");
    sb.append("CiAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsCiAgICAgICAgICBhcHBsaWNhdGlvblNlcnZl");
    sb.append("cktleTogY29udmVydGVkVmFwaWRLZXkKICAgICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHN1");
    sb.append("YnNjcmlwdGlvbikgewogICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhbiBlbmRwb2ludCBzYXZlZCBy");
    sb.append("ZWxhdGVkIHRvIHRoZSByaWdodCB2ZXJzaW9uCiAgICAgIGNvbm5lY3Rpb24uSWRlbnRpdHlIYXNoKGlk");
    sb.append("ZW50aXR5LCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICBpZiAo");
    sb.append("bG9jYWxTdG9yYWdlLmdldEl0ZW0oInB1c2hfd29ya2VyX3ZlcnNpb24iKSAhPSB2ZXJzaW9uIHx8IGxv");
    sb.append("Y2FsU3RvcmFnZS5nZXRJdGVtKCJsYXN0X2lkZW50aXR5X3VzZWQiKSAhPSByZXN1bHQuaWRlbnRpdHlI");
    sb.append("YXNoKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHB1c2hLZXlMb2NhbCk7CiAg");
    sb.append("ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwdXNoX3dvcmtlcl92ZXJzaW9uIiwgdmVyc2lv");
    sb.append("bik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsYXN0X2lkZW50aXR5X3VzZWQiLCBy");
    sb.append("ZXN1bHQuaWRlbnRpdHlIYXNoKTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBzdWIgPSBzdWJzY3Jp");
    sb.append("cHRpb24udG9KU09OKCk7CiAgICAgICAgICB2YXIgdmFsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocHVz");
    sb.append("aEtleUxvY2FsKTsKICAgICAgICAgIGlmICh2YWwgJiYgdmFsID09IHN1Yi5lbmRwb2ludCkgewogICAg");
    sb.append("ICAgICAgICBjb25uZWN0aW9uLmJ1bXAoIndwYSIpOwogICAgICAgICAgICBzZXRQdXNoU3RhdHVzKCJz");
    sb.append("dWNjZXNzIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHN1YlsnQG1l");
    sb.append("dGhvZCddID0gJ3dlYnB1c2gnOwogICAgICAgICAgc3ViWydAdGltZSddID0gbmV3IERhdGUoKS5nZXRU");
    sb.append("aW1lKCk7CiAgICAgICAgICB2YXIgZGV2aWNlID0ge307CiAgICAgICAgICBkZXZpY2UubW9kZSA9ICd3");
    sb.append("ZWInCiAgICAgICAgICBpZiAod2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmln");
    sb.append("YXRvci51c2VyQWdlbnQpIHsKICAgICAgICAgICAgZGV2aWNlLnVhID0gd2luZG93Lm5hdmlnYXRvci51");
    sb.append("c2VyQWdlbnQ7CiAgICAgICAgICB9CiAgICAgICAgICBjb25uZWN0aW9uLlB1c2hSZWdpc3RlcihpZGVu");
    sb.append("dGl0eSwgc2VsZi5kb21haW4sIHN1YiwgZGV2aWNlLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0");
    sb.append("aW9uKCkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHB1c2hLZXlMb2NhbCwgc3Vi");
    sb.append("LmVuZHBvaW50KTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgid2VicHVzaF9zdGF0");
    sb.append("dXMiLCAic3VjY2VzcyIpOwogICAgICAgICAgICAgIHNldFB1c2hTdGF0dXMoInN1Y2Nlc3MiKTsKICAg");
    sb.append("ICAgICAgICAgfSwKICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAg");
    sb.append("Y29ubmVjdGlvbi5idW1wKCJ3cGYiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAg");
    sb.append("fSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbigpIHsKICAgICAgICAgIGNvbm5lY3Rpb24uYnVtcCgi");
    sb.append("d3BmIik7CiAgICAgICAgfQogICAgICB9KQogICAgfSwgZnVuY3Rpb24oZXJyKSB7CiAgICAgIHNldFB1");
    sb.append("c2hTdGF0dXMoImZhaWxlZCIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwdXNoS2V5TG9j");
    sb.append("YWwpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgibGFzdF9pZGVudGl0eV91c2VkIik7CiAg");
    sb.append("ICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJwdXNoX3dvcmtlcl92ZXJzaW9uIik7CiAgICAgIGNv");
    sb.append("bm5lY3Rpb24uYnVtcCgid3BkIik7CiAgICAgIGNvbm5lY3Rpb24ubG9nKCJwdXNoc2V0dXAiLCAiIiAr");
    sb.append("IGVycik7CiAgICB9KTsKICB9CgogIHZhciBzZXR1cFB1c2ggPSBmdW5jdGlvbihwYXRoLCB2YXBpZFB1");
    sb.append("YmxpY0tleSwgaWRlbnRpdHksIGlkZW50aXR5TmFtZSwgdmVyc2lvbikgewogICAgaWYgKG5hdmlnYXRv");
    sb.append("ci5zZXJ2aWNlV29ya2VyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3Jr");
    sb.append("ZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbnMpIHsKICAgICAg");
    sb.append("ICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgICAgICAgZm9yIChsZXQgcmVnaXN0cmF0aW9uIG9mIHJl");
    sb.append("Z2lzdHJhdGlvbnMpIHsKICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbi5hY3RpdmUpIHsKICAgICAg");
    sb.append("ICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbi5hY3RpdmUuc2NyaXB0VVJMLmVuZHNXaXRoKHBhdGgpKSB7");
    sb.append("CiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24udW5yZWdpc3RlcigpOwogICAgICAgICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICBzZXR1cFN1");
    sb.append("YnNjcmlwdGlvbihyZWdpc3RyYXRpb24sIHZhcGlkUHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlO");
    sb.append("YW1lLCB2ZXJzaW9uKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVn");
    sb.append("aXN0ZXIocGF0aCk7CiAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4o");
    sb.append("ZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikgewogICAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHJl");
    sb.append("Z2lzdHJhdGlvbiwgdmFwaWRQdWJsaWNLZXksIGlkZW50aXR5LCBpZGVudGl0eU5hbWUsIHZlcnNpb24p");
    sb.append("OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXgp");
    sb.append("IHsKICAgICAgICBjb25zb2xlLmVycm9yKCJmYWlsZWQgdG8gcmVnaXN0ZXIgc2VydmljZSB3b3JrZXIi");
    sb.append("LCBleCk7CiAgICAgICAgc2V0UHVzaFN0YXR1cygiaW1wb3NzaWJsZSIpOwogICAgICAgIGNvbm5lY3Rp");
    sb.append("b24uYnVtcCgid3BpMiIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZygibm8g");
    sb.append("c2VydmljZSB3b3JrZXIgYXZhaWxhYmxlIik7CiAgICAgIHNldFB1c2hTdGF0dXMoImltcG9zc2libGUi");
    sb.append("KTsKICAgICAgY29ubmVjdGlvbi5idW1wKCJ3cGkxIik7CiAgICB9CiAgfQoKICBzZWxmLndvcmtlciA9");
    sb.append("IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgcGF0aCwgdmVyc2lvbikgewogICAgdHJ5IHsKICAgICAgYWZ0");
    sb.append("ZXJIYXZlSWRlbnRpdHkoaWRlbnRpdHlOYW1lLCBmdW5jdGlvbihpZGVudGl0eSkgewogICAgICAgIGNv");
    sb.append("bm5lY3Rpb24uRG9tYWluR2V0VmFwaWRQdWJsaWNLZXkoaWRlbnRpdHksIHNlbGYuZG9tYWluLCB7CiAg");
    sb.append("ICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBzZXR1cFB1c2go");
    sb.append("cGF0aCwgcmVzcG9uc2UucHVibGljS2V5LCBpZGVudGl0eSwgaWRlbnRpdHlOYW1lLCB2ZXJzaW9uKTsK");
    sb.append("ICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAg");
    sb.append("ICAgIGNvbnNvbGUuZXJyb3IoImZhaWxlZCB0byBnZXQgcHVibGljLWtleToiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9KQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGV4KSB7CiAgICAgIGNvbnNv");
    sb.append("bGUuZXJyb3IoImZhaWxlZCB0byBpbml0aWFsaXplIHdvcmtlciIsIGV4KTsKICAgIH0KICB9OwoKICBz");
    sb.append("ZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBzZWxmLnJ1bihkb2N1bWVudC5ib2R5LCBmaXhQYXRo");
    sb.append("KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cu");
    sb.append("bG9jYXRpb24uaGFzaCksIGZhbHNlKTsKICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKHAp");
    sb.append("IHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4UGF0aCh3aW5kb3cubG9jYXRpb24ucGF0");
    sb.append("aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0aW9uLmhhc2gpLCBmYWxz");
    sb.append("ZSk7CiAgICB9OwogIH07CgogIHNlbGYuY3VycmVudFZpZXdlcklkID0gMDsKICAvLyBBUEkgfCBSdW4g");
    sb.append("dGhlIHBhZ2UgaW4gdGhlIGdpdmVuIHBsYWNlCiAgc2VsZi5ydW4gPSBmdW5jdGlvbiAod2hlcmUsIHJh");
    sb.append("d1BhdGgsIHB1c2gpIHsKICAgIHZhciBwYXRoID0gcmF3UGF0aDsKICAgIHdoaWxlIChwYXRoLmVuZHNX");
    sb.append("aXRoKCIvIikgJiYgcGF0aCAhPSAiLyIpIHsKICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBh");
    sb.append("dGgubGVuZ3RoIC0gMSk7CiAgICB9CiAgICBmb3IgKGNvbktleSBpbiBjb25uZWN0aW9ucykgewogICAg");
    sb.append("ICBjb25uZWN0aW9uc1tjb25LZXldLnRyZWUubnVrZSgpOwogICAgICBjb25uZWN0aW9uc1tjb25LZXld");
    sb.append("Lm51a2UoKTsKICAgIH0KICAgIHZhciBzZWFyY2ggPSAiIjsKICAgIHZhciBrUXVlc3Rpb24gPSBwYXRo");
    sb.append("LmluZGV4T2YoJz8nKTsKICAgIGlmIChrUXVlc3Rpb24gPiAwKSB7CiAgICAgIHNlYXJjaCA9IHBhdGgu");
    sb.append("c3Vic3RyaW5nKGtRdWVzdGlvbik7CiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBrUXVlc3Rp");
    sb.append("b24pOwogICAgfQogICAgdmFyIHBhcnRzID0gKHBhdGguc3RhcnRzV2l0aCgiLyIpID8gcGF0aC5zdWJz");
    sb.append("dHJpbmcoMSkgOiBwYXRoKS5zcGxpdCgiLyIpOwogICAgdmFyIGluaXQgPSB7fTsKICAgIHNlbGYuY3Vy");
    sb.append("cmVudFZpZXdlcklkKys7CiAgICBpbml0LnZpZXdlcl9jdXJyZW50X3BhZ2VfaWQgPSBzZWxmLmN1cnJl");
    sb.append("bnRWaWV3ZXJJZDsKICAgIHRyeSB7CiAgICAgIGluaXQudmlld2VyX3RpbWV6b25lID0gSW50bC5EYXRl");
    sb.append("VGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAgICBpbml0LnZpZXdlcl9s");
    sb.append("YW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZTsKICAgIH0gY2F0Y2ggKGJyb3dzZXJCYWQpIHsKICAg");
    sb.append("ICAgLy8gd2UganVzdCBkb24ndCBzZWUgdGhlIHZpZXdzdGF0ZSBpZiB3ZSBkb24ndCBoYXZlIHRoZXNl");
    sb.append("IGF2YWlsYWJsZQogICAgfQogICAgaW5pdC52aWV3ZXJfc2VhcmNoX3F1ZXJ5ID0gIiI7CiAgICBpbml0");
    sb.append("LnZpZXdlcl93ZWJfcHVzaF9zdGF0dXMgPSBnZXRXZWJQdXNoU3RhdHVzKCk7CiAgICBpZiAoc2VhcmNo");
    sb.append("ICE9ICI/IikgewogICAgICBpbml0LnZpZXdlcl9zZWFyY2hfcXVlcnkgPSBzZWFyY2g7CiAgICAgIGNv");
    sb.append("bnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoLnN1YnN0cmluZygxKSk7CiAgICAg");
    sb.append("IHZhciBrSXQgPSBwYXJhbXMua2V5cygpOwogICAgICB2YXIgcCA9IGtJdC5uZXh0KCk7CiAgICAgIHdo");
    sb.append("aWxlICghcC5kb25lKSB7CiAgICAgICAgaW5pdFtwLnZhbHVlXSA9IHBhcmFtcy5nZXQocC52YWx1ZSk7");
    sb.append("CiAgICAgICAgcCA9IGtJdC5uZXh0KCk7CiAgICAgIH0KICAgIH0KICAgIHZhciBmb28gPSByb3V0ZShw");
    sb.append("YXJ0cywgMCwgcm91dGVyLCBpbml0KTsKICAgIG51a2Uod2hlcmUpOwogICAgaWYgKGZvbyAhPSBudWxs");
    sb.append("KSB7CiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgdmFyIHN0YXRlID0geyBzZXJ2aWNl");
    sb.append("OiBjb25uZWN0aW9uLCBkYXRhOiBudWxsLCB2aWV3OiBmcmVzaCh3aGVyZSksIGN1cnJlbnQ6ICJ2aWV3");
    sb.append("IiB9OwogICAgICBzZWxmLl9fY3VycmVudCA9IHN0YXRlOwogICAgICBzdGF0ZS52aWV3LmluaXQgPSBp");
    sb.append("bml0OwogICAgICBzZWxmLmdhdGVzID0gW107CiAgICAgIHNlbGYucmVzdW1lX3VyaSA9IHBhdGg7CiAg");
    sb.append("ICAgIGZvbyh3aGVyZSwgc3RhdGUpOwogICAgICBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKHN0YXRl");
    sb.append("LnZpZXcuZGVsdGEpOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGluaXQpOwogICAgICBpZiAo");
    sb.append("cHVzaCkgewogICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7bWVyZ2U6ZmFsc2V9LCAiIiwg");
    sb.append("Zml4SHJlZihwYXRoKSArIHNlYXJjaCk7CiAgICAgIH0KICAgICAgc2V0UHVzaEV2ZW50KGZ1bmN0aW9u");
    sb.append("KCkgewogICAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUoeyB2aWV3ZXJfd2ViX3B1c2hfc3RhdHVz");
    sb.append("OiBnZXRXZWJQdXNoU3RhdHVzKCl9KTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBpZiAocGF0");
    sb.append("aCAhPSAiLzQwNCIpIHsKICAgICAgICBzZWxmLnJ1bih3aGVyZSwgIi80MDQiKTsKICAgICAgfSBlbHNl");
    sb.append("IHsKICAgICAgICAvLyBkZWZhdWx0IDQwNAogICAgICB9CiAgICB9CiAgICB3aGVyZS5hcHBlbmRDaGls");
    sb.append("ZChjb25uZWN0aW9uTW9uaXRvckRvbSk7CiAgfTsKCiAgdmFyIGlkZW50aXRpZXMgPSB7fTsKCiAgc2Vs");
    sb.append("Zi5TSUdOT1VUID0gZnVuY3Rpb24gKCkgewogICAgaWRlbnRpdGllcyA9IHt9OwogICAgZm9yICh2YXIg");
    sb.append("aWRlbnRpdHlOYW1lIGluIGlkZW50aXRpZXMpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0o");
    sb.append("ImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgfQogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0");
    sb.append("ZW0oImlkZW50aXR5X2RlZmF1bHQiKTsKICAgIHZhciBheGUgPSBbXTsKICAgIGZvciAodmFyIGNpZCBp");
    sb.append("biBjb25uZWN0aW9ucykgewogICAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tjaWRdOwogICAgICBpZiAo");
    sb.append("Y28ucHRyICE9IG51bGwpIHsKICAgICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkg");
    sb.append("eyB9LCBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIH0KICAgICAgYXhlLnB1c2goY2lk");
    sb.append("KTsKICAgIH0KICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgIGRl");
    sb.append("bGV0ZSBjb25uZWN0aW9uc1theGVba11dOwogICAgfQogIH07CgogIHNlbGYuR09PR0xFX1NJR05fT04g");
    sb.append("PSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHsKICAgIGNvbm5lY3Rpb24uSW5pdENvbnZlcnRHb29nbGVV");
    sb.append("c2VyKGFjY2Vzc1Rva2VuLCB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAg");
    sb.append("ICAgaWRlbnRpdGllc1siZGVmYXVsdCJdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICBsb2NhbFN0");
    sb.append("b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAg");
    sb.append("IHNlbGYuZ290bygiLyIsIGZhbHNlKTsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJl");
    sb.append("YXNvbikgewogICAgICAgIGNvbnNvbGUubG9nKCJHb29nbGUgZmFpbHVyZTogIiArIHJlYXNvbik7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH07CgogIC8qKiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBwYWdlIHdpdGgg");
    sb.append("c3RhdGUgKi8KICBzZWxmLmFSRHAgPSBmdW5jdGlvbiAoc3RhdGUsIHB1bGxlcikgewogICAgcmV0dXJu");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVyaSA9IHB1bGxlcihzdGF0ZS52aWV3LmluaXQpOwogICAg");
    sb.append("ICByZXR1cm4gdXJpOwogICAgfTsKICB9OwoKICAvKiogUlVOVElNRSB8IHJlZGlyZWN0IHRvIGEgc3Rh");
    sb.append("dGljIHBhZ2UgKi8KICBzZWxmLmFSRHogPSBmdW5jdGlvbiAocmF3KSB7CiAgICByZXR1cm4gZnVuY3Rp");
    sb.append("b24gKCkgewogICAgICByZXR1cm4gcmF3OwogICAgfQogIH07CgogIHZhciBpZGVudGl0eUV2ZW50cyA9");
    sb.append("IHt9OwogIHZhciBhZnRlckhhdmVJZGVudGl0eSA9IGZ1bmN0aW9uKGlkZW50aXR5TmFtZSwgY2FsbGJh");
    sb.append("Y2spIHsKICAgIGlkZW50aXR5RXZlbnRzW2lkZW50aXR5TmFtZV0gPSBjYWxsYmFjazsKICB9OwoKICAv");
    sb.append("KiogZm9yIGN1c3RvbSBlbGVtZW50cyB0byBsZWFybiBvZiB0aGUgaWRlbnRpdHkgKi8KICBzZWxmLklE");
    sb.append("ID0gZnVuY3Rpb24gKGlkZW50aXR5TmFtZSwgcmVkaXJlY3RUb0Z1bmMpIHsKICAgIGlmIChpZGVudGl0");
    sb.append("eU5hbWUgPT09IHRydWUpIHsKICAgICAgaWRlbnRpdHlOYW1lID0gImRlZmF1bHQiOwogICAgfQogICAg");
    sb.append("Ly8gSUYgaWRlbnRpdHkgY29udGFpbnMgZG90cwogICAgdmFyIGlkZW50aXR5ID0gbnVsbDsKICAgIHZh");
    sb.append("ciBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgfTsKCiAgICB2YXIgdmFsID0gbG9jYWxTdG9yYWdl");
    sb.append("LmdldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgaWYgKHZhbCkgewogICAgICBp");
    sb.append("ZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSB2YWw7CiAgICB9CgogICAgaWYgKGlkZW50aXR5TmFtZS5z");
    sb.append("dGFydHNXaXRoKCJkaXJlY3Q6IikpIHsKICAgICAgLy8gVXNlLCBhcyBpcwogICAgICBpZGVudGl0eSA9");
    sb.append("IGlkZW50aXR5TmFtZS5zdWJzdHJpbmcoNyk7CiAgICB9IGVsc2UgaWYgKGlkZW50aXR5TmFtZSBpbiBp");
    sb.append("ZGVudGl0aWVzKSB7CiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdOwogICAg");
    sb.append("ICBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0ZSBpZGVudGl0aWVzW2lkZW50aXR5");
    sb.append("TmFtZV07CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0");
    sb.append("eU5hbWUpOwogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygpLCBmYWxzZSk7CiAgICAgIH07");
    sb.append("CiAgICB9IGVsc2UgewogICAgICAvLyB3aGF0ZXZlciBwYWdlIHdlIGFyZSwgbmVlZHMgdG8gZGllIHdo");
    sb.append("aWNoIG1lYW5zIHdlIG5lZWQgdG8gbnVrZSBldmVyeXRoaW5nIQogICAgICB3aW5kb3cuc2V0VGltZW91");
    sb.append("dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5nb3RvKHJlZGlyZWN0VG9GdW5jKCksIGZhbHNlKTsK");
    sb.append("ICAgICAgfSwgMTApOwogICAgICByZXR1cm4geyBhYm9ydDogdHJ1ZSB9OwogICAgfQogICAgaWYgKGlk");
    sb.append("ZW50aXR5TmFtZSBpbiBpZGVudGl0eUV2ZW50cykgewogICAgICBpZGVudGl0eUV2ZW50c1tpZGVudGl0");
    sb.append("eU5hbWVdKGlkZW50aXR5KTsKICAgICAgZGVsZXRlIGlkZW50aXR5RXZlbnRzW2lkZW50aXR5TmFtZV07");
    sb.append("CiAgICB9CiAgICByZXR1cm4geyBhYm9ydDogZmFsc2UsIGNsZWFudXA6IGNsZWFudXAsIGlkZW50aXR5");
    sb.append("OiBpZGVudGl0eSB9OwogIH07CgogIC8qIEZvciBjdXN0b20gY2FsbGJhY2tzIHRvIHJlZGlyZWN0IGFu");
    sb.append("ZCBpbnZhbGlkYXRlIElEIGZhaWx1cmVzICovCiAgc2VsZi5GSURDTCA9IGZ1bmN0aW9uIChjYWxsYmFj");
    sb.append("aywgbG9va3VwKSB7CiAgICByZXR1cm4gewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7");
    sb.append("CiAgICAgICAgY2FsbGJhY2suc3VjY2VzcyhyZXN1bHQpOwogICAgICB9LAogICAgICBuZXh0OiBmdW5j");
    sb.append("dGlvbiAoaXRlbSkgewogICAgICAgIGNhbGxiYWNrLm5leHQoaXRlbSk7CiAgICAgIH0sCiAgICAgIGNv");
    sb.append("bXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FsbGJhY2suY29tcGxldGUoKTsKICAgICAgfSwK");
    sb.append("ICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNhbGxiYWNrLmZhaWx1cmUo");
    sb.append("cmVhc29uKTsKICAgICAgICBpZiAocmVhc29uID09IDQwMzQwMyB8fCByZWFzb24gPT0gNDAzNTAwIHx8");
    sb.append("IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAgIGxvb2t1cC5jbGVhbnVwKCk7CiAgICAgICAgfQog");
    sb.append("ICAgICB9CiAgICB9OwogIH07CgogIHZhciBjdXN0b21EYXRhU291cmNlcyA9IHt9OwoKICAvKiogcHJv");
    sb.append("dmlkZSBjdXN0b20gZGF0YSAqLwogIHNlbGYuUFJDVURBID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewog");
    sb.append("ICAgY3VzdG9tRGF0YVNvdXJjZXNbbmFtZV0gPSBmb287CiAgfTsKCiAgLy8gPGN1c3RvbWRhdGEgc3Jj");
    sb.append("PXNyYyAocGFyYW1ldGVyOng9eSkqID4KICBzZWxmLkNVREEgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlv");
    sb.append("clN0YXRlLCBzcmMsIHJ4b2JqLCByZWRpcmVjdFRvLCBjaGlsZE1ha2VyKSB7CiAgICB2YXIgdW5zdWIg");
    sb.append("PSBtYWtlX3Vuc3ViKCk7CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDEwLCBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBjdXN0b21U");
    sb.append("cmVlID0gZmFsc2U7CiAgICAgIGlmIChzcmMgaW4gY3VzdG9tRGF0YVNvdXJjZXMpIHsKICAgICAgICB2");
    sb.append("YXIgY29ucyA9IGN1c3RvbURhdGFTb3VyY2VzW3NyY107CiAgICAgICAgaWYgKHR5cGVvZiAoY29ucykg");
    sb.append("PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY3VzdG9tVHJlZSA9IGNvbnMocnhvYmosIHByaW9yU3Rh");
    sb.append("dGUsIHJlZGlyZWN0VG8sIHNlbGYpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWN1c3RvbVRy");
    sb.append("ZWUpIHsKICAgICAgICBjdXN0b21UcmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBzdGF0ZSA9IHsKICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgZGF0");
    sb.append("YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNvbm5lY3Rpb24sIHRyZWU6IGN1c3RvbVRyZWUsIGRl");
    sb.append("bHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAgICAgdmlldzogbmV3X2RlbHRh");
    sb.append("X2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgICBjdXJyZW50OiAiZGF0YSIKICAgICAgfTsKICAg");
    sb.append("ICAgY2hpbGRNYWtlcihzdGF0ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwog");
    sb.append("ICAgfSk7CiAgfTsKCiAgLy8gPHRpdGxlIHZhbHVlPSIuLi4iIC8+CiAgc2VsZi5TVCA9IGZ1bmN0aW9u");
    sb.append("IChyeG9iaikgewogICAgaWYgKHJ4b2JqLnZhbHVlKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gcnhv");
    sb.append("YmoudmFsdWU7CiAgICB9CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgaWYgKHJ4b2JqLnZhbHVlKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSByeG9iai52YWx1ZTsK");
    sb.append("ICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5jPgogIHNlbGYuVlN5ID0gZnVuY3Rpb24g");
    sb.append("KHBhcmVudCwgcHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWlsKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtl");
    sb.append("X3Vuc3ViKCk7CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfc3luYyhmdW5j");
    sb.append("dGlvbiAoc3luY2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7");
    sb.append("CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlmIChzeW5jZWQpIHsKICAg");
    sb.append("ICAgICBhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBub3RhdmFpbChw");
    sb.append("YXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsK");
    sb.append("ICAgICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3ViCiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVuY3Rpb24gKGNvLCBjbGVhbnVwLCByZXRy");
    sb.append("eV9zbSkgewogICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgcmV0cnlfc20uYmFj");
    sb.append("a29mZiA9IDE7CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAg");
    sb.append("ICAgIGNvLmRlYnVnZ2VyKHBheWxvYWQpOwogICAgICAgIGNvLnNldF9jb25uZWN0ZWQodHJ1ZSk7CiAg");
    sb.append("ICAgICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgICAgIHJldHJ5X3NtLmJhY2tv");
    sb.append("ZmYgPSAxOwogICAgICAgIGlmICgiZGF0YSIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28u");
    sb.append("dHJlZS51cGRhdGUocGF5bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgICB9CiAgICAgICAgaWYgKCJvdXRz");
    sb.append("dGFuZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28ub25kZWNpZGUocGF5bG9hZC5k");
    sb.append("ZWx0YS5vdXRzdGFuZGluZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3N0YXRlJyBpbiBwYXls");
    sb.append("b2FkLmRlbHRhKSB7CiAgICAgICAgICBjby52aWV3c3RhdGV0cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRh");
    sb.append("LnZpZXdzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIGlmICgnbG9nJyBpbiBwYXlsb2FkLmRlbHRhKSB7");
    sb.append("CiAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2FkLmRlbHRhLmxvZyk7CiAgICAgICAgfQogICAgICAg");
    sb.append("IGlmICgndmlld3BvcnQnIGluIHBheWxvYWQuZGVsdGEgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQuZGVs");
    sb.append("dGEpIHsKICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHBheWxvYWQuZGVsdGEudmlld3BvcnQ7CiAgICAg");
    sb.append("ICAgICBpZiAodmlld3BvcnQgaW4gY28uaGFuZGxlcnMpIHsKICAgICAgICAgICAgY28uaGFuZGxlcnNb");
    sb.append("dmlld3BvcnRdKHBheWxvYWQuZGVsdGEubWVzc2FnZSwgY28pOwogICAgICAgICAgfQogICAgICAgIH0K");
    sb.append("ICAgICAgICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVyJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAg");
    sb.append("ICB2YXIgZmlsdGVyID0ge307CiAgICAgICAgICB2YXIga2V5cyA9IHBheWxvYWQuZGVsdGFbJ3ZpZXct");
    sb.append("c3RhdGUtZmlsdGVyJ107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgICAgICAgZmlsdGVyW2tleXNba11dID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIGNvLmZpbHRlciA9IGZpbHRlcjsKICAgICAgICAgIGNvLmhhc19maWx0ZXIgPSB0cnVlOwogICAg");
    sb.append("ICAgIH0KICAgICAgICBpZiAoJ2dvdG8nIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHNlbGYu");
    sb.append("Z290byhwYXlsb2FkLmRlbHRhLmdvdG8sIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNv");
    sb.append("bXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gc2hvdWxkbid0IHJlYWxpc3RpY2FsbHkgaGFw");
    sb.append("cGVuIFRPRE86IHZhbGlkYXRlIDwtIHRydXRoCiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZChmYWxzZSk7");
    sb.append("CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJl");
    sb.append("YXNvbikgewogICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBmYWlsdXJlCiAgICAgICAgY28uc2V0X2Nvbm5l");
    sb.append("Y3RlZChmYWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgICBpZiAocmVhc29uID09IDQw");
    sb.append("MzQwMyB8fCByZWFzb24gPT0gNDAzNTAwIHx8IHJlYXNvbiA9PSAxODQzMzMpIHsKICAgICAgICAgIGNs");
    sb.append("ZWFudXAoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gaXMgaXQgYW4gZXhw");
    sb.append("ZWN0ZWQgZXJyb3IgdGhhdCB3aWxsIGhhcHBlbiBhIGJ1bmNoPwogICAgICAgIHZhciBleHBlY3RlZF9l");
    sb.append("cnJvciA9IHJlYXNvbiA9PSA5OTk7CiAgICAgICAgLy8gZG8gd2Ugbm90IGtub3cgYWJvdXQgYW4gZXJy");
    sb.append("b3IgdGhhdCBoYXBwZW5zIGEgYnVuY2g/IGlmIHNvLCB0aGVuIGxldCdzIGF0IGxlYXN0IHRyeSBhZ2Fp");
    sb.append("biBhIG51bWJlciBvZiBmaW5pdGUgdGltZXMuCiAgICAgICAgdmFyIGJsaW5kX3JldHJ5ID0gcmV0cnlf");
    sb.append("c20udW5leHBlY3RlZF9lcnJvcnMgPCAxNjsKICAgICAgICBpZiAoYmxpbmRfcmV0cnkpIHsKICAgICAg");
    sb.append("ICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzKys7CiAgICAgICAgfQogICAgICAgIC8vIHJldHJ5");
    sb.append("IG9uIGVpdGhlciBjYXNlCiAgICAgICAgaWYgKGV4cGVjdGVkX2Vycm9yIHx8IGJsaW5kX3JldHJ5KSB7");
    sb.append("CiAgICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gTWF0aC5jZWlsKE1hdGgubWluKHJldHJ5X3NtLmJh");
    sb.append("Y2tvZmYgKyBNYXRoLnJhbmRvbSgpICogcmV0cnlfc20uYmFja29mZiArIChibGluZF9yZXRyeSA/IDEy");
    sb.append("NSA6IDEpLCAyNTAwKSk7CiAgICAgICAgICBpZiAoZXhwZWN0ZWRfZXJyb3IpIHsKICAgICAgICAgICAg");
    sb.append("Ly8gdGhlIGV4cGVjdGVkIGVycm9yIGlzIGEgY29ubmVjdGlvbiBldmVudCwgc28gd2UgcHJvdGVjdCB0");
    sb.append("aGUgc2VydmljZSBhbmQganVtcCBiYWNrLW9mZiByaWdodCB0byBuZWFyIG1heCBvdmVyIGEgbmljZSBz");
    sb.append("cHJlYWQKICAgICAgICAgICAgcmV0cnlfc20uYmFja29mZiA9IE1hdGgubWluKDEyNTAsIHJldHJ5X3Nt");
    sb.append("LmJhY2tvZmYpICsgTWF0aC5yYW5kb20oKSAqIDEyNTA7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAo");
    sb.append("ZXhwZWN0ZWRfZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImNvbm5lY3QtbG9zc3xyZXRy");
    sb.append("eWluZy4uLiAoIiArIHJldHJ5X3NtLmJhY2tvZmYgKyAiKTsgcmVhc29uPSIgKyByZWFzb24gKyAoYmxp");
    sb.append("bmRfcmV0cnkgPyAiIFtibGluZF0iIDogIiIpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg");
    sb.append("IGNvbnNvbGUubG9nKCJjb25uZWN0LWZhaWx1cmV8cmV0cnlpbmcuLi4gKCIgKyByZXRyeV9zbS5iYWNr");
    sb.append("b2ZmICsgIik7IHJlYXNvbj0iICsgcmVhc29uICsgKGJsaW5kX3JldHJ5ID8gIiBbYmxpbmRdIiA6ICIi");
    sb.append("KSk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBUT0RPOiBuZWVkIGEgZGlmZmVyZW50IGZlZWRiYWNr");
    sb.append("IG1lY2hhbmlzbSAobWF5YmUgYSBudW1iZXIgdW5kZXIgdGhlIHdpZmkgaWNvbj8pCiAgICAgICAgICB3");
    sb.append("aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0cnlfc20uZ28oKTsKICAg");
    sb.append("ICAgICAgIH0sIHJldHJ5X3NtLmJhY2tvZmYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25z");
    sb.append("b2xlLmxvZygiZ2F2ZSB1cCBjb25uZWN0aW9uOyIgKyBjby5sYWJlbCArICI7IHJlYXNvbj0iICsgcmVh");
    sb.append("c29uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICB2YXIgc2V0dXBfY28gPSBmdW5jdGlv");
    sb.append("bihkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKSB7CiAgICBjby52aWV3c3RhdGV0cmVlID0gc3RhdGUu");
    sb.append("dmlldy50cmVlOwogICAgdmFyIHN5bmNfdHJlZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gbGV0J3Mg");
    sb.append("Y29weSBvdXQgdGhlIHRyZWUgZnJvbSB0aGUgdmlld3N0YXRlCiAgICAgIHZhciBuZXdfdHJlZSA9IHNh");
    sb.append("ZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJlZS5jb3B5KCkpOwoKICAgICAgLy8gaWYgd2UgaGF2ZSBnb3Qg");
    sb.append("YSBmaWx0ZXIgZnJvbSB0aGUgc2VydmVyLCB0aGVuIGxldCdzIGZpbHRlcgogICAgICBpZiAoY28uaGFz");
    sb.append("X2ZpbHRlcikgewogICAgICAgIC8vIHJlY29uc3RydWN0IHRoZSBuZXcgdmlldyBiYXNlZCBvbiB0aGUg");
    sb.append("aW50ZXJzZWN0aW9uIG9mIHRoZSBmaWx0ZXIgYW5kIHRoZSBuZXcgc3RhdGUKICAgICAgICB2YXIgZmls");
    sb.append("dGVyZWQgPSB7fTsKICAgICAgICBmb3IgKHZhciBrIGluIG5ld190cmVlKSB7CiAgICAgICAgICBpZiAo");
    sb.append("Y28uZmlsdGVyW2tdKSB7CiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gbmV3X3RyZWVba107CiAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGFzc3VtZSB0aGUgbmV3IHRyZWUKICAgICAgICBuZXdf");
    sb.append("dHJlZSA9IGZpbHRlcmVkOwogICAgICB9CiAgICAgIC8vIGlmIHRoZSBjbG9uZSAoaS5lLiBzdHJpbmdp");
    sb.append("ZmllZCB2ZXJzaW9uKSBpcyB0aGUgc2FtZSBhcyB3aGF0IHdlIGxhc3Qgc2VudCwgdGhlbiBkb24ndCBz");
    sb.append("ZW5kIGFueXRoaW5nCiAgICAgIHZhciBwcmlvcl9jbG9uZSA9IEpTT04uc3RyaW5naWZ5KG5ld190cmVl");
    sb.append("KTsKICAgICAgaWYgKHByaW9yX2Nsb25lID09IGNvLnZpZXdzdGF0ZV9jbG9uZSkgewogICAgICAgIHJl");
    sb.append("dHVybjsKICAgICAgfQogICAgICBjby52aWV3c3RhdGVfc2VudCA9IGZhbHNlOwogICAgICBjby52c3Nl");
    sb.append("cSsrOwogICAgICBjby5zeW5jKCk7CiAgICAgIHZhciBzeW5jZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("ICAgaWYgKGNvLnZzc2VxID09IHRoaXMuYm91bmQpIHsKICAgICAgICAgIGNvLnZpZXdzdGF0ZV9zZW50");
    sb.append("ID0gdHJ1ZTsKICAgICAgICAgIGNvLnN5bmMoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh7IGJvdW5k");
    sb.append("OiBjby52c3NlcSB9KTsKICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gSlNPTi5zdHJpbmdpZnkobmV3");
    sb.append("X3RyZWUpOwogICAgICBjby5wdHIudXBkYXRlKG5ld190cmVlLCB7IHN1Y2Nlc3M6IHN5bmNlZCwgZmFp");
    sb.append("bHVyZTogc3luY2VkIH0pOwogICAgfTsKICAgIHZhciBiaW5kID0gZnVuY3Rpb24gKHNlbmROb3cpIHsK");
    sb.append("ICAgICAgdW5zdWIudmlldyA9IHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICAgIGlmIChjby5wdHIgPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAg");
    sb.append("ICAgICBzeW5jX3RyZWUoKTsKICAgICAgfSk7CiAgICAgIGlmIChzZW5kTm93KSB7CiAgICAgICAgc3lu");
    sb.append("Y190cmVlKCk7CiAgICAgIH0KICAgIH07CiAgICBpZiAoY28ucHRyICE9IG51bGwgJiYgY28uYm91bmQg");
    sb.append("PT0gZGVzaXJlZCkgewogICAgICBiaW5kKHRydWUpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAg");
    sb.append("ICBpZiAoY28ucHRyICE9IG51bGwpIHsKICAgICAgY28ucHRyLmVuZCh7IHN1Y2Nlc3M6IGZ1bmN0aW9u");
    sb.append("ICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAgICBjby5wdHIgPSBudWxsOwog");
    sb.append("ICAgfQogICAgcmV0dXJuIGJpbmQ7CiAgfTsKCiAgLy8gPGNvbm5lY3Rpb24gYmlsbGluZyAuLi4+CiAg");
    sb.append("c2VsZi5CQ09OTkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1YiA9IHsK");
    sb.append("ICAgICAgdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18gPSBkZWJv");
    sb.append("dW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeG9iaikpIHsKICAgICAg");
    sb.append("ICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0");
    sb.append("eSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29r");
    sb.append("dXAuYWJvcnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5l");
    sb.append("Y3Rpb25fb2JqKHJ4b2JqLm5hbWUpOwogICAgICB2YXIgZGVzaXJlZCA9ICI6YmlsbGluZzoiICsgaWRM");
    sb.append("b29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28oZGVzaXJlZCwgdW5zdWIsIGNv");
    sb.append("LCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("fQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CiAgICAgIHZhciBpZGVudGl0eSA9IGlkTG9va3VwLmlk");
    sb.append("ZW50aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlkTG9va3VwLmNsZWFudXA7CiAgICAgIHVuc3ViLnZp");
    sb.append("ZXcoKTsKICAgICAgY28uaWRlbnRpdHkgPSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7fTsK");
    sb.append("ICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICBjby5sYWJlbCA9ICJCaWxsaW5nIFsg");
    sb.append("IiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAgICAgIGNvLnZpYV9iaWxsaW5nID0gdHJ1ZTsKICAgICAgY28u");
    sb.append("dmlhX2RvbWFpbiA9IGZhbHNlOwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20u");
    sb.append("cmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0");
    sb.append("cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAg");
    sb.append("ICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkJp");
    sb.append("bGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXRyeV9zbS5yZXNwb25kZXIpOwogICAgICB9");
    sb.append("OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVlLnVwZGF0ZSh7fSk7CiAgICAgIGJpbmQo");
    sb.append("ZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5kb21haW4gPSBsb2NhdGlvbi5ob3N0bmFtZTsKICBz");
    sb.append("ZWxmLmhvc3QgPSBsb2NhdGlvbi5ob3N0OwogIHNlbGYucHJvdG9jb2wgPSBsb2NhdGlvbi5wcm90b2Nv");
    sb.append("bDsKCiAgc2VsZi5tb2JpbGVJbml0ID0gZnVuY3Rpb24ob3ZlcnJpZGVEb21haW4pIHsKICAgIHNlbGYu");
    sb.append("ZG9tYWluID0gb3ZlcnJpZGVEb21haW47CiAgICBzZWxmLmhvc3QgPSBvdmVycmlkZURvbWFpbjsKICAg");
    sb.append("IHNlbGYucHJvdG9jb2wgPSAiaHR0cHMiOwogIH07CgogIC8vIDxjb25uZWN0aW9uIHVzZS1kb21haW4g");
    sb.append("Li4uPgogIHNlbGYuRENPTk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5z");
    sb.append("dWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9f");
    sb.append("ID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoISgnbmFtZScgaW4gcnhvYmopKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQocnhvYmou");
    sb.append("aWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAgICAgaWYg");
    sb.append("KGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbyA9IGdl");
    sb.append("dF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRvbWFpbiA9IHNlbGYuZG9tYWlu");
    sb.append("OwogICAgICB2YXIgZGVzaXJlZCA9IGRvbWFpbiArIGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIg");
    sb.append("YmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9");
    sb.append("PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVk");
    sb.append("OwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBjbGVhbnVw");
    sb.append("ID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwogICAgICBjby5pZGVudGl0eSA9");
    sb.append("IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9");
    sb.append("IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkRvbWFpbjoiICsgZG9tYWluICsgIiBbICIgKyByeG9iai5u");
    sb.append("YW1lICsgIl0iOwogICAgICBjby52aWFfZG9tYWluID0gdHJ1ZTsKICAgICAgY28udmlhX2JpbGxpbmcg");
    sb.append("PSBmYWxzZTsKICAgICAgY28uZG9tYWluID0gZG9tYWluOwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsK");
    sb.append("ICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIGNsZWFudXAsIHJldHJ5");
    sb.append("X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5v");
    sb.append("dGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIg");
    sb.append("PSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGVWaWFEb21haW4oaWRlbnRpdHksIGRvbWFpbiwgc2Fm");
    sb.append("ZV9maWx0ZXIoc3RhdGUudmlldy50cmVlLmNvcHkoKSksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAg");
    sb.append("IH07CiAgICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmlu");
    sb.append("ZChmYWxzZSk7CiAgICB9KTsKICB9OwoKICAvLyA8Y29ubmVjdGlvbiAuLi4+CiAgc2VsZi5DT05ORUNU");
    sb.append("ID0gZnVuY3Rpb24gKHN0YXRlLCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgdmFyIHZhbGlkID0gJ2tleScgaW4gcnhvYmogJiYgJ3NwYWNlJyBpbiByeG9i");
    sb.append("aiAmJiAnbmFtZScgaW4gcnhvYmo7CiAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICByZXR1cm47CiAg");
    sb.append("ICAgIH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24g");
    sb.append("KCkgeyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsK");
    sb.append("ICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4");
    sb.append("b2JqLm5hbWUpOwogICAgICB2YXIgZGVzaXJlZCA9IHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5");
    sb.append("ICsgIi8iICsgaWRMb29rdXAuaWRlbnRpdHk7IC8vIFRPRE86IG5lZWQgc29tZSBraW5kIG9mIGhhc2hp");
    sb.append("bmcgZnVuY3Rpb24gaGVyZQogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBj");
    sb.append("bywgc3RhdGUpOwogICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgY28uYm91bmQgPSBkZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAu");
    sb.append("aWRlbnRpdHk7CiAgICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIu");
    sb.append("dmlldygpOwogICAgICBjby5zcGFjZSA9IHJ4b2JqLnNwYWNlOwogICAgICBjby5rZXkgPSByeG9iai5r");
    sb.append("ZXk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgIGNvLmhhbmRsZXJzID0ge307CiAg");
    sb.append("ICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28ubGFiZWwgPSBjby5zcGFjZSArICIv");
    sb.append("IiArIGNvLmtleSArICIgWyAiICsgcnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9");
    sb.append("IGZhbHNlOwogICAgICBjby52aWFfYmlsbGluZyA9IGZhbHNlOwogICAgICB2YXIgcmV0cnlfc20gPSB7");
    sb.append("fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIGNsZWFudXAsIHJl");
    sb.append("dHJ5X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRv");
    sb.append("IG5vdGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5w");
    sb.append("dHIgPSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHJ4b2JqLnNwYWNlLCByeG9i");
    sb.append("ai5rZXksIHNhZmVfZmlsdGVyKHN0YXRlLnZpZXcudHJlZS5jb3B5KCkpLCByZXRyeV9zbS5yZXNwb25k");
    sb.append("ZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVlLnVwZGF0ZSh7fSk7");
    sb.append("CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5JTlRFUk5BTCA9IGZ1bmN0aW9u");
    sb.append("IChwcmlvclN0YXRlKSB7CiAgICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZp");
    sb.append("Y2UsCiAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogbnVsbCwgdHJlZTogbmV3IEFkYW1hVHJlZSgpLCBk");
    sb.append("ZWx0YToge30sIHBhcmVudDogbnVsbCwgcGF0aDogbnVsbCB9LAogICAgICB2aWV3OiBuZXdfZGVsdGFf");
    sb.append("Y29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICBjdXJyZW50OiAiZGF0YSIKICAgIH07CiAgfTsKCiAg");
    sb.append("dmFyIHJlY2FsbF9lbWFpbCA9IGZ1bmN0aW9uIChlbCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBl");
    sb.append("ckNhc2UoKSA9PSAiSU5QVVQiKSB7CiAgICAgIGlmICgiZW1haWwiID09IGVsLnR5cGUgJiYgImVtYWls");
    sb.append("IiA9PSBlbC5uYW1lKSB7CiAgICAgICAgZWwudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1h");
    sb.append("aWxfcmVtZW1iZXIiKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJjaGlsZHJlbiIgaW4g");
    sb.append("ZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVu");
    sb.append("Z3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICByZWNhbGxf");
    sb.append("ZW1haWwoZWwuY2hpbGRyZW5ba10pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHNlbGYu");
    sb.append("YVVQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2YXIg");
    sb.append("aWRMb29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmou");
    sb.append("cnhfZm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2YXIKICAgIGlmIChpZExvb2t1cC5hYm9ydCkg");
    sb.append("ewogICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFjdGlvbiA9ICJodHRwczovLyIgKyBBZGFtYS5Q");
    sb.append("cm9kdWN0aW9uICsgIi9+dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5l");
    sb.append("bmN0eXBlID0gIm11bHRpcGFydC9mb3JtLWRhdGEiOwogICAgdmFyIGlkZW50aXR5SW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRl");
    sb.append("biI7CiAgICBpZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgaWRlbnRpdHlJbnB1dC52");
    sb.append("YWx1ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0");
    sb.append("KTsKICAgIHZhciBpZnJhbWVUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsK");
    sb.append("ICAgIGlmcmFtZVRhcmdldC5uYW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFt");
    sb.append("ZVRhcmdldC53aWR0aCA9ICIxIjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CgogICAgZm9y");
    sb.append("bS5hcHBlbmRDaGlsZChpZnJhbWVUYXJnZXQpOwogICAgZm9ybS50YXJnZXQgPSBpZnJhbWVUYXJnZXQu");
    sb.append("bmFtZTsKICB9OwoKICBzZWxmLmFEVVAgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFt");
    sb.append("ZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRlbnRpdHlOYW1lLCBmdW5jdGlv");
    sb.append("biAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9ETzogbWFrZSByeHZhcgogICAg");
    sb.append("aWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvcm0uYWN0aW9uID0g");
    sb.append("c2VsZi5wcm90b2NvbCArICIvLyIgKyBzZWxmLmhvc3QgKyAiL351cGxvYWQiOwogICAgZm9ybS5tZXRo");
    sb.append("b2QgPSAicG9zdCI7CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICB7");
    sb.append("CiAgICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsK");
    sb.append("ICAgICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRlbiI7CiAgICAgIGlkZW50aXR5SW5wdXQubmFt");
    sb.append("ZSA9ICJpZGVudGl0eSI7CiAgICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0");
    sb.append("eTsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIH0KICAgIHsKICAgICAg");
    sb.append("dmFyIGRvbWFpbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgZG9t");
    sb.append("YWluSW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgICBkb21haW5JbnB1dC5uYW1lID0gImRvbWFpbiI7");
    sb.append("CiAgICAgIGRvbWFpbklucHV0LnZhbHVlID0gc2VsZi5kb21haW47CiAgICAgIGZvcm0uYXBwZW5kQ2hp");
    sb.append("bGQoZG9tYWluSW5wdXQpOwogICAgfQogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FEXyIgKyBNYXRo");
    sb.append("LnJhbmRvbSgpOwogICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1lVGFyZ2V0Lmhl");
    sb.append("aWdodCA9ICIxIjsKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFyZ2V0KTsKICAgIGZvcm0udGFy");
    sb.append("Z2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAgdmFyIHN0YXNoX2lkZW50aXR5ID0gZnVuY3Rp");
    sb.append("b24obmFtZSwgaWRlbnRpdHksIGNvbm5lY3Rpb24pIHsKICAgIHZhciByZXEgPSB7fTsKICAgIHJlcVsn");
    sb.append("bmFtZSddID0gbmFtZTsKICAgIHJlcVsnaWRlbnRpdHknXSA9IGlkZW50aXR5OwogICAgcmVxWydtYXgt");
    sb.append("YWdlJ10gPSA1NTI5NjAwOwoKICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAg");
    sb.append("eGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5yZWFk");
    sb.append("eVN0YXRlID09IDQpIHsKICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBj");
    sb.append("b25uZWN0aW9uLklkZW50aXR5U3Rhc2goaWRlbnRpdHksIG5hbWUsIHsKICAgICAgICAgICAgc3VjY2Vz");
    sb.append("czogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgLy8gVEhJUyBIQVMgRFJBR09OUyBVTlRJTCBBIEZV");
    sb.append("TEwgUFJPRFVDVElPTiBERVBMT1lNRU5UCiAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0");
    sb.append("ZW0oImlkZW50aXR5XyIgKyBuYW1lLCAiY29va2llOiIgKyBuYW1lKTsKICAgICAgICAgICAgfSwKICAg");
    sb.append("ICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24oeHl6KSB7CgogICAgICAgICAgICB9CiAgICAgICAgICB9");
    sb.append("KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICB4aHR0cC5vcGVuKCJQVVQiLCBzZWxmLnByb3Rv");
    sb.append("Y29sICsgIi8vIiArIHNlbGYuaG9zdCArICIvfnN0YXNoLyIgKyBEYXRlLm5vdygpLCB0cnVlKTsKICAg");
    sb.append("IHhodHRwLndpdGhDcmVkZW50aWFscyA9IHRydWU7CiAgICB4aHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5");
    sb.append("KHJlcSkpOwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9tYWluOnNpZ24taW4KICBzZWxm");
    sb.append("LmFkRFNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBy");
    sb.append("eG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0");
    sb.append("JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJl");
    sb.append("cSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICB2YXIgc20gPSB7YXR0ZW1wdHM6MH07CiAgICAg");
    sb.append("IHNtLnJlc3BvbmRlciA9IHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAg");
    sb.append("ICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAg");
    sb.append("IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlk");
    sb.append("ZW50aXR5KTsKICAgICAgICAgIHN0YXNoX2lkZW50aXR5KGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVu");
    sb.append("dGl0eSwgY29ubmVjdGlvbik7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMK");
    sb.append("ICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxzZSk7CiAgICAgICAgICBmaXJl");
    sb.append("X3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29u");
    sb.append("KSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1l");
    sb.append("bnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50");
    sb.append("QXV0aG9yaXplRG9tYWluKHNlbGYuZG9tYWluLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwgc20u");
    sb.append("cmVzcG9uZGVyKTsKICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb2N1");
    sb.append("bWVudDpzaWduLWluCiAgc2VsZi5hRFNPID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5h");
    sb.append("bWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0uYWRkRXZl");
    sb.append("bnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1");
    sb.append("bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBjb25uZWN0aW9u");
    sb.append("LkRvY3VtZW50QXV0aG9yaXplKHJlcS5zcGFjZSwgcmVxLmtleSwgcmVxLnVzZXJuYW1lLCByZXEucGFz");
    sb.append("c3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRl");
    sb.append("bnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3Rv");
    sb.append("cmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsK");
    sb.append("ICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAg");
    sb.append("ICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZpcmVf");
    sb.append("ZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlv");
    sb.append("bj1kb21haW46c2lnbi1pbi1yZXNldAogIHNlbGYuYWREU09yID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRl");
    sb.append("LCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgpIHsgfTsKICAg");
    sb.append("IGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQu");
    sb.append("cHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAg");
    sb.append("ICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplRG9tYWluV2l0aFJlc2V0KHNlbGYuZG9tYWluLCBy");
    sb.append("ZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwgcmVxLm5ld19wYXNzd29yZCx7CiAgICAgICAgc3VjY2Vz");
    sb.append("czogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9");
    sb.append("IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlf");
    sb.append("IiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93");
    sb.append("IGF3YXkgY29ubmVjdGlvbnMKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBmYWxz");
    sb.append("ZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJl");
    sb.append("OiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBz");
    sb.append("aWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0s");
    sb.append("IHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb2N1bWVudDpzaWduLWluLXJlc2V0");
    sb.append("CiAgc2VsZi5hRFNPciA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikg");
    sb.append("ewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIo");
    sb.append("J3N1Ym1pdCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAg");
    sb.append("IHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1");
    sb.append("dGhvcml6ZVdpdGhSZXNldChyZXEuc3BhY2UsIHJlcS5rZXksIHJlcS51c2VybmFtZSwgcmVxLnBhc3N3");
    sb.append("b3JkLCByZXEubmV3X3Bhc3N3b3JkLHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkg");
    sb.append("ewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAg");
    sb.append("ICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXls");
    sb.append("b2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAg");
    sb.append("ICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgIGZpcmVfc3Vj");
    sb.append("Y2Vzcyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsK");
    sb.append("ICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoi");
    sb.append("ICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0sIHRydWUpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5h");
    sb.append("dXRvZ2VuaWQgPSAxOwogIHNlbGYuWCA9IGZ1bmN0aW9uKCkgewogICAgc2VsZi5hdXRvZ2VuaWQrKzsK");
    sb.append("ICAgIHJldHVybiAneCcgKyBzZWxmLmF1dG9nZW5pZDsKICB9OwoKICB2YXIgdHJhbnNmb3JtcyA9IHt9");
    sb.append("OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBhbC5hZ2VudCddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC5h");
    sb.append("Z2VudDsgfTsKICB0cmFuc2Zvcm1zWydwcmluY2lwYWwuYXV0aG9yaXR5J10gPSBmdW5jdGlvbih4KSB7");
    sb.append("IHJldHVybiB4LmF1dGhvcml0eTsgfTsKICB0cmFuc2Zvcm1zWyd0cmltJ10gPSBmdW5jdGlvbih4KSB7");
    sb.append("IHJldHVybiAoJycgKyB4KS50cmltKCk7IH07CiAgdHJhbnNmb3Jtc1sndXBwZXInXSA9IGZ1bmN0aW9u");
    sb.append("KHgpIHsgcmV0dXJuICgnJyArIHgpLnRvVXBwZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snbG93ZXIn");
    sb.append("XSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRvTG93ZXJDYXNlKCk7IH07CiAgdHJhbnNm");
    sb.append("b3Jtc1snaXNfZW1wdHlfc3RyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4ID09ICIiOyB9OwogIHRy");
    sb.append("YW5zZm9ybXNbJ2lzX25vdF9lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggIT0gIiI7");
    sb.append("IH07CiAgdHJhbnNmb3Jtc1snanNvbmlmeSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gSlNPTi5zdHJp");
    sb.append("bmdpZnkoeCk7IH07CiAgdHJhbnNmb3Jtc1sndGltZV9ub3cnXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJu");
    sb.append("IERhdGUubm93KCkgKyAiIjsgfTsKICB0cmFuc2Zvcm1zWydzaXplX2J5dGVzJ10gPSBmdW5jdGlvbih4");
    sb.append("cmF3KSB7CiAgICB2YXIgeCA9IDAuMDsKICAgIGlmICh0eXBlb2YoeHJhdykgPT0gJ251bWJlcicpIHsK");
    sb.append("ICAgICAgeCA9IHhyYXc7CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIHggPSBwYXJzZUZs");
    sb.append("b2F0KHhyYXcpOwogICAgICB9IGNhdGNoIChleCkgewoKICAgICAgfQogICAgfQogICAgdmFyIGl2YWwg");
    sb.append("PSBNYXRoLmZsb29yKHgpOwogICAgaWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBpdmFsICsg");
    sb.append("IiBCIjsKICAgIH0KICAgIGl2YWwgLz0gMTAyNDsKICAgIGlmIChpdmFsIDwgMTAyNCkgewogICAgICBy");
    sb.append("ZXR1cm4gTWF0aC5yb3VuZChpdmFsICogMTApIC8gMTAuMCArICIgS0IiOwogICAgfQogICAgaXZhbCAv");
    sb.append("PSAxMDI0OwogICAgaWYgKGl2YWwgPCAxMDI0KSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGl2YWwg");
    sb.append("KiAxMCkgLyAxMC4wICsgIiBNQiI7CiAgICB9CiAgICBpdmFsIC89IDEwMjQ7CiAgICBpZiAoaXZhbCA8");
    sb.append("IDEwMjQpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoaXZhbCAqIDEwKSAvIDEwLjAgKyAiIEdCIjsK");
    sb.append("ICAgIH0KICB9CiAgdHJhbnNmb3Jtc1sndnVsZ2FyX2ZyYWN0aW9uJ10gPSBmdW5jdGlvbih4cmF3KSB7");
    sb.append("CiAgICB2YXIgeCA9IDAuMDsKICAgIGlmICh0eXBlb2YoeHJhdykgPT0gJ251bWJlcicpIHsKICAgICAg");
    sb.append("eCA9IHhyYXc7CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIHggPSBwYXJzZUZsb2F0KHhy");
    sb.append("YXcpOwogICAgICB9IGNhdGNoIChleCkgewoKICAgICAgfQogICAgfQogICAgdmFyIGl2YWwgPSBNYXRo");
    sb.append("LmZsb29yKHgpOwogICAgdmFyIGNoYW5nZSA9IHggLSBpdmFsOwogICAgdmFyIHN1ZmZpeCA9ICIiOwog");
    sb.append("ICAgaWYgKGNoYW5nZSA8PSAwLjA2MjUpIHsKICAgICAgLy8gMAogICAgfSBlbHNlIGlmIChjaGFuZ2Ug");
    sb.append("PD0gMC4xODc1KSB7CiAgICAgIHN1ZmZpeCA9ICLihZsiOwogICAgfSBlbHNlIGlmIChjaGFuZ2UgPD0g");
    sb.append("MC4zMTI1KSB7CiAgICAgIHN1ZmZpeCA9ICLCvCI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjQz");
    sb.append("NzUpIHsKICAgICAgc3VmZml4ID0gIuKFnCI7CiAgICB9IGVsc2UgaWYgKGNoYW5nZSA8PSAwLjU2MjUp");
    sb.append("IHsKICAgICAgc3VmZml4ID0gIsK9IjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuNjg3NSkgewog");
    sb.append("ICAgICBzdWZmaXggPSAi4oWdIjsKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuODEyNSkgewogICAg");
    sb.append("ICBzdWZmaXggPSAiwr4iOyAvLyAzLzQKICAgIH0gZWxzZSBpZiAoY2hhbmdlIDw9IDAuOTM3NSkgewog");
    sb.append("ICAgICBzdWZmaXggPSAi4oWeIjsKICAgIH0gLy8gZWxzZSAxCiAgICByZXR1cm4gaXZhbCArIHN1ZmZp");
    sb.append("eDsKICB9CiAgdHJhbnNmb3Jtc1sndGltZV9hZ28nXSA9IGZ1bmN0aW9uKGR0KSB7CiAgICAvLyBvbmx5");
    sb.append("IHRyYW5zZm9ybSBzdHJpbmdzCiAgICBpZiAodHlwZW9mIChkdCkgPT0gInN0cmluZyIpIHsKICAgICAg");
    sb.append("Ly8gbGV0J3Mgc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGJyYWNrZXRzCiAgICAgIHZhciBz");
    sb.append("ID0gZHQ7CiAgICAgIHZhciBrID0gcy5pbmRleE9mKCdbJyk7CiAgICAgIGlmIChrID49IDApIHsKICAg");
    sb.append("ICAgICBzID0gcy5zdWJzdHJpbmcoMCwgayk7CiAgICAgIH0KICAgICAgdmFyIGQgPSBEYXRlLnBhcnNl");
    sb.append("KHMpOwogICAgICBpZiAoTnVtYmVyLmlzTmFOKGQpKSB7CiAgICAgICAgLy8gaXQgaXNuJ3QgYSBudW1i");
    sb.append("ZXIsIHNvIHdlIGRpZG4ndCBnZXQgYSBkYXRlIHN0YW1wOyBkZWZhdWx0IHRvIHRoZSBpbnB1dAogICAg");
    sb.append("ICAgIHJldHVybiBkdDsKICAgICAgfQogICAgICAvLyB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBwcm9kdWNp");
    sb.append("bmcgYSBzdHJpbmcgbGlrZSAiWCBtaW51dGVzIGFnbyIsIHNvIHN0YXJ0IHdpdGggc2Vjb25kcwogICAg");
    sb.append("ICB2YXIgZGVsdGEgPSAoRGF0ZS5ub3coKSAtIGQpLzEwMDA7IC8vIHNlY29uZHM7CiAgICAgIGlmIChk");
    sb.append("ZWx0YSA8IDYwKSB7CiAgICAgICAgcmV0dXJuICJMZXNzIHRoYW4gYSBtaW51dGUgYWdvIjsKICAgICAg");
    sb.append("fQogICAgICAvLyBpdCB3YXNuJ3QgOTAgc2Vjb25kcyBhZ28gb3IgbGVzcywgc28gbGV0J3MgcmVmaW5l");
    sb.append("IHRvd2FyZHMgbWludXRlcwogICAgICBkZWx0YSAvPSA2MDsgLy8gbm93IGl0IGlzIG1pbnV0ZXMKICAg");
    sb.append("ICAgaWYgKGRlbHRhIDwgNjApIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkZWx0YSkgKyAiIG1p");
    sb.append("bnV0ZXMgYWdvIjsKICAgICAgfQogICAgICBpZiAoZGVsdGEgPiAyLjYyOGUrNykgewogICAgICAgIHJl");
    sb.append("dHVybiAiTmV2ZXIiOwogICAgICB9CiAgICAgIC8vIGl0IHdhc24ndCA5MCBtaW51dGVzIGFnbywgc28g");
    sb.append("bGV0J3MganVzdCBwdXQgdGhlIHRpbWUgc3RhbXAgdXAKICAgICAgdmFyIGR0aGVuID0gbmV3IERhdGUo");
    sb.append("ZCk7CiAgICAgIHZhciBkbm93ID0gbmV3IERhdGUoKTsKICAgICAgaWYgKGR0aGVuLnRvTG9jYWxlRGF0");
    sb.append("ZVN0cmluZygpICE9IGRub3cudG9Mb2NhbGVEYXRlU3RyaW5nKCkpIHsKICAgICAgICByZXR1cm4gZHRo");
    sb.append("ZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBkdGhlbi50b0xvY2FsZVRpbWVTdHJpbmcoKTsK");
    sb.append("ICAgICAgfQogICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9OwoKICB0cmFuc2Zv");
    sb.append("cm1zWyd0aW1lJ10gPSBmdW5jdGlvbihkdCkgewogICAgICAgIC8vIG9ubHkgdHJhbnNmb3JtIHN0cmlu");
    sb.append("Z3MKICAgIGlmICh0eXBlb2YgKGR0KSA9PSAic3RyaW5nIikgewogICAgICAvLyBsZXQncyBzdHJpcCBv");
    sb.append("dXQgZXZlcnl0aGluZyBhZnRlciB0aGUgYnJhY2tldHMKICAgICAgdmFyIHMgPSBkdDsKICAgICAgdmFy");
    sb.append("IGsgPSBzLmluZGV4T2YoJ1snKTsKICAgICAgaWYgKGsgPj0gMCkgewogICAgICAgIHMgPSBzLnN1YnN0");
    sb.append("cmluZygwLCBrKTsKICAgICAgfQoKICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gdGltZSBmb3JtYXQK");
    sb.append("ICAgICAgdmFyIHQgPSBkdC5pbmRleE9mKCI6Iik7CiAgICAgIGlmICh0IDwgMCkgewogICAgICAgIHJl");
    sb.append("dHVybiBkdDsKICAgICAgfQogICAgICB2YXIgaCA9IGR0LnNwbGl0KCI6IilbMF07CiAgICAgIHZhciBo");
    sb.append("b3VycyA9IGg7CiAgICAgIGlmIChoLmxlbmd0aCA+IDIpIHsKICAgICAgICBob3VycyA9IGguc3Vic3Ry");
    sb.append("aW5nKGgubGVuZ3RoIC0gMiwgaC5sZW5ndGgpOyAvLyB0cmltIGxlZnQgaW4gY2FzZSBvZiBkYXRldGlt");
    sb.append("ZQogICAgICB9CiAgICAgIHZhciBBbU9yUG0gPSBob3VycyA+PSAxMiA/ICdwbScgOiAnYW0nOwogICAg");
    sb.append("ICBob3VycyA9IChob3VycyAlIDEyKSB8fCAxMjsKICAgICAgdmFyIG0gPSBkdC5zcGxpdCgiOiIpWzFd");
    sb.append("CiAgICAgIHZhciBtaW51dGVzID0gbTsKICAgICAgaWYgKG0ubGVuZ3RoID4gMikgewogICAgICAgIG1p");
    sb.append("bnV0ZXMgPSBtLnN1YnN0cmluZygwLDIpOyAvLyB0cmltIHJpZ2h0IGluIGNhc2Ugb2YgZGF0ZXRpbWUK");
    sb.append("ICAgICAgfQoKICAgICAgcmV0dXJuIGhvdXJzICsgIjoiICsgbWludXRlcyArICIgIiArIEFtT3JQbTsg");
    sb.append("CiAgICB9IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBkdDsKICAgIH0KICB9");
    sb.append("OwoKICBzZWxmLlJUUiA9IGZ1bmN0aW9uKG5hbWUsIHRyYW5zZm9ybSkgewogICAgdHJhbnNmb3Jtc1tu");
    sb.append("YW1lXSA9IHRyYW5zZm9ybTsKICB9OwogIHNlbGYucmVnaXN0ZXJUcmFuc2Zvcm0gPSBzZWxmLlJUUjsK");
    sb.append("CiAgLy8ge2JsYWh8bmFtZX0KICBzZWxmLlRSID0gZnVuY3Rpb24obmFtZSkgewogICAgaWYgKG5hbWUg");
    sb.append("aW4gdHJhbnNmb3JtcykgewogICAgICByZXR1cm4gdHJhbnNmb3Jtc1tuYW1lXTsKICAgIH0KICAgIHJl");
    sb.append("dHVybiBmdW5jdGlvbih4KSB7IHJldHVybiB4OyB9OwogIH07CgogIC8vIFRPRE8KICB2YXIgdmFsaWRh");
    sb.append("dG9ycyA9IHt9OwogIHNlbGYuUlYgPSBmdW5jdGlvbihuYW1lLCB2YWxpZGF0b3IpIHsKICAgIHZhbGlk");
    sb.append("YXRvcnNbbmFtZV0gPSB2YWxpZGF0b3I7CiAgfTsKICBzZWxmLnJlZ2lzdGVyVmFsaWRhdG9yID0gc2Vs");
    sb.append("Zi5SVjsKCiAgdmFyIGNvbW1vblB1dCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1l");
    sb.append("LCByeG9iaiwgdXJsZmFjdG9yeSkgewogICAgLy8gV0lQCiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsgfTsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewog");
    sb.append("ICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIGZh");
    sb.append("bHNlKTsKICAgICAgLy8gVE9ETzogdGhpcyBhc3N1bWVzIGV4YWN0bHkgb25lIHBhc3N3b3JkIGluIHRo");
    sb.append("ZSByb290IG1lc3NhZ2UKICAgICAgdmFyIHB3cyA9IGdldF9wYXNzd29yZChmb3JtKTsKCiAgICAgIHZh");
    sb.append("ciBuZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1cmwgPSB1cmxmYWN0b3J5KHJ4b2JqKTsK");
    sb.append("ICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICB4aHR0cC5vbnJl");
    sb.append("YWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRl");
    sb.append("ID09IDQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAg");
    sb.append("IHZhciB0eXBlID0gdGhpcy5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIik7CiAgICAgICAg");
    sb.append("ICAgICAgaWYgKHR5cGUgPT0gInRleHQvZXJyb3IiKSB7CiAgICAgICAgICAgICAgICBmaXJlX2ZhaWx1");
    sb.append("cmUoZm9ybSwgdGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAg");
    sb.append("ICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiYXBwbGljYXRpb24vanNvbiIpIHsKICAgICAgICAgICAg");
    sb.append("ICAgIHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAg");
    sb.append("ICAgICBpZiAoJ2lkZW50aXR5JyBpbiBwYXlsb2FkKSB7CiAgICAgICAgICAgICAgICAgIGlkZW50aXRp");
    sb.append("ZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgICAgICAgICAgIGxvY2Fs");
    sb.append("U3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5");
    sb.append("KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHJ4b2JqLnJ4X2ZvcndhcmQsIGZhbHNlKTsKICAgICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7");
    sb.append("CiAgICAgICAgICAgICAgZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgic3VibWl0dGVkIikpOwog");
    sb.append("ICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVk");
    sb.append("IHRvIGNvbW11bmljYXRlIHRvIHNlcnZlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfTsKICAgICAgICB4aHR0cC5vcGVuKCJQVVQiLCB1cmwsIHRydWUpOwogICAgICAgIHhodHRwLndp");
    sb.append("dGhDcmVkZW50aWFscyA9IHRydWU7CiAgICAgICAgeGh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShyZXEp");
    sb.append("KTsKICAgICAgfTsKCiAgICAgIGlmIChwd3MgIT09IG51bGwpIHsKICAgICAgICBjb25uZWN0aW9uLkRv");
    sb.append("Y3VtZW50c0hhc2hQYXNzd29yZChwd3NbMV0sIHsKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICho");
    sb.append("YXNoZWRfcHcpIHsKICAgICAgICAgICAgcmVxW3B3c1swXV0gPSBoYXNoZWRfcHcucGFzc3dvcmRIYXNo");
    sb.append("OwogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICB9LAogICAgICAgICAgZmFpbGVkOiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dv");
    sb.append("cmQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0KCk7");
    sb.append("CiAgICAgIH0KICAgIH0sIHRydWUpOwogIH0KCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46");
    sb.append("cHV0CiAgc2VsZi5hZERQVVQgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhv");
    sb.append("YmopIHsKICAgIGNvbW1vblB1dChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaiwgZnVuY3Rp");
    sb.append("b24gKHJ4b2JqKSB7IHJldHVybiBzZWxmLnByb3RvY29sICsgIi8vIiArIHNlbGYuaG9zdCArICIvIiAr");
    sb.append("IHJ4b2JqLnBhdGg7IH0pCiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb2N1bWVudDpwdXQK");
    sb.append("ICBzZWxmLmFEUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7");
    sb.append("CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmosIGZ1bmN0aW9uIChy");
    sb.append("eG9iaikgeyByZXR1cm4gImh0dHBzOi8vIiArIGNvbm5lY3Rpb24uaG9zdCArICIvIiArIHJ4b2JqLnNw");
    sb.append("YWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgcnhvYmoucGF0aDsgfSkKICB9OwoKICAvLyBSVU5U");
    sb.append("SU1FIHwgcng6YWN0aW9uPWFkYW1hOnNpZ24taW4KICBzZWxmLmFTTyA9IGZ1bmN0aW9uIChmb3JtLCBz");
    sb.append("dGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07");
    sb.append("CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJlY2FsbF9lbWFpbChmb3Jt");
    sb.append("KTsKICAgIH0sIDEpOwogICAgLy8gVE9ETzogcHVsbCBlbWFpbCBvdXQgb2YgdGhpbiBhaXIKICAgIGZv");
    sb.append("cm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJl");
    sb.append("dmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBp");
    sb.append("ZiAocmVxLnJlbWVtYmVyKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVt");
    sb.append("YmVyIiwgcmVxLmVtYWlsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRl");
    sb.append("bSgiZW1haWxfcmVtZW1iZXIiLCAiIik7CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5BY2NvdW50TG9n");
    sb.append("aW4ocmVxLmVtYWlsLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5");
    sb.append("bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0");
    sb.append("eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1l");
    sb.append("LCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkLCBm");
    sb.append("YWxzZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWls");
    sb.append("dXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkFjY291");
    sb.append("bnRMb2dpbiBGYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHRydWUp");
    sb.append("OwogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2lnbi11cAogIHNlbGYuYVNVID0g");
    sb.append("ZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5l");
    sb.append("cignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAg");
    sb.append("ICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0pOwogICAgICBjb25uZWN0aW9uLkluaXRTZXR1cEFjY291");
    sb.append("bnQocmVxLmVtYWlsLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKC8qIHBheWxvYWQgKi8pIHsK");
    sb.append("ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbCIsIHJlcS5lbWFpbCk7CiAgICAgICAg");
    sb.append("ICBzZWxmLmdvdG8oZm9yd2FyZFRvLCBmYWxzZSk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7");
    sb.append("CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBm");
    sb.append("aXJlX2ZhaWx1cmUoZm9ybSwgIkluaXRTZXR1cEFjY291bnQgRmFpbGVkOiIgKyByZWFzb24pOwogICAg");
    sb.append("ICAgIH0KICAgICAgfSk7CiAgICB9LCB0cnVlKTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9u");
    sb.append("PWFkYW1hOnNldC1wYXNzd29yZAogIHNlbGYuYVNQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3");
    sb.append("YXJkVG8pIHsKICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2dCkg");
    sb.append("ewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0s");
    sb.append("IHRydWUpOwogICAgICBpZiAoISgiZW1haWwiIGluIHJlcSkpIHsKICAgICAgICByZXEuZW1haWwgPSBs");
    sb.append("b2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKTsKICAgICAgfQogICAgICBjb25uZWN0aW9uLkluaXRD");
    sb.append("b21wbGV0ZUFjY291bnQocmVxLmVtYWlsLCBmYWxzZSwgcmVxLmNvZGUsIHsKICAgICAgICBzdWNjZXNz");
    sb.append("OiBmdW5jdGlvbiAoaW5pdCkgewogICAgICAgICAgdmFyIGlkZW50aXR5ID0gaW5pdC5pZGVudGl0eTsK");
    sb.append("ICAgICAgICAgIGNvbm5lY3Rpb24uQWNjb3VudFNldFBhc3N3b3JkKGluaXQuaWRlbnRpdHksIHJlcS5w");
    sb.append("YXNzd29yZCwgewogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg");
    sb.append("bG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5X2RlZmF1bHQiLCBpZGVudGl0eSk7CiAgICAgICAg");
    sb.append("ICAgICAgc2VsZi5nb3RvKGZvcndhcmRUbywgZmFsc2UpOwogICAgICAgICAgICAgIGZpcmVfc3VjY2Vz");
    sb.append("cyhmb3JtKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNv");
    sb.append("bikgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIEFjY291bnRTZXRQYXNz");
    sb.append("d29yZDoiICsgcmVhc29uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9y");
    sb.append("bSwgIkZhaWxlZCBJbml0Q29tcGxldGVBY2NvdW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAg");
    sb.append("fSk7CiAgICB9LCB0cnVlKTsKICB9OwoKCiAgdmFyIGh5ZHJhdGVfZm9ybSA9IGZ1bmN0aW9uKGVsLCBp");
    sb.append("bnB1dCkgewogICAgdmFyIHRhZyA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIHZhciBpc1Nl");
    sb.append("dHRhYmxlID0gdGFnID09ICJTRUxFQ1QiIHx8IHRhZyA9PSAiSU5QVVQiIHx8IHRhZyA9PSAiSElEREVO");
    sb.append("IjsKICAgIGlmICgnbmFtZScgaW4gZWwgJiYgaXNTZXR0YWJsZSkgewogICAgICB2YXIgbmFtZSA9IGVs");
    sb.append("Lm5hbWU7CiAgICAgIHZhciBwYXlsb2FkID0gaW5wdXQ7CiAgICAgIHZhciBrRG90T3JTbGFzaCA9IGZp");
    sb.append("cnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgd2hpbGUg");
    sb.append("KGtEb3RPclNsYXNoID4gMCkgewogICAgICAgIHZhciBpdGVtID0gbmFtZS5zdWJzdHJpbmcoMCwga0Rv");
    sb.append("dE9yU2xhc2gpOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwog");
    sb.append("ICAgICAgIGlmIChpdGVtIGluIHBheWxvYWQpIHsKICAgICAgICAgIHBheWxvYWQgPSBwYXlsb2FkW2l0");
    sb.append("ZW1dOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGtE");
    sb.append("b3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykp");
    sb.append("OwogICAgICB9CiAgICAgIGlmIChuYW1lIGluIHBheWxvYWQpIHsKICAgICAgICB2YXIgdHlwZSA9IGVs");
    sb.append("LnR5cGUudG9VcHBlckNhc2UoKTsKICAgICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAg");
    sb.append("ICAgICBlbC5jaGVja2VkID0gcGF5bG9hZFtuYW1lXSA9PSAidHJ1ZSIgfHwgcGF5bG9hZFtuYW1lXSA9");
    sb.append("PT0gdHJ1ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikg");
    sb.append("ewogICAgICAgICAgaWYgKHBheWxvYWRbbmFtZV0gPT0gZWwudmFsdWUpIHsKICAgICAgICAgICAgZWwu");
    sb.append("Y2hlY2tlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsLnZh");
    sb.append("bHVlID0gcGF5bG9hZFtuYW1lXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICgiY2hpbGRy");
    sb.append("ZW4iIGluIGVsKSB7CiAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgdmFyIG4gPSBhcnIu");
    sb.append("bGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgIHZhciBjaCA9");
    sb.append("IGVsLmNoaWxkcmVuW2tdOwogICAgICAgIGh5ZHJhdGVfZm9ybShjaCwgaW5wdXQpOwogICAgICB9CiAg");
    sb.append("ICB9CiAgfQoKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbjpjb3B5LWZvcm06JHRhcmdldC1pZAogIHNl");
    sb.append("bGYuYUNGID0gZnVuY3Rpb24oZm9ybSwgdGFyZ2V0Rm9ybUlkKSB7CiAgICBmb3JtLmFkZEV2ZW50TGlz");
    sb.append("dGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsK");
    sb.append("ICAgICAgdmFyIGlucHV0ID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICB2YXIgdGFyZ2V0ID0g");
    sb.append("ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0Rm9ybUlkKTsKICAgICAgaWYgKHRhcmdldCkgewog");
    sb.append("ICAgICAgIGh5ZHJhdGVfZm9ybSh0YXJnZXQsIGlucHV0KTsKICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9y");
    sb.append("bSkKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgImZhaWxlZCB0byBmaW5k");
    sb.append("IGZvcm0gYnkgaWQgJyIgKyB0YXJnZXRGb3JtSWQgKyAiJyIpOwogICAgICB9CiAgICB9LCB0cnVlKTsK");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPXNlbmQ6JGNoYW5uZWwKICBzZWxmLmFTRCA9IGZ1");
    sb.append("bmN0aW9uIChmb3JtLCBzdGF0ZSwgY2hhbm5lbCkgewogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdz");
    sb.append("dWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2");
    sb.append("YXIgbXNnID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICBpZiAoZXZ0LnN1Ym1pdHRlcikgewog");
    sb.append("ICAgICAgIHZhciBzID0gZXZ0LnN1Ym1pdHRlcjsKICAgICAgICBpZiAocy5uYW1lICYmIHMudmFsdWUp");
    sb.append("IHsKICAgICAgICAgIGlmIChzLnZhbHVlID09ICJ0cnVlIikgeyBzLnZhbHVlID0gdHJ1ZTsgfQogICAg");
    sb.append("ICAgICAgZWxzZSBpZiAocy52YWx1ZSA9PSAiZmFsc2UiKSB7IHMudmFsdWUgPSBmYWxzZTsgfQogICAg");
    sb.append("ICAgICAgbXNnW3MubmFtZV0gPSBzLnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBUT0RP");
    sb.append("OiBwYXNzIHRocm91Z2ggdGhlIGRlYnVnZ2VyCiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIu");
    sb.append("c2VuZChjaGFubmVsLCBtc2csIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoLyogcGF5bG9hZCAq");
    sb.append("LykgewogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVy");
    sb.append("ZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJTZW5kIGZh");
    sb.append("aWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgdHJ1ZSk7CiAgfTsKICAv");
    sb.append("LyA8dG9kb3Rhc2s+ZGVzY3JpcHRpb248L3RvZG90YXNrPgogIHNlbGYuVEFTSyA9IGZ1bmN0aW9uKHBk");
    sb.append("b20sIGlkLCBzZWN0aW9uLCBkZXNjcmlwdGlvbikgewogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5j");
    sb.append("cmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gIiYjOTc0NDsgIiArIGRl");
    sb.append("c2NyaXB0aW9uICsgIiAoICIgKyBzZWN0aW9uICsgIikgPGJyIC8+IjsKICAgIHBkb20uYXBwZW5kQ2hp");
    sb.append("bGQoZWxlbWVudCk7CiAgfTsKICAvLyBSVU5USU1FOiBwcmUtY29tcHJlc3Npb24gZm9yIHNldHRpbmcg");
    sb.append("YW4gYXR0cmlidXRlCiAgLy8gImQuc2V0QXR0cmlidXRlKGEsdik7IiAtLT4KICAvLyAkLlNBKGQsYSx2");
    sb.append("KTsiCiAgc2VsZi5TQSA9IGZ1bmN0aW9uKGRvbSwgYXR0ciwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRy");
    sb.append("aWJ1dGUoYXR0ciwgdmFsdWUpOwogIH07CiAgLy8gZm9yIHNlbGVjdHMKICAvLyBkLnZhbHVlPSR2YWx1");
    sb.append("ZTsKICAvLyAkLlNWKGQsJHZhbHVlKTsKICBzZWxmLlNWID0gZnVuY3Rpb24oZG9tLCB2YWx1ZSkgewog");
    sb.append("ICAgZG9tLnZhbHVlID0gdmFsdWU7CiAgICBkb20ucnh2YWx1ZSA9IHZhbHVlOwogIH07CiAgc2VsZi5t");
    sb.append("ZXJnZUdvdG8gPSBmdW5jdGlvbihocmVmLCBzdGF0ZSkgewogICAgdmFyIHBhcnRzID0gKGhyZWYuc3Rh");
    sb.append("cnRzV2l0aCgiLyIpID8gaHJlZi5zdWJzdHJpbmcoMSkgOiBocmVmKS5zcGxpdCgiLyIpOwogICAgdmFy");
    sb.append("IG1lcmdlSW5pdCA9IHt9OwogICAgaWYgKHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIG1lcmdlSW5pdCkp");
    sb.append("IHsKICAgICAgc3RhdGUudmlldy50cmVlLnVwZGF0ZShtZXJnZUluaXQpOwogICAgfQogIH07CiAgLy8g");
    sb.append("UlVOVElNRSB8IDwuLi4gaHJlZj0iIiAuLi4+CiAgc2VsZi5IUkVGID0gZnVuY3Rpb24gKGRvbSwgc3Rh");
    sb.append("dGUsIGhyZWYsIG1lcmdlKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKCJocmVmIiwgZml4SHJlZihocmVm");
    sb.append("KSk7CiAgICBkb20ub25jbGljayA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgdmFyIHRyaW1IcmVmID0g");
    sb.append("aHJlZjsKICAgICAgaWYgKHRyaW1IcmVmLnN0YXJ0c1dpdGgoIi8iKSkgewogICAgICAgIHRyaW1IcmVm");
    sb.append("ID0gdHJpbUhyZWYuc3Vic3RyaW5nKDEpOwogICAgICB9CiAgICAgIHZhciBrUSA9IHRyaW1IcmVmLmlu");
    sb.append("ZGV4T2YoJz8nKTsKICAgICAgaWYgKGtRID4gMCkgewogICAgICAgIHRyaW1IcmVmID0gdHJpbUhyZWYu");
    sb.append("c3Vic3RyaW5nKDAsIGtRKTsKICAgICAgfQogICAgICB2YXIgcGFydHMgPSB0cmltSHJlZi5zcGxpdCgi");
    sb.append("LyIpOwogICAgICB2YXIgbWVyZ2VJbml0ID0ge307CiAgICAgIGlmIChyb3V0ZShwYXJ0cywgMCwgcm91");
    sb.append("dGVyLCBtZXJnZUluaXQpKSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYg");
    sb.append("KG1lcmdlKSB7CiAgICAgICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKG1lcmdlSW5pdCk7CiAgICAg");
    sb.append("ICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe21lcmdlOnRydWV9LCAiIiwgZml4SHJlZihocmVm");
    sb.append("KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGYuZ290byhocmVmLCB0cnVlKTsKICAgICAg");
    sb.append("ICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsK");
    sb.append("ICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIGNsYXNzPSIiIC4uLj4KICBzZWxmLkFDID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgdmFsdWUpOwogIH07CiAg");
    sb.append("c2VsZi5BQ0xBU1MgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgeyAvLyB0byBkZXByZWNhdGUgaW4gdGhl");
    sb.append("IGZ1dHVyZQogICAgZG9tLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB2YWx1ZSk7CiAgfTsKICAvLyBSVU5U");
    sb.append("SU1FIHwgPC4uLiBzcmM9IiIgLi4uPgogIHNlbGYuQVNSQyA9IGZ1bmN0aW9uIChkb20sIHZhbHVlKSB7");
    sb.append("CiAgICBkb20uc2V0QXR0cmlidXRlKCJzcmMiLCB2YWx1ZSk7CiAgfTsKICB3aW5kb3cucnhodG1sID0g");
    sb.append("c2VsZjsKICByZXR1cm4gc2VsZjsKfSkoKTsK");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIGJ1bXAoYm0pIHsKICAgIHRyeSB7CiAgICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRw");
    sb.append("UmVxdWVzdCgpOwogICAgICB4aHR0cC5vcGVuKCJQVVQiLCBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIg");
    sb.append("KyB0aGlzLmhvc3QgKyAiL35ibS8iICsgYm0sIHRydWUpOwogICAgICB4aHR0cC5zZW5kKCk7CiAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAvLyBkb24ndCBjYXJlCiAgICB9CiAgfQoKICBsb2cobmFtZSwgYm9k");
    sb.append("eSkgewogICAgdHJ5IHsKICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAg");
    sb.append("IHhodHRwLm9wZW4oIlBVVCIsIGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHRoaXMuaG9zdCArICIv");
    sb.append("fmxnLyIgKyBuYW1lLCB0cnVlKTsKICAgICAgeGh0dHAuc2VuZChib2R5KTsKICAgIH0gY2F0Y2ggKGV4");
    sb.append("KSB7CiAgICAgIC8vIGRvbid0IGNhcmUKICAgIH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUg");
    sb.append("Y29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsKICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRo");
    sb.append("aXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlmIHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhl");
    sb.append("IHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFs");
    sb.append("c2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFuZ2UoZmFsc2UpOwogICAgICB0aGlzLmNhbGxiYWNrcy5m");
    sb.append("b3JFYWNoKGZ1bmN0aW9uIChjYiwgaWQpIHsKICAgICAgICBjYih7ZmFpbHVyZTo5OTl9KTsKICAgICAg");
    sb.append("fSk7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5jbGVhcigpOwogICAgLy8gaWYgd2UgYXJlIGRlYWQs");
    sb.append("IHRoZW4gZG9uJ3QgYWN0dWFsbHkgcmV0cnkKICAgIGlmICh0aGlzLmRlYWQpIHsKICAgICAgcmV0dXJu");
    sb.append("OwogICAgfQogICAgLy8gbWFrZSBzdXJlCiAgICBpZiAoIXRoaXMuc2NoZWR1bGVkKSB7CiAgICAgIC8v");
    sb.append("IHNjaGVkdWxlIGEgcmV0cnk7IGZpcnN0IGNvbXB1dGUgaG93IGxvbmcgdG8gdGFrZQogICAgICAvLyBj");
    sb.append("b21wdXRlIGhvdyBsb25nIHdlIG5lZWQgdG8gd2FpdAogICAgICB2YXIgaGFsdmVBZnRlclNjaGVkdWxl");
    sb.append("ID0gZmFsc2U7CiAgICAgIHRoaXMuYmFja29mZiArPSBNYXRoLnJhbmRvbSgpICogdGhpcy5iYWNrb2Zm");
    sb.append("OwogICAgICBpZiAodGhpcy5iYWNrb2ZmID4gdGhpcy5tYXhpbXVtX2JhY2tvZmYpIHsKICAgICAgICB0");
    sb.append("aGlzLmJhY2tvZmYgPSB0aGlzLm1heGltdW1fYmFja29mZjsKICAgICAgICBoYWx2ZUFmdGVyU2NoZWR1");
    sb.append("bGUgPSB0cnVlOwogICAgICB9CgogICAgICAvLyBzY2hlZHVsZSBpdAogICAgICB0aGlzLnNjaGVkdWxl");
    sb.append("ZCA9IHRydWU7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgICAgc2VsZi5zdGFydCgpOwogICAgICB9LCB0aGlzLmJhY2tvZmYpOwoKICAgICAgLy8g");
    sb.append("d2UganVzdCBzY2hlZHVsZWQgaXQgZm9yIHRoZSBtYXhpbXVtIGJhY2tvZmYgdGltZSwgbGV0J3MgcmVk");
    sb.append("dWNlIHRoZSBiYWNrb2ZmIHNvIHRoZSBuZXh0IG9uZSB3aWxsIGhhdmUgc29tZSBqaXR0ZXIKICAgICAg");
    sb.append("aWYgKGhhbHZlQWZ0ZXJTY2hlZHVsZSkgewogICAgICAgIHRoaXMuYmFja29mZiAvPSAyLjA7CiAgICAg");
    sb.append("IH0KICAgIH0KICB9CgogIC8qKiBzdGFydCB0aGUgY29ubmVjdGlvbiAqLwogIHN0YXJ0KCkgewogICAg");
    sb.append("Ly8gcmVzZXQgdGhlIHN0YXRlCiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB0aGlzLnNjaGVkdWxlZCA9");
    sb.append("IGZhbHNlOwogICAgdGhpcy5kZWFkID0gZmFsc2U7CiAgICB0aGlzLmhhc19oYWRfcGluZyA9IGZhbHNl");
    sb.append("OwogICAgdGhpcy5sYXN0X3BpbmcgPSAwOwogICAgdGhpcy5waW5nX2ZhaWx1cmVzID0gMDsKICAgIC8v");
    sb.append("IGNyZWF0ZSB0aGUgc29ja2V0IGFuZCBiaW5kIGV2ZW50IGhhbmRsZXJzCiAgICB0aGlzLnNvY2tldCA9");
    sb.append("IG5ldyBXZWJTb2NrZXQodGhpcy51cmwpOwogICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rp");
    sb.append("b24gKGV2ZW50KSB7CiAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwogICAg");
    sb.append("ICAvLyBhIG1lc3NhZ2UgYXJyaXZlZCwgaXMgaXQgYSBjb25uZWN0aW9uIHNpZ25hbAogICAgICBpZiAo");
    sb.append("InBpbmciIGluIHJlc3VsdCkgewogICAgICAgIHNlbGYub25waW5nKHJlc3VsdC5waW5nLCByZXN1bHQu");
    sb.append("bGF0ZW5jeSk7CiAgICAgICAgcmVzdWx0LnBvbmcgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAu");
    sb.append("MDsKICAgICAgICBzZWxmLnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpOwogICAgICAg");
    sb.append("IHNlbGYubGFzdF9waW5nID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgc2VsZi5oYXNfaGFk");
    sb.append("X3BpbmcgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoInN0YXR1cyIgaW4g");
    sb.append("cmVzdWx0KSB7CiAgICAgICAgLy8gaGV5LCBhcmUgd2UgY29ubmVjdGVkPwogICAgICAgIGlmIChyZXN1");
    sb.append("bHQuc3RhdHVzICE9ICJjb25uZWN0ZWQiKSB7CiAgICAgICAgICAvLyBub3BlLCBPSywgbGV0J3MgbWFr");
    sb.append("ZSB0aGlzIGEgZGVhZCBzb2NrZXQKICAgICAgICAgIHNlbGYuc29ja2V0LmNsb3NlKCk7CiAgICAgICAg");
    sb.append("ICBzZWxmLnNvY2tldCA9IG51bGw7CiAgICAgICAgICBzZWxmLmJhY2tvZmYgPSBzZWxmLnJlc2V0X2Jh");
    sb.append("Y2tvZmY7CiAgICAgICAgICBzZWxmLl9yZXRyeSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0K");
    sb.append("ICAgICAgICAvLyB0ZWxsIHRoZSBjbGllbnQgdGhhdCB3ZSBhcmUgZ29vZCEKICAgICAgICBzZWxmLmJh");
    sb.append("Y2tvZmYgPSAxOwogICAgICAgIHNlbGYuY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICBzZWxmLmFzc2V0");
    sb.append("cyA9IHJlc3VsdC5hc3NldHM7CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSh0cnVlKTsKICAgICAg");
    sb.append("ICBzZWxmLl9yZWNvbm5lY3QoKTsKICAgICAgICBzZWxmLkNvbmZpZ3VyZU1ha2VPckdldEFzc2V0S2V5");
    sb.append("KHsKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICAgIHRyeSB7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAg");
    sb.append("ICAgeGh0dHAub3BlbigiR0VUIiwgbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5ob3N0ICsg");
    sb.append("Ii9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0cC53aXRoQ3Jl");
    sb.append("ZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAgICAgICAgfSBj");
    sb.append("YXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQgd2FzIGEgZmFp");
    sb.append("bHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8vIGZpbmQgdGhl");
    sb.append("IGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlmIChzZWxmLmNh");
    sb.append("bGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBzZWxmLmNhbGxi");
    sb.append("YWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAgICAgICAgIHNl");
    sb.append("bGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNiKHJlc3VsdCk7");
    sb.append("CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBpbiByZXN1bHQp");
    sb.append("IHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQncyBmaW5kIHRo");
    sb.append("ZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2VsZi5jYWxsYmFj");
    sb.append("a3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5jYWxsYmFja3Mu");
    sb.append("Z2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAgICBpZiAocmVz");
    sb.append("dWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVzdWx0LmRlbGl2");
    sb.append("ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldmVu");
    sb.append("dCkgewogICAgICBzZWxmLmJ1bXAoInIiKTsKICAgICAgLy8gbGV0J3MgcmV0cnkuLi4gb3Igc2hvdWxk");
    sb.append("IHdlIG5vdAogICAgICBzZWxmLl9yZXRyeSgpOwogICAgfTsKICAgIHRoaXMuc29ja2V0Lm9uZXJyb3Ig");
    sb.append("PSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgc2VsZi5idW1wKCJyIik7CiAgICAgIC8vIHNvbWV0aGlu");
    sb.append("ZyBiYWQgaGFwcGVuZWQsIGxldCdzIHJldHJ5CiAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICB9OwoKICB9");
    sb.append("CgogIGtlZXBhbGl2ZSgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHdpbmRvdy5zZXRJbnRlcnZh");
    sb.append("bChmdW5jdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoc2VsZi5oYXNfaGFkX3BpbmcgJiYg");
    sb.append("c2VsZi5zb2NrZXQpIHsKICAgICAgICAgIHZhciB0aW1lU2luY2VMYXN0UGluZyA9IG5ldyBEYXRlKCku");
    sb.append("Z2V0VGltZSgpIC0gc2VsZi5sYXN0X3Bpbmc7CiAgICAgICAgICAvLyBUT0RPOiBicm9hZGNhc3QgYSBs");
    sb.append("YXRlbmN5CiAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFBpbmcgPiAyNTAwKSB7CiAgICAgICAgICAg");
    sb.append("IHNlbGYucGluZ19mYWlsdXJlcysrOwogICAgICAgICAgICBpZiAoc2VsZi5waW5nX2ZhaWx1cmVzID49");
    sb.append("IDMpIHsKICAgICAgICAgICAgICBzZWxmLmhhc19oYWRfcGluZyA9IGZhbHNlOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgICAgIHNlbGYuc29j");
    sb.append("a2V0LmNsb3NlKCk7CiAgICAgICAgICAgICAgc2VsZi5zb2NrZXQgPSBudWxsOwogICAgICAgICAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICAgICAgICAgICAgc2VsZi5idW1wKCJkIik7CiAgICAgICAgICAgICAg");
    sb.append("Y29uc29sZS5lcnJvcigiaGFkIHRvIGZvcmNlIGEgZGlzY29ubmVjdCIpOwogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBpbmdfZmFpbHVyZXMgPSAwOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7");
    sb.append("CiAgICAgIH0KICAgIH0sIDEyNTApOwogIH0KCiAgLyoqIHByaXZhdGU6IHNlbmQgYSByYXcgbWVzc2Fn");
    sb.append("ZSAqLwogIF93cml0ZShyZXF1ZXN0LCBjYWxsYmFjaykgewogICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkg");
    sb.append("ewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5p");
    sb.append("ZCwgY2FsbGJhY2spOwogICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7");
    sb.append("CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIC8qKiBhcGk6IHdhaXQgZm9yIGEgY29ubmVjdGlvbiAqLwog");
    sb.append("IGFzeW5jIHdhaXRfY29ubmVjdGVkKCkgewogICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7CiAgICAgIHJl");
    sb.append("dHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZ29vZCkgewogICAgICAgIGdvb2QodHJ1ZSk7CiAgICAg");
    sb.append("IH0pOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("aGlzLm9uc3RhdHVzY2hhbmdlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2Qp");
    sb.append("IHsKICAgICAgICBzZWxmLm9uc3RhdHVzY2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cykgewogICAgICAg");
    sb.append("ICAgcHJpb3Ioc3RhdHVzKTsKICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgZ29vZCh0");
    sb.append("cnVlKTsKICAgICAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IHByaW9yOwogICAgICAgICAgfQog");
    sb.append("ICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KCiAgX3JlY29ubmVjdCgpIHsKICAgIHRoaXMub25y");
    sb.append("ZWNvbm5lY3QuZm9yRWFjaChmdW5jdGlvbiAoc20sIGlkKSB7CiAgICAgIHNtLl9fcmV0cnkoKTsKICAg");
    sb.append("IH0pOwogIH0KCiAgLyoqIGV4ZWN1dGUgYSByZXF1ZXNlIHJlc3BvbnNlIHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfcnIoc20pIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHNtLmZpcnN0ID0gdHJ1ZTsKICAgIGlmICghc2VsZi5fd3JpdGUoc20ucmVxdWVzdCwgZnVuY3Rpb24g");
    sb.append("KHJlc3BvbnNlKSB7CiAgICAgIGlmIChzbS5maXJzdCkgewogICAgICAgIHNtLmZpcnN0ID0gZmFsc2U7");
    sb.append("CiAgICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgICAgaWYgKCdmYWlsdXJl");
    sb.append("JyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLmZhaWx1cmUocmVzcG9u");
    sb.append("c2UucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCdzdWNj");
    sb.append("ZXNzJyBpbiBzbS5yZXNwb25kZXIpIHsKICAgICAgICAgICAgc20ucmVzcG9uZGVyLnN1Y2Nlc3MocmVz");
    sb.append("cG9uc2UucmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBzZWxmLm9u");
    sb.append("cmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICB9KSkgewogICAgICBzZWxmLm9ucmVjb25uZWN0LnNl");
    sb.append("dChzbS5pZCwgc20pOwogICAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHNtKTsKICAgICAgfTsKICAgICAgcmV0dXJuIHNtOwogICAgfQogICAgcmV0dXJu");
    sb.append("IG51bGw7CiAgfQoKICAvKiogZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0");
    sb.append("YXRlIG1hY2hpbmUgKi8KICBfX2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICBzZWxmLl93cml0ZShzbS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYg");
    sb.append("KCJmYWlsdXJlIiBpbiByZXNwb25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9u");
    sb.append("ZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAg");
    sb.append("ICAgIH0KICAgICAgICBzZWxmLm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcg");
    sb.append("aW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNw");
    sb.append("b25zZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAg");
    sb.append("aWYgKCdjb21wbGV0ZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29t");
    sb.append("cGxldGUoKTsKICAgICAgICB9CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwog");
    sb.append("ICAgICB9CiAgICB9KTsKICAgIHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5f");
    sb.append("X3JldHJ5ID0gZnVuY3Rpb24gKCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAg");
    sb.append("fTsKICAgIHJldHVybiBzbTsKICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0");
    sb.append("dXJuIHRoaXMubmV4dElkOwogIH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2Nv");
    sb.append("dW50KGVtYWlsLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0");
    sb.append("L3NldHVwLWFjY291bnQiLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJ");
    sb.append("bml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJh");
    sb.append("Y2Nlc3MtdG9rZW4iOiBhY2Nlc3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50");
    sb.append("KGVtYWlsLCByZXZva2UsIGNvZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImluaXQvY29tcGxldGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAi");
    sb.append("cmV2b2tlIjogcmV2b2tlLCAiY29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dv");
    sb.append("cmQoaWRlbnRpdHksIHBhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJhY2NvdW50L3NldC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50");
    sb.append("aXR5LCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBs");
    sb.append("YW4oaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFj");
    sb.append("Y291bnQvZ2V0LXBheW1lbnQtcGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQog");
    sb.append("ICAgfSk7CiAgfQogIEFjY291bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVy");
    sb.append("LAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1h");
    sb.append("aWwiOiBlbWFpbCwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRp");
    sb.append("dHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgU3RhdHMocmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InN0YXRzIiwgImlkIjpwYXJJZH0K");
    sb.append("ICAgIH0pOwogIH0KICBJZGVudGl0eUhhc2goaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6ImlkZW50aXR5L2hhc2giLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBJZGVudGl0eVN0YXNoKGlkZW50aXR5LCBuYW1lLCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpZGVudGl0eS9zdGFzaCIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibmFtZSI6IG5hbWV9CiAgICB9KTsKICB9CiAg");
    sb.append("QXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlkZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3Jl");
    sb.append("LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICBy");
    sb.append("ZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJhdXRob3JpdHkiOiBhdXRob3JpdHks");
    sb.append("ICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwogIH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHks");
    sb.append("IGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0");
    sb.append("aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5Ijog");
    sb.append("YXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3ko");
    sb.append("aWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwg");
    sb.append("ImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwogIH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAgfSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXko");
    sb.append("aWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VHZXQoaWRlbnRpdHksIHNwYWNlLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VT");
    sb.append("ZXQoaWRlbnRpdHksIHNwYWNlLCBwbGFuLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDog");
    sb.append("eyJtZXRob2QiOiJzcGFjZS9zZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJwbGFuIjogcGxhbn0KICAgIH0pOwogIH0KICBTcGFjZVJlZGVwbG95S2ljayhp");
    sb.append("ZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("InNwYWNlL3JlZGVwbG95LWtpY2siLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCBy");
    sb.append("eGh0bWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3Nl");
    sb.append("dC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJyeGh0bWwiOiByeGh0bWx9CiAgICB9KTsKICB9CiAgU3BhY2VHZXRSeGh0bWwoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQt");
    sb.append("cnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQog");
    sb.append("ICAgfSk7CiAgfQogIFNwYWNlU2V0UG9saWN5KGlkZW50aXR5LCBzcGFjZSwgYWNjZXNzUG9saWN5LCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcG9saWN5");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAiYWNjZXNz");
    sb.append("LXBvbGljeSI6IGFjY2Vzc1BvbGljeX0KICAgIH0pOwogIH0KICBTcGFjZUdldFBvbGljeShpZGVudGl0");
    sb.append("eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNl");
    sb.append("L2dldC1wb2xpY3kiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3Bh");
    sb.append("Y2V9CiAgICB9KTsKICB9CiAgU3BhY2VNZXRyaWNzKGlkZW50aXR5LCBzcGFjZSwgcHJlZml4LCBtZXRy");
    sb.append("aWNRdWVyeSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uv");
    sb.append("bWV0cmljcyIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwg");
    sb.append("InByZWZpeCI6IHByZWZpeCwgIm1ldHJpYy1xdWVyeSI6IG1ldHJpY1F1ZXJ5fQogICAgfSk7CiAgfQog");
    sb.append("IFNwYWNlRGVsZXRlKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0Um9sZShpZGVudGl0eSwgc3Bh");
    sb.append("Y2UsIGVtYWlsLCByb2xlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBw");
    sb.append("YXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6");
    sb.append("IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2Qi");
    sb.append("OiJzcGFjZS9zZXQtcm9sZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImVtYWlsIjogZW1haWwsICJyb2xlIjogcm9sZX0KICAgIH0pOwogIH0KICBTcGFjZUxp");
    sb.append("c3REZXZlbG9wZXJzKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9z");
    sb.append("dHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2xpc3QtZGV2ZWxvcGVycyIsICJpZCI6cGFySWQsICJpZGVu");
    sb.append("dGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVJlZmxlY3Qo");
    sb.append("aWRlbnRpdHksIHNwYWNlLCBrZXksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6InNwYWNlL3JlZmxlY3QiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNw");
    sb.append("YWNlIjogc3BhY2UsICJrZXkiOiBrZXl9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0KGlkZW50aXR5LCBt");
    sb.append("YXJrZXIsIGxpbWl0LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibWFya2VyIjog");
    sb.append("bWFya2VyLCAibGltaXQiOiBsaW1pdH0KICAgIH0pOwogIH0KICBQdXNoUmVnaXN0ZXIoaWRlbnRpdHks");
    sb.append("IGRvbWFpbiwgc3Vic2NyaXB0aW9uLCBkZXZpY2VJbmZvLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJwdXNoL3JlZ2lzdGVyIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzdWJzY3JpcHRpb24iOiBzdWJzY3JpcHRpb24sICJk");
    sb.append("ZXZpY2UtaW5mbyI6IGRldmljZUluZm99CiAgICB9KTsKICB9CiAgRG9tYWluTWFwKGlkZW50aXR5LCBk");
    sb.append("b21haW4sIHNwYWNlLCBjZXJ0aWZpY2F0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6");
    sb.append("IHsibWV0aG9kIjoiZG9tYWluL21hcCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("ZG9tYWluIjogZG9tYWluLCAic3BhY2UiOiBzcGFjZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9tYWluUmVmbGVjdChpZGVudGl0eSwgZG9tYWluLCByZXNwb25kZXIpIHsK");
    sb.append("ICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJu");
    sb.append("IHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3Bv");
    sb.append("bmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vcmVmbGVjdCIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvbWFp");
    sb.append("bk1hcERvY3VtZW50KGlkZW50aXR5LCBkb21haW4sIHNwYWNlLCBrZXksIHJvdXRlLCBjZXJ0aWZpY2F0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAg");
    sb.append("cmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL21hcC1k");
    sb.append("b2N1bWVudCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlu");
    sb.append("LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgInJvdXRlIjogcm91dGUsICJjZXJ0aWZpY2F0ZSI6");
    sb.append("IGNlcnRpZmljYXRlfQogICAgfSk7CiAgfQogIERvbWFpbkxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikg");
    sb.append("ewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1");
    sb.append("cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbGlzdCIsICJpZCI6cGFy");
    sb.append("SWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIERvbWFpbkxpc3RCeVNwYWNlKGlk");
    sb.append("ZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBp");
    sb.append("ZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhv");
    sb.append("ZCI6ImRvbWFpbi9saXN0LWJ5LXNwYWNlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIERvbWFpbkdldFZhcGlkUHVibGljS2V5KGlkZW50");
    sb.append("aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklk");
    sb.append("ID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRv");
    sb.append("bWFpbi9nZXQtdmFwaWQtcHVibGljLWtleSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5");
    sb.append("LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvbWFpblVubWFwKGlkZW50aXR5LCBkb21h");
    sb.append("aW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi91bm1h");
    sb.append("cCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAg");
    sb.append("fSk7CiAgfQogIERvbWFpbkdldChpZGVudGl0eSwgZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBz");
    sb.append("ZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19l");
    sb.append("eGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAg");
    sb.append("ICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9jdW1lbnRBdXRob3JpemF0");
    sb.append("aW9uKHNwYWNlLCBrZXksIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6YXRpb24iLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFj");
    sb.append("ZSwgImtleSI6IGtleSwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0");
    sb.append("aG9yaXphdGlvbkRvbWFpbihkb21haW4sIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6YXRpb24tZG9tYWluIiwgImlkIjpwYXJJ");
    sb.append("ZCwgImRvbWFpbiI6IGRvbWFpbiwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIERvY3Vt");
    sb.append("ZW50QXV0aG9yaXplKHNwYWNlLCBrZXksIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplIiwgImlkIjpwYXJJ");
    sb.append("ZCwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dv");
    sb.append("cmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZURvbWFpbihkb21haW4s");
    sb.append("IHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoiZG9jdW1lbnQvYXV0aG9yaXplLWRvbWFpbiIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21h");
    sb.append("aW4sICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZH0KICAgIH0pOwogIH0K");
    sb.append("ICBEb2N1bWVudEF1dGhvcml6ZVdpdGhSZXNldChzcGFjZSwga2V5LCB1c2VybmFtZSwgcGFzc3dvcmQs");
    sb.append("IG5ld19wYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFy");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBw");
    sb.append("YXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoi");
    sb.append("ZG9jdW1lbnQvYXV0aG9yaXplLXdpdGgtcmVzZXQiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwg");
    sb.append("ImtleSI6IGtleSwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3");
    sb.append("X3Bhc3N3b3JkIjogbmV3X3Bhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50QXV0aG9yaXplRG9t");
    sb.append("YWluV2l0aFJlc2V0KGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHJlc3Bv");
    sb.append("bmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1k");
    sb.append("b21haW4td2l0aC1yZXNldCIsICJpZCI6cGFySWQsICJkb21haW4iOiBkb21haW4sICJ1c2VybmFtZSI6");
    sb.append("IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29y");
    sb.append("ZH0KICAgIH0pOwogIH0KICBEb2N1bWVudENyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZW50cm9w");
    sb.append("eSwgYXJnLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVu");
    sb.append("dC9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2Us");
    sb.append("ICJrZXkiOiBrZXksICJlbnRyb3B5IjogZW50cm9weSwgImFyZyI6IGFyZ30KICAgIH0pOwogIH0KICBE");
    sb.append("b2N1bWVudERlbGV0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAg");
    sb.append("IHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5");
    sb.append("IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5fQogICAgfSk7CiAgfQogIERvY3Vt");
    sb.append("ZW50TGlzdChpZGVudGl0eSwgc3BhY2UsIG1hcmtlciwgbGltaXQsIHJlc3BvbmRlcikgewogICAgdmFy");
    sb.append("IHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5f");
    sb.append("X2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9saXN0IiwgImlkIjpwYXJJZCwgImlk");
    sb.append("ZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAibWFya2VyIjogbWFya2VyLCAibGltaXQi");
    sb.append("OiBsaW1pdH0KICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZChpZGVudGl0eSwgc3BhY2UsIGtl");
    sb.append("eSwgY2hhbm5lbCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2");
    sb.append("YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAg");
    sb.append("IGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0");
    sb.append("aG9kIjoibWVzc2FnZS9kaXJlY3Qtc2VuZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5");
    sb.append("LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6");
    sb.append("IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmRPbmNlKGlkZW50aXR5LCBzcGFj");
    sb.append("ZSwga2V5LCBkZWR1cGUsIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQtb25jZSIsICJpZCI6cGFySWQsICJp");
    sb.append("ZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImRlZHVwZSI6IGRl");
    sb.append("ZHVwZSwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICB9KTsKICB9CiAg");
    sb.append("Q29ubmVjdGlvbkNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgdmlld2VyU3RhdGUsIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZSIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtl");
    sb.append("eSwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7");
    sb.append("CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAg");
    sb.append("cmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5l");
    sb.append("Y3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5u");
    sb.append("ZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6");
    sb.append("IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsK");
    sb.append("ICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAg");
    sb.append("ICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwg");
    sb.append("ImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dv");
    sb.append("cmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAg");
    sb.append("IHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikg");
    sb.append("ewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAog");
    sb.append("ICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUs");
    sb.append("ICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBm");
    sb.append("dW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("ICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNw");
    sb.append("b25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlv");
    sb.append("bi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBl");
    sb.append("LCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFy");
    sb.append("IHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAg");
    sb.append("aWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1");
    sb.append("ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6");
    sb.append("cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10");
    sb.append("eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJk");
    sb.append("aWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRh");
    sb.append("dGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3Vi");
    sb.append("SWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsg");
    sb.append("bWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("InZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6");
    sb.append("IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0");
    sb.append("aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("CiAgICB9KTsKICB9CiAgQ29ubmVjdGlvbkNyZWF0ZVZpYURvbWFpbihpZGVudGl0eSwgZG9tYWluLCB2");
    sb.append("aWV3ZXJTdGF0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImNvbm5lY3Rpb24vY3JlYXRlLXZpYS1kb21haW4iLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVu");
    sb.append("dGl0eSwgImRvbWFpbiI6IGRvbWFpbiwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfSwKICAgICAg");
    sb.append("c2VuZDogZnVuY3Rpb24oY2hhbm5lbCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFy");
    sb.append("IHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAg");
    sb.append("aWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1");
    sb.append("ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBh");
    sb.append("cklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfSwKICAgICAgcGFzc3dvcmQ6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3");
    sb.append("b3JkLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAg");
    sb.append("ICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25k");
    sb.append("ZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9w");
    sb.append("YXNzd29yZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFt");
    sb.append("ZSwgInBhc3N3b3JkIjogcGFzc3dvcmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAg");
    sb.append("ICAgfSk7CiAgICAgIH0sCiAgICAgIHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1l");
    sb.append("c3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3Bv");
    sb.append("bmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9u");
    sb.append("L3NlbmQtb25jZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5u");
    sb.append("ZWwsICJkZWR1cGUiOiBkZWR1cGUsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAg");
    sb.append("fSwKICAgICAgY2FuQXR0YWNoOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3Vi");
    sb.append("SWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDog");
    sb.append("c3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6");
    sb.append("IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6");
    sb.append("cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwg");
    sb.append("ZmlsZW5hbWUsIGNvbnRlbnRUeXBlLCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVz");
    sb.append("cG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNw");
    sb.append("b25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6");
    sb.append("IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6");
    sb.append("IGZpbGVuYW1lLCAiY29udGVudC10eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2Vz");
    sb.append("dC1tZDUiOiBkaWdlc3RNZDUsICJkaWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0p");
    sb.append("OwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIp");
    sb.append("IHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwK");
    sb.append("ICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQs");
    sb.append("ICJjb25uZWN0aW9uIjpwYXJJZCwgInZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0p");
    sb.append("OwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBz");
    sb.append("dWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlk");
    sb.append("OiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVz");
    sb.append("dDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklk");
    sb.append("fQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHBh");
    sb.append("c3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAog");
    sb.append("ICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVu");
    sb.append("dHMvaGFzaC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7");
    sb.append("CiAgfQogIEJpbGxpbmdDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25k");
    sb.append("ZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYmlsbGluZy1jb25uZWN0aW9uL2NyZWF0ZSIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fSwKICAgICAgc2VuZDogZnVuY3Rpb24oY2hhbm5l");
    sb.append("bCwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7");
    sb.append("CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAg");
    sb.append("cmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5l");
    sb.append("Y3Rpb24vc2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5u");
    sb.append("ZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6");
    sb.append("IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBzdWJSZXNwb25kZXIpIHsK");
    sb.append("ICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7");
    sb.append("CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAg");
    sb.append("ICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9wYXNzd29yZCIsIGlkOiBzdWJJZCwg");
    sb.append("ImNvbm5lY3Rpb24iOnBhcklkLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dv");
    sb.append("cmQsICJuZXdfcGFzc3dvcmQiOiBuZXdfcGFzc3dvcmR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAg");
    sb.append("IHNlbmRPbmNlOiBmdW5jdGlvbihjaGFubmVsLCBkZWR1cGUsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikg");
    sb.append("ewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAog");
    sb.append("ICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQtb25jZSIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJkZWR1cGUiOiBkZWR1cGUs");
    sb.append("ICJtZXNzYWdlIjogbWVzc2FnZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY2FuQXR0YWNoOiBm");
    sb.append("dW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("ICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNw");
    sb.append("b25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlv");
    sb.append("bi9jYW4tYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYXNzZXRJZCwgZmlsZW5hbWUsIGNvbnRlbnRUeXBl");
    sb.append("LCBzaXplLCBkaWdlc3RNZDUsIGRpZ2VzdFNoYTM4NCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFy");
    sb.append("IHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAg");
    sb.append("aWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1");
    sb.append("ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vYXR0YWNoIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6");
    sb.append("cGFySWQsICJhc3NldC1pZCI6IGFzc2V0SWQsICJmaWxlbmFtZSI6IGZpbGVuYW1lLCAiY29udGVudC10");
    sb.append("eXBlIjogY29udGVudFR5cGUsICJzaXplIjogc2l6ZSwgImRpZ2VzdC1tZDUiOiBkaWdlc3RNZDUsICJk");
    sb.append("aWdlc3Qtc2hhMzg0IjogZGlnZXN0U2hhMzg0fQogICAgICAgIH0pOwogICAgICB9LAogICAgICB1cGRh");
    sb.append("dGU6IGZ1bmN0aW9uKHZpZXdlclN0YXRlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3Vi");
    sb.append("SWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsg");
    sb.append("bWV0aG9kOiAiY29ubmVjdGlvbi91cGRhdGUiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("InZpZXdlci1zdGF0ZSI6IHZpZXdlclN0YXRlfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBlbmQ6");
    sb.append("IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0");
    sb.append("aW9uL2VuZCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("CiAgICB9KTsKICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7CiAgICB2");
    sb.append("YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxm");
    sb.append("Ll9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIs");
    sb.append("CiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0LWtleSIs");
    sb.append("ICJpZCI6cGFySWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBzcGFjZSwg");
    sb.append("a2V5LCBmaWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlz");
    sb.append("OwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3Ry");
    sb.append("ZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwg");
    sb.append("ImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVua01k");
    sb.append("NSwgYmFzZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19p");
    sb.append("ZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAg");
    sb.append("ICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJh");
    sb.append("dHRhY2htZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUiOiBj");
    sb.append("aHVua01kNSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9LAog");
    sb.append("ICAgICBmaW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJhdHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAgICAg");
    sb.append("fSk7CiAgICAgIH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnRCeURvbWFpbihpZGVudGl0eSwg");
    sb.append("ZG9tYWluLCBmaWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0");
    sb.append("aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVf");
    sb.append("c3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0LWJ5LWRvbWFpbiIsICJpZCI6cGFySWQs");
    sb.append("ICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAiZmlsZW5hbWUiOiBmaWxlbmFt");
    sb.append("ZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihjaHVu");
    sb.append("a01kNSwgYmFzZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAg");
    sb.append("ICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6");
    sb.append("ICJhdHRhY2htZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1tZDUi");
    sb.append("OiBjaHVua01kNSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAgICB9");
    sb.append("LAogICAgICBmaW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9");
    sb.append("IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJ");
    sb.append("ZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBt");
    sb.append("ZXRob2Q6ICJhdHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAgICAg");
    sb.append("ICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBBZGFt");
    sb.append("YSA9IHsKICBQcm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAogIEJl");
    sb.append("dGE6ICJiZXRhLmFkYW1hLXBsYXRmb3JtLmNvbSIsCiAgQ29ubmVjdGlvbjogV2ViU29ja2V0QWRhbWFD");
    sb.append("b25uZWN0aW9uCn07Cg==");
    return sb.toString();
  }
  public static final String WORKER = new String(Base64.getDecoder().decode(make_worker()), StandardCharsets.UTF_8);
  private static String make_worker() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyogQWRhbWEgd29ya2VyOiBoYW5kbGUgc2ltcGxlIHB1c2ggbm90aWZpY2F0aW9ucyAqLwoKY29uc29s");
    sb.append("ZS5sb2coImFkYW1hIHdvcmtlciBzdGFydGVkIik7CnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcs");
    sb.append("IGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50LmRhdGEpIHsKICAgIHZhciBqc29uID0gZXZlbnQu");
    sb.append("ZGF0YS5qc29uKCk7CiAgICBpZiAoanNvbikgewogICAgICBjb25zb2xlLmxvZyhqc29uKTsKICAgICAg");
    sb.append("dmFyIHB1c2hUb2tlbiA9ICJOQSI7CiAgICAgIGlmICgnQHB0JyBpbiBqc29uKSB7CiAgICAgICAgcHVz");
    sb.append("aFRva2VuID0ganNvblsnQHB0J107CiAgICAgIH0KICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAg");
    sb.append("Ym9keToganNvbi5ib2R5ID8ganNvbi5ib2R5IDogIkdlbmVyaWMgUHVzaCBCb2R5IiwKICAgICAgfTsK");
    sb.append("ICAgICAgaWYgKGpzb24uaWNvbikgewogICAgICAgIG9wdGlvbnMuaWNvbiA9IGpzb24uaWNvbjsKICAg");
    sb.append("ICAgfQogICAgICB2YXIgc2hvdyA9IHRydWU7CiAgICAgIGlmIChqc29uLmhpZGUpIHsKICAgICAgICBz");
    sb.append("aG93ID0gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgaWYgKGpzb24udXJs");
    sb.append("KSB7CiAgICAgICAgZGF0YS51cmwgPSBqc29uLnVybDsKICAgICAgfQogICAgICBvcHRpb25zLmRhdGEg");
    sb.append("PSBkYXRhOwogICAgICBpZiAoc2hvdykgewogICAgICAgIGV2ZW50LndhaXRVbnRpbChzZWxmLnJlZ2lz");
    sb.append("dHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKGpzb24udGl0bGUgPyBqc29uLnRpdGxlIDogIkdlbmVyaWMg");
    sb.append("UHVzaCBUaXRsZSIsIG9wdGlvbnMpKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mKGpzb24uYmFkZ2Up");
    sb.append("ID09ICJudW1iZXIiICYmIG5hdmlnYXRvci5zZXRBcHBCYWRnZSkgewogICAgICAgIHRyeSB7CiAgICAg");
    sb.append("ICAgICBldmVudC53YWl0VW50aWwobmF2aWdhdG9yLnNldEFwcEJhZGdlKGpzb24uYmFkZ2UpKTsKICAg");
    sb.append("ICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgZXZlbnQud2FpdFVu");
    sb.append("dGlsKGZldGNoKHNlbGYubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgc2VsZi5sb2NhdGlvbi5ob3N0");
    sb.append("ICsgIi9+cHQvIiArIHB1c2hUb2tlbiwgewogICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAg");
    sb.append("IGhlYWRlcnM6IHt9LAogICAgICAgICAgYm9keTogcHVzaFRva2VuCiAgICAgICAgfSkpOwogICAgICB9");
    sb.append("IGNhdGNoIChleCkgewogICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAvLyBkb24ndCBjYXJl");
    sb.append("CiAgICAgIH0KICAgIH0KICB9Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdub3RpZmljYXRpb25j");
    sb.append("bGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKGV2ZW50Lm5vdGlmaWNhdGlvbiAmJiBldmVudC5u");
    sb.append("b3RpZmljYXRpb24uZGF0YSAmJiBldmVudC5ub3RpZmljYXRpb24uZGF0YS51cmwpIHsKICAgIHZhciB1");
    sb.append("cmwgPSBzZWxmLmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHNlbGYubG9jYXRpb24uaG9zdCArIGV2");
    sb.append("ZW50Lm5vdGlmaWNhdGlvbi5kYXRhLnVybDsKICAgIHZhciBob21lID0gc2VsZi5sb2NhdGlvbi5wcm90");
    sb.append("b2NvbCArICIvLyIgKyBzZWxmLmxvY2F0aW9uLmhvc3Q7CiAgICBldmVudC5ub3RpZmljYXRpb24uY2xv");
    sb.append("c2UoKTsgLy8gQW5kcm9pZCBuZWVkcyBleHBsaWNpdCBjbG9zZS4KICAgIGV2ZW50LndhaXRVbnRpbCgK");
    sb.append("ICAgICAgY2xpZW50cy5tYXRjaEFsbCh7dHlwZTogJ3dpbmRvdyd9KS50aGVuKCB3YyA9PiB7CiAgICAg");
    sb.append("ICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHdpbmRvdy90YWIgb3BlbiB3aXRoIHRoZSB0");
    sb.append("YXJnZXQgVVJMCiAgICAgICAgdmFyIGNsaWVudFdpdGhQcmVmaXggPSBudWxsOwogICAgICAgIHZhciBj");
    sb.append("bGllbnRXaXRoSG9tZSA9IG51bGw7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Yy5sZW5ndGg7");
    sb.append("IGkrKykgewogICAgICAgICAgdmFyIGNsaWVudCA9IHdjW2ldOwogICAgICAgICAgY29uc29sZS5sb2co");
    sb.append("ImNsaWVudDoiICsgY2xpZW50LnVybCArICI7IiArIHVybCk7CiAgICAgICAgICBpZiAoY2xpZW50LnVy");
    sb.append("bCA9PT0gdXJsICYmICdmb2N1cycgaW4gY2xpZW50KSB7CiAgICAgICAgICAgIHJldHVybiBjbGllbnQu");
    sb.append("Zm9jdXMoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjbGllbnQudXJsLnN0YXJ0c1dpdGgodXJs");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoUHJlZml4ID0g");
    sb.append("Y2xpZW50OwogICAgICAgICAgfQogICAgICAgICAgaWYgKGNsaWVudC51cmwuc3RhcnRzV2l0aChob21l");
    sb.append("KSAmJiAnbmF2aWdhdGUnIGluIGNsaWVudCkgewogICAgICAgICAgICBjbGllbnRXaXRoSG9tZSA9IGNs");
    sb.append("aWVudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNsaWVudFdpdGhQcmVmaXggIT0g");
    sb.append("bnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpwcmVmaXg6IiArIHVybCk7CiAgICAgICAg");
    sb.append("ICByZXR1cm4gY2xpZW50V2l0aFByZWZpeC5uYXZpZ2F0ZSh1cmwpOwogICAgICAgIH0KICAgICAgICBp");
    sb.append("ZiAoY2xpZW50V2l0aEhvbWUgIT0gbnVsbCkgewogICAgICAgICAgY29uc29sZS5sb2coIm5hdjpob21l");
    sb.append("OiIgKyB1cmwpOwogICAgICAgICAgcmV0dXJuIGNsaWVudFdpdGhIb21lLm5hdmlnYXRlKHVybCk7CiAg");
    sb.append("ICAgICAgfQogICAgICAgIGlmIChjbGllbnRzLm9wZW5XaW5kb3cpIHsKICAgICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJvcGVuOm5ldzoiICsgdXJsKTsKICAgICAgICAgIHJldHVybiBjbGllbnRzLm9wZW5XaW5kb3co");
    sb.append("dXJsKTsKICAgICAgICB9CiAgICAgIH0pCiAgICApOwogIH0KfSk7");
    return sb.toString();
  }
}
